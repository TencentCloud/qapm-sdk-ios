!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.QAPM=e():t.QAPM=e()}(window,(function(){return e=[function(t,e){function r(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=r=function(t){return typeof t}:t.exports=r=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(e)}t.exports=r},function(t,e){function r(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}t.exports=function(t){return function(){var e=this,n=arguments;return new Promise((function(i,o){var a=t.apply(e,n);function s(t){r(a,i,o,s,u,"next",t)}function u(t){r(a,i,o,s,u,"throw",t)}s(void 0)}))}}},function(t,e,r){function n(t,e){t.constructor==String?t=(e&&"binary"===e.encoding?s:o).stringToBytes(t):a(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||t.constructor===Uint8Array||(t=t.toString());for(var r=i.bytesToWords(t),u=(e=8*t.length,1732584193),h=-271733879,c=-1732584194,l=271733878,f=0;f<r.length;f++)r[f]=16711935&(r[f]<<8|r[f]>>>24)|4278255360&(r[f]<<24|r[f]>>>8);r[e>>>5]|=128<<e%32,r[14+(64+e>>>9<<4)]=e;var p=n._ff,d=n._gg,g=n._hh,y=n._ii;for(f=0;f<r.length;f+=16){var m=u,v=h,w=c,b=l;u=p(u,h,c,l,r[f+0],7,-680876936),l=p(l,u,h,c,r[f+1],12,-389564586),c=p(c,l,u,h,r[f+2],17,606105819),h=p(h,c,l,u,r[f+3],22,-1044525330);u=p(u,h,c,l,r[f+4],7,-176418897),l=p(l,u,h,c,r[f+5],12,1200080426),c=p(c,l,u,h,r[f+6],17,-1473231341),h=p(h,c,l,u,r[f+7],22,-45705983),u=p(u,h,c,l,r[f+8],7,1770035416),l=p(l,u,h,c,r[f+9],12,-1958414417),c=p(c,l,u,h,r[f+10],17,-42063),h=p(h,c,l,u,r[f+11],22,-1990404162),u=p(u,h,c,l,r[f+12],7,1804603682),l=p(l,u,h,c,r[f+13],12,-40341101),c=p(c,l,u,h,r[f+14],17,-1502002290),u=d(u,h=p(h,c,l,u,r[f+15],22,1236535329),c,l,r[f+1],5,-165796510),l=d(l,u,h,c,r[f+6],9,-1069501632),c=d(c,l,u,h,r[f+11],14,643717713),h=d(h,c,l,u,r[f+0],20,-373897302),u=d(u,h,c,l,r[f+5],5,-701558691),l=d(l,u,h,c,r[f+10],9,38016083),c=d(c,l,u,h,r[f+15],14,-660478335),h=d(h,c,l,u,r[f+4],20,-405537848),u=d(u,h,c,l,r[f+9],5,568446438),l=d(l,u,h,c,r[f+14],9,-1019803690),c=d(c,l,u,h,r[f+3],14,-187363961),h=d(h,c,l,u,r[f+8],20,1163531501),u=d(u,h,c,l,r[f+13],5,-1444681467),l=d(l,u,h,c,r[f+2],9,-51403784),c=d(c,l,u,h,r[f+7],14,1735328473),u=g(u,h=d(h,c,l,u,r[f+12],20,-1926607734),c,l,r[f+5],4,-378558),l=g(l,u,h,c,r[f+8],11,-2022574463),c=g(c,l,u,h,r[f+11],16,1839030562),h=g(h,c,l,u,r[f+14],23,-35309556),u=g(u,h,c,l,r[f+1],4,-1530992060),l=g(l,u,h,c,r[f+4],11,1272893353),c=g(c,l,u,h,r[f+7],16,-155497632),h=g(h,c,l,u,r[f+10],23,-1094730640),u=g(u,h,c,l,r[f+13],4,681279174),l=g(l,u,h,c,r[f+0],11,-358537222),c=g(c,l,u,h,r[f+3],16,-722521979),h=g(h,c,l,u,r[f+6],23,76029189),u=g(u,h,c,l,r[f+9],4,-640364487),l=g(l,u,h,c,r[f+12],11,-421815835),c=g(c,l,u,h,r[f+15],16,530742520),u=y(u,h=g(h,c,l,u,r[f+2],23,-995338651),c,l,r[f+0],6,-198630844),l=y(l,u,h,c,r[f+7],10,1126891415),c=y(c,l,u,h,r[f+14],15,-1416354905),h=y(h,c,l,u,r[f+5],21,-57434055),u=y(u,h,c,l,r[f+12],6,1700485571),l=y(l,u,h,c,r[f+3],10,-1894986606),c=y(c,l,u,h,r[f+10],15,-1051523),h=y(h,c,l,u,r[f+1],21,-2054922799),u=y(u,h,c,l,r[f+8],6,1873313359),l=y(l,u,h,c,r[f+15],10,-30611744),c=y(c,l,u,h,r[f+6],15,-1560198380),h=y(h,c,l,u,r[f+13],21,1309151649),u=y(u,h,c,l,r[f+4],6,-145523070),l=y(l,u,h,c,r[f+11],10,-1120210379),c=y(c,l,u,h,r[f+2],15,718787259),h=y(h,c,l,u,r[f+9],21,-343485551),u=u+m>>>0,h=h+v>>>0,c=c+w>>>0,l=l+b>>>0}return i.endian([u,h,c,l])}var i,o,a,s;i=r(33),o=r(16).utf8,a=r(34),s=r(16).bin,n._ff=function(t,e,r,n,i,o,a){return((t=t+(e&r|~e&n)+(i>>>0)+a)<<o|t>>>32-o)+e},n._gg=function(t,e,r,n,i,o,a){return((t=t+(e&n|r&~n)+(i>>>0)+a)<<o|t>>>32-o)+e},n._hh=function(t,e,r,n,i,o,a){return((t=t+(e^r^n)+(i>>>0)+a)<<o|t>>>32-o)+e},n._ii=function(t,e,r,n,i,o,a){return((t=t+(r^(e|~n))+(i>>>0)+a)<<o|t>>>32-o)+e},n._blocksize=16,n._digestsize=16,t.exports=function(t,e){if(null==t)throw new Error("Illegal argument "+t);return t=i.wordsToBytes(n(t,e)),e&&e.asBytes?t:e&&e.asString?s.bytesToString(t):i.bytesToHex(t)}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){var r;e&&(t.super_=e,(r=function(){}).prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t)}},function(t,e,r){const n=r(18);t.exports={stringToByteArrayInUtf8:function(t){return t=t,("undefined"!=typeof window&&window.TextEncoder?new window.TextEncoder("utf-8"):new(r(20).TextEncoder)).encode(t)},utf8ByteArrayToString:function(t){if(-1!==t)return t=t=Array.isArray(t)?new Uint8Array(t):t,("undefined"!=typeof window&&window.TextDecoder?new window.TextDecoder("utf-8"):new(r(20).TextDecoder)).decode(t)},byteArrayToBase64:function(t){return n.fromByteArray(t)},base64ToByteArray:function(t){return n.toByteArray(t)},byteArrayToHex:function(t){for(let e=0;e<t.length;e++)t[e]=(t[e]>>>0)%256;var e=[];let r=0;for(let n=0;n<2*t.length;n+=2)e[n>>>3]|=parseInt(t[r],10)<<24-n%8*4,r++;var n=[];for(let r=0;r<t.length;r++){var i=e[r>>>2]>>>24-r%4*8&255;n.push((i>>>4).toString(16)),n.push((15&i).toString(16))}return n.join("")},hexToByteArray:function(t){if("string"!=typeof t)throw new TypeError("Expected input to be a string");if(t.length%2!=0)throw new RangeError("Expected string to be an even number of characters");var e=new Uint8Array(t.length/2);for(let r=0;r<t.length;r+=2)e[r/2]=parseInt(t.substring(r,r+2),16);return e},byteArrayToByteArray:function(t){return t}}},function(t,e,r){var n=r(3);const i=r(13).Reporter,o=r(11).Buffer;function a(t,e){i.call(this,e),o.isBuffer(t)?(this.base=t,this.offset=0,this.length=t.length):this.error("Input not Buffer")}function s(t,e){if(Array.isArray(t))this.length=0,this.value=t.map((function(t){return s.isEncoderBuffer(t)||(t=new s(t,e)),this.length+=t.length,t}),this);else if("number"==typeof t){if(!(0<=t&&t<=255))return e.error("non-byte EncoderBuffer value");this.value=t,this.length=1}else if("string"==typeof t)this.value=t,this.length=o.byteLength(t);else{if(!o.isBuffer(t))return e.error("Unsupported type: "+typeof t);this.value=t,this.length=t.length}}n(a,i),(e.DecoderBuffer=a).isDecoderBuffer=function(t){return t instanceof a||"object"==typeof t&&o.isBuffer(t.base)&&"DecoderBuffer"===t.constructor.name&&"number"==typeof t.offset&&"number"==typeof t.length&&"function"==typeof t.save&&"function"==typeof t.restore&&"function"==typeof t.isEmpty&&"function"==typeof t.readUInt8&&"function"==typeof t.skip&&"function"==typeof t.raw},a.prototype.save=function(){return{offset:this.offset,reporter:i.prototype.save.call(this)}},a.prototype.restore=function(t){var e=new a(this.base);return e.offset=t.offset,e.length=this.offset,this.offset=t.offset,i.prototype.restore.call(this,t.reporter),e},a.prototype.isEmpty=function(){return this.offset===this.length},a.prototype.readUInt8=function(t){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(t||"DecoderBuffer overrun")},a.prototype.skip=function(t,e){var r;return this.offset+t<=this.length?((r=new a(this.base))._reporterState=this._reporterState,r.offset=this.offset,r.length=this.offset+t,this.offset+=t,r):this.error(e||"DecoderBuffer overrun")},a.prototype.raw=function(t){return this.base.slice((t||this).offset,this.length)},(e.EncoderBuffer=s).isEncoderBuffer=function(t){return t instanceof s||"object"==typeof t&&"EncoderBuffer"===t.constructor.name&&"number"==typeof t.length&&"function"==typeof t.join},s.prototype.join=function(t,e){return t=t||o.alloc(this.length),e=e||0,0!==this.length&&(Array.isArray(this.value)?this.value.forEach((function(r){r.join(t,e),e+=r.length})):("number"==typeof this.value?t[e]=this.value:"string"==typeof this.value?t.write(this.value,e):o.isBuffer(this.value)&&this.value.copy(t,e),e+=this.length)),t}},function(t,e,r){var n=r(17),i=r(10),o=r(49),a=r(51);r=r(4);t.exports={SM2:n,SM3:i,SM4:o,CSR:a,utils:r}},function(t,e,r){(function(){function e(t,e,r){null!=t&&("number"==typeof t?this.fromNumber(t,e,r):null==e&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,e))}function r(){return new e(null)}for(var n=(n="undefined"!=typeof navigator)&&"Microsoft Internet Explorer"==navigator.appName?(e.prototype.am=function(t,e,r,n,i,o){for(var a=32767&e,s=e>>15;0<=--o;){var u=32767&this[t],h=this[t++]>>15,c=s*u+h*a;i=((u=a*u+((32767&c)<<15)+r[n]+(1073741823&i))>>>30)+(c>>>15)+s*h+(i>>>30),r[n++]=1073741823&u}return i},30):n&&"Netscape"!=navigator.appName?(e.prototype.am=function(t,e,r,n,i,o){for(;0<=--o;){var a=e*this[t++]+r[n]+i;i=Math.floor(a/67108864),r[n++]=67108863&a}return i},26):(e.prototype.am=function(t,e,r,n,i,o){for(var a=16383&e,s=e>>14;0<=--o;){var u=16383&this[t],h=this[t++]>>14,c=s*u+h*a;i=((u=a*u+((16383&c)<<14)+r[n]+i)>>28)+(c>>14)+s*h,r[n++]=268435455&u}return i},28),i=(e.prototype.DB=n,e.prototype.DM=(1<<n)-1,e.prototype.DV=1<<n,e.prototype.FV=Math.pow(2,52),e.prototype.F1=52-n,e.prototype.F2=2*n-52,"0123456789abcdefghijklmnopqrstuvwxyz"),o=new Array,a="0".charCodeAt(0),s=0;s<=9;++s)o[a++]=s;for(a="a".charCodeAt(0),s=10;s<36;++s)o[a++]=s;for(a="A".charCodeAt(0),s=10;s<36;++s)o[a++]=s;function u(t){return i.charAt(t)}function h(t,e){return null==(t=o[t.charCodeAt(e)])?-1:t}function c(t){var e=r();return e.fromInt(t),e}function l(t){var e,r=1;return 0!=(e=t>>>16)&&(t=e,r+=16),0!=(e=t>>8)&&(t=e,r+=8),0!=(e=t>>4)&&(t=e,r+=4),0!=(e=t>>2)&&(t=e,r+=2),0!=(e=t>>1)&&(t=e,r+=1),r}function f(t){this.m=t}function p(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function d(t,e){return t&e}function g(t,e){return t|e}function y(t,e){return t^e}function m(t,e){return t&~e}function v(){}function w(t){return t}function b(t){this.r2=r(),this.q3=r(),e.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}f.prototype.convert=function(t){return t.s<0||0<=t.compareTo(this.m)?t.mod(this.m):t},f.prototype.revert=function(t){return t},f.prototype.reduce=function(t){t.divRemTo(this.m,null,t)},f.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},f.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},p.prototype.convert=function(t){var n=r();return t.abs().dlShiftTo(this.m.t,n),n.divRemTo(this.m,null,n),t.s<0&&0<n.compareTo(e.ZERO)&&this.m.subTo(n,n),n},p.prototype.revert=function(t){var e=r();return t.copyTo(e),this.reduce(e),e},p.prototype.reduce=function(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var r=32767&t[e],n=r*this.mpl+((r*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(t[r=e+this.m.t]+=this.m.am(0,n,t,e,0,this.m.t);t[r]>=t.DV;)t[r]-=t.DV,t[++r]++}t.clamp(),t.drShiftTo(this.m.t,t),0<=t.compareTo(this.m)&&t.subTo(this.m,t)},p.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},p.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},e.prototype.copyTo=function(t){for(var e=this.t-1;0<=e;--e)t[e]=this[e];t.t=this.t,t.s=this.s},e.prototype.fromInt=function(t){this.t=1,this.s=t<0?-1:0,0<t?this[0]=t:t<-1?this[0]=t+this.DV:this.t=0},e.prototype.fromString=function(t,r){var n;if(16==r)n=4;else if(8==r)n=3;else if(256==r)n=8;else if(2==r)n=1;else if(32==r)n=5;else{if(4!=r)return void this.fromRadix(t,r);n=2}this.t=0,this.s=0;for(var i=t.length,o=!1,a=0;0<=--i;){var s=8==n?255&t[i]:h(t,i);s<0?"-"==t.charAt(i)&&(o=!0):(o=!1,0==a?this[this.t++]=s:a+n>this.DB?(this[this.t-1]|=(s&(1<<this.DB-a)-1)<<a,this[this.t++]=s>>this.DB-a):this[this.t-1]|=s<<a,(a+=n)>=this.DB&&(a-=this.DB))}8==n&&0!=(128&t[0])&&(this.s=-1,0<a)&&(this[this.t-1]|=(1<<this.DB-a)-1<<a),this.clamp(),o&&e.ZERO.subTo(this,this)},e.prototype.clamp=function(){for(var t=this.s&this.DM;0<this.t&&this[this.t-1]==t;)--this.t},e.prototype.dlShiftTo=function(t,e){for(var r=this.t-1;0<=r;--r)e[r+t]=this[r];for(r=t-1;0<=r;--r)e[r]=0;e.t=this.t+t,e.s=this.s},e.prototype.drShiftTo=function(t,e){for(var r=t;r<this.t;++r)e[r-t]=this[r];e.t=Math.max(this.t-t,0),e.s=this.s},e.prototype.lShiftTo=function(t,e){for(var r=t%this.DB,n=this.DB-r,i=(1<<n)-1,o=Math.floor(t/this.DB),a=this.s<<r&this.DM,s=this.t-1;0<=s;--s)e[s+o+1]=this[s]>>n|a,a=(this[s]&i)<<r;for(s=o-1;0<=s;--s)e[s]=0;e[o]=a,e.t=this.t+o+1,e.s=this.s,e.clamp()},e.prototype.rShiftTo=function(t,e){e.s=this.s;var r=Math.floor(t/this.DB);if(r>=this.t)e.t=0;else{var n=t%this.DB,i=this.DB-n,o=(1<<n)-1;e[0]=this[r]>>n;for(var a=r+1;a<this.t;++a)e[a-r-1]|=(this[a]&o)<<i,e[a-r]=this[a]>>n;0<n&&(e[this.t-r-1]|=(this.s&o)<<i),e.t=this.t-r,e.clamp()}},e.prototype.subTo=function(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this[r]-t[r],e[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n-=t.s;r<this.t;)n+=this[r],e[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n-=t[r],e[r++]=n&this.DM,n>>=this.DB;n-=t.s}e.s=n<0?-1:0,n<-1?e[r++]=this.DV+n:0<n&&(e[r++]=n),e.t=r,e.clamp()},e.prototype.multiplyTo=function(t,r){var n=this.abs(),i=t.abs(),o=n.t;for(r.t=o+i.t;0<=--o;)r[o]=0;for(o=0;o<i.t;++o)r[o+n.t]=n.am(0,i[o],r,o,0,n.t);r.s=0,r.clamp(),this.s!=t.s&&e.ZERO.subTo(r,r)},e.prototype.squareTo=function(t){for(var e=this.abs(),r=t.t=2*e.t;0<=--r;)t[r]=0;for(r=0;r<e.t-1;++r){var n=e.am(r,e[r],t,2*r,0,1);(t[r+e.t]+=e.am(r+1,2*e[r],t,2*r+1,n,e.t-r-1))>=e.DV&&(t[r+e.t]-=e.DV,t[r+e.t+1]=1)}0<t.t&&(t[t.t-1]+=e.am(r,e[r],t,2*r,0,1)),t.s=0,t.clamp()},e.prototype.divRemTo=function(t,n,i){if(!((f=t.abs()).t<=0)){var o=this.abs();if(o.t<f.t)null!=n&&n.fromInt(0),null!=i&&this.copyTo(i);else{null==i&&(i=r());var a=r(),s=this.s,u=(t=t.s,this.DB-l(f[f.t-1])),h=(0<u?(f.lShiftTo(u,a),o.lShiftTo(u,i)):(f.copyTo(a),o.copyTo(i)),a.t),c=a[h-1];if(0!=c){var f=c*(1<<this.F1)+(1<h?a[h-2]>>this.F2:0),p=this.FV/f,d=(1<<this.F1)/f,g=1<<this.F2,y=i.t,m=y-h,v=null==n?r():n;for(a.dlShiftTo(m,v),0<=i.compareTo(v)&&(i[i.t++]=1,i.subTo(v,i)),e.ONE.dlShiftTo(h,v),v.subTo(a,a);a.t<h;)a[a.t++]=0;for(;0<=--m;){var w=i[--y]==c?this.DM:Math.floor(i[y]*p+(i[y-1]+g)*d);if((i[y]+=a.am(0,w,i,m,0,h))<w)for(a.dlShiftTo(m,v),i.subTo(v,i);i[y]<--w;)i.subTo(v,i)}null!=n&&(i.drShiftTo(h,n),s!=t)&&e.ZERO.subTo(n,n),i.t=h,i.clamp(),0<u&&i.rShiftTo(u,i),s<0&&e.ZERO.subTo(i,i)}}}},e.prototype.invDigit=function(){var t,e;return this.t<1||0==(1&(t=this[0]))?0:0<(e=(e=(e=(e=(e=3&t)*(2-(15&t)*e)&15)*(2-(255&t)*e)&255)*(2-((65535&t)*e&65535))&65535)*(2-t*e%this.DV)%this.DV)?this.DV-e:-e},e.prototype.isEven=function(){return 0==(0<this.t?1&this[0]:this.s)},e.prototype.exp=function(t,n){if(4294967295<t||t<1)return e.ONE;var i,o=r(),a=r(),s=n.convert(this),u=l(t)-1;for(s.copyTo(o);0<=--u;)n.sqrTo(o,a),0<(t&1<<u)?n.mulTo(a,s,o):(i=o,o=a,a=i);return n.revert(o)},e.prototype.toString=function(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var r,n=(1<<e)-1,i=!1,o="",a=this.t,s=this.DB-a*this.DB%e;if(0<a--)for(s<this.DB&&0<(r=this[a]>>s)&&(i=!0,o=u(r));0<=a;)s<e?(r=(this[a]&(1<<s)-1)<<e-s,r|=this[--a]>>(s+=this.DB-e)):(r=this[a]>>(s-=e)&n,s<=0&&(s+=this.DB,--a)),(i=0<r||i)&&(o+=u(r));return i?o:"0"},e.prototype.negate=function(){var t=r();return e.ZERO.subTo(this,t),t},e.prototype.abs=function(){return this.s<0?this.negate():this},e.prototype.compareTo=function(t){var e=this.s-t.s;if(0!=e)return e;var r=this.t;if(0!=(e=r-t.t))return this.s<0?-e:e;for(;0<=--r;)if(0!=(e=this[r]-t[r]))return e;return 0},e.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+l(this[this.t-1]^this.s&this.DM)},e.prototype.mod=function(t){var n=r();return this.abs().divRemTo(t,null,n),this.s<0&&0<n.compareTo(e.ZERO)&&t.subTo(n,n),n},e.prototype.modPowInt=function(t,e){return e=new(t<256||e.isEven()?f:p)(e),this.exp(t,e)},e.ZERO=c(0),e.ONE=c(1),v.prototype.convert=w,v.prototype.revert=w,v.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r)},v.prototype.sqrTo=function(t,e){t.squareTo(e)},b.prototype.convert=function(t){var e;return t.s<0||t.t>2*this.m.t?t.mod(this.m):t.compareTo(this.m)<0?t:(e=r(),t.copyTo(e),this.reduce(e),e)},b.prototype.revert=function(t){return t},b.prototype.reduce=function(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);0<=t.compareTo(this.m);)t.subTo(this.m,t)},b.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},b.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)};var _,E=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],M=(1<<26)/E[E.length-1];function S(){var t;t=(new Date).getTime(),x[T++]^=255&t,x[T++]^=t>>8&255,x[T++]^=t>>16&255,x[T++]^=t>>24&255,I<=T&&(T-=I)}if(e.prototype.chunkSize=function(t){return Math.floor(Math.LN2*this.DB/Math.log(t))},e.prototype.toRadix=function(t){if(null==t&&(t=10),0==this.signum()||t<2||36<t)return"0";var e=this.chunkSize(t),n=Math.pow(t,e),i=c(n),o=r(),a=r(),s="";for(this.divRemTo(i,o,a);0<o.signum();)s=(n+a.intValue()).toString(t).substr(1)+s,o.divRemTo(i,o,a);return a.intValue().toString(t)+s},e.prototype.fromRadix=function(t,r){this.fromInt(0);for(var n=this.chunkSize(r=null==r?10:r),i=Math.pow(r,n),o=!1,a=0,s=0,u=0;u<t.length;++u){var c=h(t,u);c<0?"-"==t.charAt(u)&&0==this.signum()&&(o=!0):(s=r*s+c,++a>=n&&(this.dMultiply(i),this.dAddOffset(s,0),s=a=0))}0<a&&(this.dMultiply(Math.pow(r,a)),this.dAddOffset(s,0)),o&&e.ZERO.subTo(this,this)},e.prototype.fromNumber=function(t,r,n){if("number"==typeof r)if(t<2)this.fromInt(1);else for(this.fromNumber(t,n),this.testBit(t-1)||this.bitwiseTo(e.ONE.shiftLeft(t-1),g,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(r);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(e.ONE.shiftLeft(t-1),this);else{var i=7&t;(n=new Array).length=1+(t>>3),r.nextBytes(n),0<i?n[0]&=(1<<i)-1:n[0]=0,this.fromString(n,256)}},e.prototype.bitwiseTo=function(t,e,r){for(var n,i=Math.min(t.t,this.t),o=0;o<i;++o)r[o]=e(this[o],t[o]);if(t.t<this.t){for(n=t.s&this.DM,o=i;o<this.t;++o)r[o]=e(this[o],n);r.t=this.t}else{for(n=this.s&this.DM,o=i;o<t.t;++o)r[o]=e(n,t[o]);r.t=t.t}r.s=e(this.s,t.s),r.clamp()},e.prototype.changeBit=function(t,r){return t=e.ONE.shiftLeft(t),this.bitwiseTo(t,r,t),t},e.prototype.addTo=function(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this[r]+t[r],e[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n+=t.s;r<this.t;)n+=this[r],e[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n+=t[r],e[r++]=n&this.DM,n>>=this.DB;n+=t.s}e.s=n<0?-1:0,0<n?e[r++]=n:n<-1&&(e[r++]=this.DV+n),e.t=r,e.clamp()},e.prototype.dMultiply=function(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()},e.prototype.dAddOffset=function(t,e){if(0!=t){for(;this.t<=e;)this[this.t++]=0;for(this[e]+=t;this[e]>=this.DV;)this[e]-=this.DV,++e>=this.t&&(this[this.t++]=0),++this[e]}},e.prototype.multiplyLowerTo=function(t,e,r){var n,i=Math.min(this.t+t.t,e);for(r.s=0,r.t=i;0<i;)r[--i]=0;for(n=r.t-this.t;i<n;++i)r[i+this.t]=this.am(0,t[i],r,i,0,this.t);for(n=Math.min(t.t,e);i<n;++i)this.am(0,t[i],r,i,0,e-i);r.clamp()},e.prototype.multiplyUpperTo=function(t,e,r){var n=r.t=this.t+t.t- --e;for(r.s=0;0<=--n;)r[n]=0;for(n=Math.max(e-this.t,0);n<t.t;++n)r[this.t+n-e]=this.am(e-n,t[n],r,0,0,this.t+n-e);r.clamp(),r.drShiftTo(1,r)},e.prototype.modInt=function(t){if(t<=0)return 0;var e=this.DV%t,r=this.s<0?t-1:0;if(0<this.t)if(0==e)r=this[0]%t;else for(var n=this.t-1;0<=n;--n)r=(e*r+this[n])%t;return r},e.prototype.millerRabin=function(t){var n=this.subtract(e.ONE),i=n.getLowestSetBit();if(i<=0)return!1;for(var o=n.shiftRight(i),a=(E.length<(t=t+1>>1)&&(t=E.length),r()),s=0;s<t;++s){a.fromInt(E[Math.floor(Math.random()*E.length)]);var u=a.modPow(o,this);if(0!=u.compareTo(e.ONE)&&0!=u.compareTo(n)){for(var h=1;h++<i&&0!=u.compareTo(n);)if(0==(u=u.modPowInt(2,this)).compareTo(e.ONE))return!1;if(0!=u.compareTo(n))return!1}}return!0},e.prototype.clone=function(){var t=r();return this.copyTo(t),t},e.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},e.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},e.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},e.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},e.prototype.toByteArray=function(){var t,e=this.t,r=new Array,n=(r[0]=this.s,this.DB-e*this.DB%8),i=0;if(0<e--)for(n<this.DB&&(t=this[e]>>n)!=(this.s&this.DM)>>n&&(r[i++]=t|this.s<<this.DB-n);0<=e;)n<8?(t=(this[e]&(1<<n)-1)<<8-n,t|=this[--e]>>(n+=this.DB-8)):(t=this[e]>>(n-=8)&255,n<=0&&(n+=this.DB,--e)),0!=(128&t)&&(t|=-256),0==i&&(128&this.s)!=(128&t)&&++i,(0<i||t!=this.s)&&(r[i++]=t);return r},e.prototype.equals=function(t){return 0==this.compareTo(t)},e.prototype.min=function(t){return this.compareTo(t)<0?this:t},e.prototype.max=function(t){return 0<this.compareTo(t)?this:t},e.prototype.and=function(t){var e=r();return this.bitwiseTo(t,d,e),e},e.prototype.or=function(t){var e=r();return this.bitwiseTo(t,g,e),e},e.prototype.xor=function(t){var e=r();return this.bitwiseTo(t,y,e),e},e.prototype.andNot=function(t){var e=r();return this.bitwiseTo(t,m,e),e},e.prototype.not=function(){for(var t=r(),e=0;e<this.t;++e)t[e]=this.DM&~this[e];return t.t=this.t,t.s=~this.s,t},e.prototype.shiftLeft=function(t){var e=r();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e},e.prototype.shiftRight=function(t){var e=r();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e},e.prototype.getLowestSetBit=function(){for(var t,e,r=0;r<this.t;++r)if(0!=this[r])return r*this.DB+(e=void 0,0==(t=this[r])?-1:((e=0)==(65535&t)&&(t>>=16,e+=16),0==(255&t)&&(t>>=8,e+=8),0==(15&t)&&(t>>=4,e+=4),0==(3&t)&&(t>>=2,e+=2),0==(1&t)&&++e,e));return this.s<0?this.t*this.DB:-1},e.prototype.bitCount=function(){for(var t=0,e=this.s&this.DM,r=0;r<this.t;++r)t+=function(t){for(var e=0;0!=t;)t&=t-1,++e;return e}(this[r]^e);return t},e.prototype.testBit=function(t){var e=Math.floor(t/this.DB);return e>=this.t?0!=this.s:0!=(this[e]&1<<t%this.DB)},e.prototype.setBit=function(t){return this.changeBit(t,g)},e.prototype.clearBit=function(t){return this.changeBit(t,m)},e.prototype.flipBit=function(t){return this.changeBit(t,y)},e.prototype.add=function(t){var e=r();return this.addTo(t,e),e},e.prototype.subtract=function(t){var e=r();return this.subTo(t,e),e},e.prototype.multiply=function(t){var e=r();return this.multiplyTo(t,e),e},e.prototype.divide=function(t){var e=r();return this.divRemTo(t,e,null),e},e.prototype.remainder=function(t){var e=r();return this.divRemTo(t,null,e),e},e.prototype.divideAndRemainder=function(t){var e=r(),n=r();return this.divRemTo(t,e,n),new Array(e,n)},e.prototype.modPow=function(t,e){var n=t.bitLength(),i=c(1);if(n<=0)return i;var o=n<18?1:n<48?3:n<144?4:n<768?5:6,a=new(n<8?f:e.isEven()?b:p)(e),s=new Array,u=3,h=o-1,d=(1<<o)-1;if(s[1]=a.convert(this),1<o){var g=r();for(a.sqrTo(s[1],g);u<=d;)s[u]=r(),a.mulTo(g,s[u-2],s[u]),u+=2}var y,m,v=t.t-1,w=!0,_=r();for(n=l(t[v])-1;0<=v;){for(h<=n?y=t[v]>>n-h&d:(y=(t[v]&(1<<n+1)-1)<<h-n,0<v&&(y|=t[v-1]>>this.DB+n-h)),u=o;0==(1&y);)y>>=1,--u;if((n-=u)<0&&(n+=this.DB,--v),w)s[y].copyTo(i),w=!1;else{for(;1<u;)a.sqrTo(i,_),a.sqrTo(_,i),u-=2;0<u?a.sqrTo(i,_):(m=i,i=_,_=m),a.mulTo(_,s[y],i)}for(;0<=v&&0==(t[v]&1<<n);)a.sqrTo(i,_),m=i,i=_,_=m,--n<0&&(n=this.DB-1,--v)}return a.revert(i)},e.prototype.modInverse=function(t){var r=t.isEven();if(this.isEven()&&r||0==t.signum())return e.ZERO;for(var n=t.clone(),i=this.clone(),o=c(1),a=c(0),s=c(0),u=c(1);0!=n.signum();){for(;n.isEven();)n.rShiftTo(1,n),r?(o.isEven()&&a.isEven()||(o.addTo(this,o),a.subTo(t,a)),o.rShiftTo(1,o)):a.isEven()||a.subTo(t,a),a.rShiftTo(1,a);for(;i.isEven();)i.rShiftTo(1,i),r?(s.isEven()&&u.isEven()||(s.addTo(this,s),u.subTo(t,u)),s.rShiftTo(1,s)):u.isEven()||u.subTo(t,u),u.rShiftTo(1,u);0<=n.compareTo(i)?(n.subTo(i,n),r&&o.subTo(s,o),a.subTo(u,a)):(i.subTo(n,i),r&&s.subTo(o,s),u.subTo(a,u))}return 0!=i.compareTo(e.ONE)?e.ZERO:0<=u.compareTo(t)?u.subtract(t):u.signum()<0&&(u.addTo(t,u),u.signum()<0)?u.add(t):u},e.prototype.pow=function(t){return this.exp(t,new v)},e.prototype.gcd=function(t){var e=this.s<0?this.negate():this.clone(),r=t.s<0?t.negate():t.clone(),n=(e.compareTo(r)<0&&(t=e,e=r,r=t),e.getLowestSetBit());if((t=r.getLowestSetBit())<0)return e;for(0<(t=n<t?n:t)&&(e.rShiftTo(t,e),r.rShiftTo(t,r));0<e.signum();)0<(n=e.getLowestSetBit())&&e.rShiftTo(n,e),0<(n=r.getLowestSetBit())&&r.rShiftTo(n,r),0<=e.compareTo(r)?(e.subTo(r,e),e.rShiftTo(1,e)):(r.subTo(e,r),r.rShiftTo(1,r));return 0<t&&r.lShiftTo(t,r),r},e.prototype.isProbablePrime=function(t){var e,r=this.abs();if(1==r.t&&r[0]<=E[E.length-1]){for(e=0;e<E.length;++e)if(r[0]==E[e])return!0;return!1}if(r.isEven())return!1;for(e=1;e<E.length;){for(var n=E[e],i=e+1;i<E.length&&n<M;)n*=E[i++];for(n=r.modInt(n);e<i;)if(n%E[e++]==0)return!1}return r.millerRabin(t)},e.prototype.square=function(){var t=r();return this.squareTo(t),t},e.prototype.Barrett=b,null==x){var x=new Array,T=0;if("undefined"!=typeof window&&window.crypto)if(window.crypto.getRandomValues){var A=new Uint8Array(32);for(window.crypto.getRandomValues(A),L=0;L<32;++L)x[T++]=A[L]}else if("Netscape"==navigator.appName&&navigator.appVersion<"5")for(var k=window.crypto.random(32),L=0;L<k.length;++L)x[T++]=255&k.charCodeAt(L);for(;T<I;)L=Math.floor(65536*Math.random()),x[T++]=L>>>8,x[T++]=255&L;T=0,S()}function P(){if(null==_){for(S(),(_=new O).init(x),T=0;T<x.length;++T)x[T]=0;T=0}return _.next()}function B(){}function O(){this.i=0,this.j=0,this.S=new Array}B.prototype.nextBytes=function(t){for(var e=0;e<t.length;++e)t[e]=P()},O.prototype.init=function(t){for(var e,r,n=0;n<256;++n)this.S[n]=n;for(n=e=0;n<256;++n)e=e+this.S[n]+t[n%t.length]&255,r=this.S[n],this.S[n]=this.S[e],this.S[e]=r;this.i=0,this.j=0},O.prototype.next=function(){var t;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,t=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=t,this.S[t+this.S[this.i]&255]};var I=256;t.exports={default:e,BigInteger:e,SecureRandom:B}}).call(this)},function(t,e,r){const n=r(7).BigInteger;t.exports=class{constructor(){this.p=new n("FFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF00000000FFFFFFFFFFFFFFFF",16),this.a=new n("FFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF00000000FFFFFFFFFFFFFFFC",16),this.b=new n("28E9FA9E9D9F5E344D5A9E4BCF6509A7F39789F515AB8F92DDBCBD414D940E93",16),this.Gx=new n("32C4AE2C1F1981195F9904466A39C9948FE30BBFF2660BE1715A4589334C74C7",16),this.Gy=new n("BC3736A2F4F6779C59BDCEE36B692153D0A9877CC62A474002DF32E52139F0A0",16),this.n=new n("FFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFF7203DF6B21C6052B53BBF40939D54123",16),this.h=new n("1",16)}}},function(t,e,r){(function(t){var n=r(18),i=r(36),o=r(37);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(t=null===t?new u(e):t).length=e,t}function u(t,e,r){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(t,e,r);if("number"!=typeof t)return h(this,t,e,r);if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return l(this,t)}function h(t,e,r,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');if("undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer){var i=t,a=e,h=r;if(a.byteLength,h<0||a.byteLength<h)throw new RangeError("'offset' is out of bounds");if(a.byteLength<h+(n||0))throw new RangeError("'length' is out of bounds");return a=void 0===h&&void 0===n?new Uint8Array(a):void 0===n?new Uint8Array(a,h):new Uint8Array(a,h,n),u.TYPED_ARRAY_SUPPORT?(i=a).__proto__=u.prototype:i=f(i,a),i}if("string"!=typeof e){if(h=t,n=e,u.isBuffer(n))return 0!==(h=s(h,a=0|p(n.length))).length&&n.copy(h,0,0,a),h;if(n){if("undefined"!=typeof ArrayBuffer&&n.buffer instanceof ArrayBuffer||"length"in n)return"number"!=typeof n.length||function(t){return t!=t}(n.length)?s(h,0):f(h,n);if("Buffer"===n.type&&o(n.data))return f(h,n.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}if(i=t,n=e,t=r,u.isEncoding(t="string"==typeof t&&""!==t?t:"utf8"))return(n=(i=s(i,e=0|d(n,t))).write(n,t))!==e?i.slice(0,n):i;throw new TypeError('"encoding" must be a valid string encoding')}function c(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function l(t,e){if(c(e),t=s(t,e<0?0:0|p(e)),!u.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function f(t,e){var r=e.length<0?0:0|p(e.length);t=s(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function p(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function d(t,e){if(u.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;var r=(t="string"!=typeof t?""+t:t).length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return B(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return O(t).length;default:if(n)return B(t).length;e=(""+e).toLowerCase(),n=!0}}function g(t,e,r){var i,o=!1;if((e=void 0===e||e<0?0:e)>this.length)return"";if((r=void 0===r||r>this.length?this.length:r)<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t=t||"utf8";;)switch(t){case"hex":var a=e,s=r,u=this.length;(!s||s<0||u<s)&&(s=u);for(var h="",c=a=!a||a<0?0:a;c<s;++c)h+=function(t){return t<16?"0"+t.toString(16):t.toString(16)}(this[c]);return h;case"utf8":case"utf-8":return _(this,e,r);case"ascii":u=e;var l=r,f="";l=Math.min(this.length,l);for(var p=u;p<l;++p)f+=String.fromCharCode(127&this[p]);return f;case"latin1":case"binary":a=e;var d=r,g="";d=Math.min(this.length,d);for(var y=a;y<d;++y)g+=String.fromCharCode(this[y]);return g;case"base64":return m=this,i=r,0===(v=e)&&i===m.length?n.fromByteArray(m):n.fromByteArray(m.slice(v,i));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var m=e,v=r,w=this.slice(m,v),b="",E=0;E<w.length;E+=2)b+=String.fromCharCode(w[E]+256*w[E+1]);return b;default:if(o)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),o=!0}}function y(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function m(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):2147483647<r?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,(r=(r=isNaN(r)?i?0:t.length-1:r)<0?t.length+r:r)>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=u.from(e,n)),u.isBuffer(e))return 0===e.length?-1:v(t,e,r,n,i);if("number"==typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?(i?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(t,e,r):v(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function v(t,e,r,n,i){var o=1,a=t.length,s=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;a/=o=2,s/=2,r/=2}function u(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(i)for(var h=-1,c=r;c<a;c++)if(u(t,c)===u(e,-1===h?0:c-h)){if(c-(h=-1===h?c:h)+1===s)return h*o}else-1!==h&&(c-=c-h),h=-1;else for(c=r=a<r+s?a-s:r;0<=c;c--){for(var l=!0,f=0;f<s;f++)if(u(t,c+f)!==u(e,f)){l=!1;break}if(l)return c}return-1}function w(t,e,r,n){return I(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function b(t,e,r,n){return I(function(t,e){for(var r,n,i=[],o=0;o<t.length&&!((e-=2)<0);++o)n=(r=t.charCodeAt(o))>>8,i.push(r%256),i.push(n);return i}(e,t.length-r),t,r,n)}function _(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var o,a,s,u,h=t[i],c=null,l=239<h?4:223<h?3:191<h?2:1;if(i+l<=r)switch(l){case 1:h<128&&(c=h);break;case 2:128==(192&(o=t[i+1]))&&127<(u=(31&h)<<6|63&o)&&(c=u);break;case 3:o=t[i+1],a=t[i+2],128==(192&o)&&128==(192&a)&&2047<(u=(15&h)<<12|(63&o)<<6|63&a)&&(u<55296||57343<u)&&(c=u);break;case 4:o=t[i+1],a=t[i+2],s=t[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&65535<(u=(15&h)<<18|(63&o)<<12|(63&a)<<6|63&s)&&u<1114112&&(c=u)}null===c?(c=65533,l=1):65535<c&&(n.push((c-=65536)>>>10&1023|55296),c=56320|1023&c),n.push(c),i+=l}var f=n,p=f.length;if(p<=E)return String.fromCharCode.apply(String,f);for(var d="",g=0;g<p;)d+=String.fromCharCode.apply(String,f.slice(g,g+=E));return d}e.Buffer=u,e.SlowBuffer=function(t){return+t!=t&&(t=0),u.alloc(+t)},e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=a(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,r){return h(null,t,e,r)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol)&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0}),u.alloc=function(t,e,r){return n=null,e=e,r=r,c(t=t),t<=0||void 0===e?s(n,t):"string"==typeof r?s(n,t).fill(e,r):s(n,t).fill(e);var n},u.allocUnsafe=function(t){return l(null,t)},u.allocUnsafeSlow=function(t){return l(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);if(void 0===e)for(i=e=0;i<t.length;++i)e+=t[i].length;for(var r=u.allocUnsafe(e),n=0,i=0;i<t.length;++i){var a=t[i];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,n),n+=a.length}return r},u.byteLength=d,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)y(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)y(this,e,e+3),y(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)y(this,e,e+7),y(this,e+1,e+6),y(this,e+2,e+5),y(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0==t?"":0===arguments.length?_(this,0,t):g.apply(this,arguments)},u.prototype.equals=function(t){if(u.isBuffer(t))return this===t||0===u.compare(this,t);throw new TypeError("Argument must be a Buffer")},u.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return 0<this.length&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r)&&(t+=" ... "),"<Buffer "+t+">"},u.prototype.compare=function(t,e,r,n,i){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),(e=void 0===e?0:e)<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(i<=n&&r<=e)return 0;if(i<=n)return-1;if(r<=e)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(e>>>=0),s=Math.min(o,a),h=this.slice(n,i),c=t.slice(e,r),l=0;l<s;++l)if(h[l]!==c[l]){o=h[l],a=c[l];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},u.prototype.indexOf=function(t,e,r){return m(this,t,e,r,!0)},u.prototype.lastIndexOf=function(t,e,r){return m(this,t,e,r,!1)},u.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||i<r)&&(r=i),0<t.length&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n=n||"utf8";for(var o,a,s,u=!1;;)switch(n){case"hex":var h=t,c=e,l=r,f=(c=Number(c)||0,this.length-c);if((!l||f<(l=Number(l)))&&(l=f),(f=h.length)%2!=0)throw new TypeError("Invalid hex string");f/2<l&&(l=f/2);for(var p=0;p<l;++p){var d=parseInt(h.substr(2*p,2),16);if(isNaN(d))return p;this[c+p]=d}return p;case"utf8":case"utf-8":return f=e,s=r,I(B(t,(a=this).length-f),a,f,s);case"ascii":return w(this,t,e,r);case"latin1":case"binary":return w(this,t,e,r);case"base64":return a=this,s=e,o=r,I(O(t),a,s,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return b(this,t,e,r);default:if(u)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),u=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var E=4096;function M(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(r<t+e)throw new RangeError("Trying to access beyond buffer length")}function S(t,e,r,n,i,o){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(i<e||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function x(t,e,r,n){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-r,2);i<o;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function T(t,e,r,n){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-r,4);i<o;++i)t[r+i]=e>>>8*(n?i:3-i)&255}function A(t,e,r,n){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function k(t,e,r,n,o){return o||A(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function L(t,e,r,n,o){return o||A(t,0,r,8),i.write(t,e,r,n,52,8),r+8}u.prototype.slice=function(t,e){var r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):r<t&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):r<e&&(e=r),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(i=this.subarray(t,e)).__proto__=u.prototype;else for(var n=e-t,i=new u(n,void 0),o=0;o<n;++o)i[o]=this[o+t];return i},u.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||M(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n},u.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||M(t,e,this.length);for(var n=this[t+--e],i=1;0<e&&(i*=256);)n+=this[t+--e]*i;return n},u.prototype.readUInt8=function(t,e){return e||M(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||M(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||M(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||M(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||M(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||M(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return(i*=128)<=n&&(n-=Math.pow(2,8*e)),n},u.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||M(t,e,this.length);for(var n=e,i=1,o=this[t+--n];0<n&&(i*=256);)o+=this[t+--n]*i;return(i*=128)<=o&&(o-=Math.pow(2,8*e)),o},u.prototype.readInt8=function(t,e){return e||M(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){return e||M(t,2,this.length),32768&(e=this[t]|this[t+1]<<8)?4294901760|e:e},u.prototype.readInt16BE=function(t,e){return e||M(t,2,this.length),32768&(e=this[t+1]|this[t]<<8)?4294901760|e:e},u.prototype.readInt32LE=function(t,e){return e||M(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||M(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||M(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||M(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||M(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||M(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,r,n){t=+t,e|=0,r|=0,n||S(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[e]=255&t;++o<r&&(i*=256);)this[e+o]=t/i&255;return e+r},u.prototype.writeUIntBE=function(t,e,r,n){t=+t,e|=0,r|=0,n||S(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[e+i]=255&t;0<=--i&&(o*=256);)this[e+i]=t/o&255;return e+r},u.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||S(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||S(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):x(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||S(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):x(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||S(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):T(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||S(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):T(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,r,n){t=+t,e|=0,n||S(this,t,e,r,(n=Math.pow(2,8*r-1))-1,-n);var i=0,o=1,a=0;for(this[e]=255&t;++i<r&&(o*=256);)t<0&&0===a&&0!==this[e+i-1]&&(a=1),this[e+i]=(t/o>>0)-a&255;return e+r},u.prototype.writeIntBE=function(t,e,r,n){t=+t,e|=0,n||S(this,t,e,r,(n=Math.pow(2,8*r-1))-1,-n);var i=r-1,o=1,a=0;for(this[e+i]=255&t;0<=--i&&(o*=256);)t<0&&0===a&&0!==this[e+i+1]&&(a=1),this[e+i]=(t/o>>0)-a&255;return e+r},u.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||S(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&(t=t<0?255+t+1:t),e+1},u.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||S(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):x(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||S(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):x(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||S(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):T(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||S(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):T(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,r){return k(this,t,e,!0,r)},u.prototype.writeFloatBE=function(t,e,r){return k(this,t,e,!1,r)},u.prototype.writeDoubleLE=function(t,e,r){return L(this,t,e,!0,r)},u.prototype.writeDoubleBE=function(t,e,r){return L(this,t,e,!1,r)},u.prototype.copy=function(t,e,r,n){if(r=r||0,n||0===n||(n=this.length),e>=t.length&&(e=t.length),(n=0<n&&n<r?r:n)===r)return 0;if(0===t.length||0===this.length)return 0;if((e=e||0)<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length);var i,o=(n=t.length-e<n-r?t.length-e+r:n)-r;if(this===t&&r<e&&e<n)for(i=o-1;0<=i;--i)t[i+e]=this[i+r];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+o),e);return o},u.prototype.fill=function(t,e,r,n){if("string"==typeof t){var i;if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===t.length&&(i=t.charCodeAt(0))<256&&(t=i),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(!(r<=e))if(e>>>=0,r=void 0===r?this.length:r>>>0,"number"==typeof(t=t||0))for(s=e;s<r;++s)this[s]=t;else for(var o=u.isBuffer(t)?t:B(new u(t,n).toString()),a=o.length,s=0;s<r-e;++s)this[s+e]=o[s%a];return this};var P=/[^+\/0-9A-Za-z-_]/g;function B(t,e){e=e||1/0;for(var r,n=t.length,i=null,o=[],a=0;a<n;++a){if(55295<(r=t.charCodeAt(a))&&r<57344){if(!i){if(56319<r){-1<(e-=3)&&o.push(239,191,189);continue}if(a+1===n){-1<(e-=3)&&o.push(239,191,189);continue}i=r;continue}if(r<56320){-1<(e-=3)&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&-1<(e-=3)&&o.push(239,191,189);if(i=null,r<128){if(--e<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function O(t){return n.toByteArray(function(t){var e;if((t=((e=t).trim?e.trim():e.replace(/^\s+|\s+$/g,"")).replace(P,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function I(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}}).call(this,r(35))},function(t,e,r){const n=r(4),i=[2043430169,4086860338,3878753381,3462539467,2630111639,965255983,1930511966,3861023932,3427080569,2559193843,823420391,1646840782,3293681564,2292395833,289824371,579648742,2643098247,991229199,1982458398,3964916796,3634866297,2974765299,1654563303,3309126606,2323285917,351604539,703209078,1406418156,2812836312,1330705329,2661410658,1027854021,2055708042,4111416084,3927864873,3560762451,2826557607,1358147919,2716295838,1137624381,2275248762,255530229,511060458,1022120916,2044241832,4088483664,3882000033,3469032771,2643098247,991229199,1982458398,3964916796,3634866297,2974765299,1654563303,3309126606,2323285917,351604539,703209078,1406418156,2812836312,1330705329,2661410658,1027854021],o=new Array(68);function a(t,e){return t<<e|t>>>32-e}function s(t){return t^a(t,15)^a(t,23)}function u(t,e,r,n,s,u,h,c,l){var f=a(e,12),p=a(f+u+i[t],7);return f^=p,l=t<=15?(s=s+(e^r^n)+f+(o[t]^o[t+4]),l+(u^h^c)+p+o[t]):(s=s+(e&r|e&n|r&n)+f+(o[t]^o[t+4]),l+(u&h|~u&c)+p+o[t]),[r=a(r,9),s,h=a(h,19),l=l^a(l,9)^a(l,17)]}t.exports=class{constructor(){this.digest=new Array(8),this.nblocks=0,this.block=new Array(64),this.num=0}init(){this.digest[0]=1937774191,this.digest[1]=1226093241,this.digest[2]=388252375,this.digest[3]=3666478592,this.digest[4]=2842636476,this.digest[5]=372324522,this.digest[6]=3817729613,this.digest[7]=2969243214;for(let t=0;t<64;t++)this.block[t]=0;this.nblocks=0,this.num=0}SM3Compress(t){let e=0,r=new Array(4),n=this.digest[0],i=this.digest[1],h=this.digest[2],c=this.digest[3],l=this.digest[4],f=this.digest[5],p=this.digest[6],d=this.digest[7];var g=new Array(16);for(let e=0;e+3<64;e+=4)g[e/4]=(t[e]<<24)+(t[e+1]<<16)+(t[e+2]<<8)+t[e+3];for(e=0;e<4;e++)o[e]=g[e];for(e=0;e<=8;e+=4)o[e+4]=g[e+4],r=u(e,n,i,h,c,l,f,p,d),i=r[0],c=r[1],f=r[2],d=r[3],o[e+5]=g[e+5],r=u(e+1,c,n,i,h,d,l,f,p),n=r[0],h=r[1],l=r[2],p=r[3],o[e+6]=g[e+6],r=u(e+2,h,c,n,i,p,d,l,f),c=r[0],i=r[1],d=r[2],f=r[3],o[e+7]=g[e+7],r=u(e+3,i,h,c,n,f,p,d,l),h=r[0],n=r[1],p=r[2],l=r[3];for(e=12;e<=60;e+=4)o[e+4]=s(o[e-12]^o[e-5]^a(o[e+1],15))^a(o[e-9],7)^o[e-2],r=u(e,n,i,h,c,l,f,p,d),i=r[0],c=r[1],f=r[2],d=r[3],o[e+5]=s(o[e-11]^o[e-4]^a(o[e+2],15))^a(o[e-8],7)^o[e-1],r=u(e+1,c,n,i,h,d,l,f,p),n=r[0],h=r[1],l=r[2],p=r[3],o[e+6]=s(o[e-10]^o[e-3]^a(o[e+3],15))^a(o[e-7],7)^o[e],r=u(e+2,h,c,n,i,p,d,l,f),c=r[0],i=r[1],d=r[2],f=r[3],o[e+7]=s(o[e-9]^o[e-2]^a(o[e+4],15))^a(o[e-6],7)^o[e+1],r=u(e+3,i,h,c,n,f,p,d,l),h=r[0],n=r[1],p=r[2],l=r[3];this.digest[0]^=n,this.digest[1]^=i,this.digest[2]^=h,this.digest[3]^=c,this.digest[4]^=l,this.digest[5]^=f,this.digest[6]^=p,this.digest[7]^=d;for(let t=0;t<8;t++)this.digest[t]=this.digest[t]>>>0}update(t){let e=t.length;for(let r=0;r<e;r++)t[r]=(t[r]>>>0)%256;if(this.num){var r=64-this.num;if(e<r){for(let r=0;r<e;r++)this.block[this.num+r]=t[r];return void(this.num+=e)}for(let e=0;e<r;e++)this.block[this.num+e]=t[e];this.SM3Compress(this.block),this.nblocks++,t=t.slice(r),e-=r}let n=0;for(;64<=e;){var i=64*n;i=t.slice(i,64+i);this.SM3Compress(i),this.nblocks++,n++,e-=64}this.num=e;var o=64*n;if(e)for(let r=0;r<e;r++)this.block[r]=t[o+r]}final(){if(this.block[this.num]=128,this.num+9<=64)for(let t=0;t<64-this.num-9;t++)this.block[this.num+1+t]=0;else{for(let t=0;t<64-this.num-1;t++)this.block[this.num+1+t]=0;this.SM3Compress(this.block);for(let t=0;t<56;t++)this.block[t]=0}var t=this.nblocks>>>23,e=(this.nblocks<<9)+(this.num<<3),r=(this.block[56]=(t>>>24)%256,this.block[57]=(t>>>16)%256,this.block[58]=(t>>>8)%256,this.block[59]=(t>>>0)%256,this.block[60]=(e>>>24)%256,this.block[61]=(e>>>16)%256,this.block[62]=(e>>>8)%256,this.block[63]=(e>>>0)%256,new Array(32));this.SM3Compress(this.block);for(let t=0;t<8;t++)r[4*t]=(this.digest[t]>>>24)%256,r[4*t+1]=(this.digest[t]>>>16)%256,r[4*t+2]=(this.digest[t]>>>8)%256,r[4*t+3]=(this.digest[t]>>>0)%256;return r}hashForBinaryArray(t){return this.init(),this.update(t),t=this.final(),n.byteArrayToHex(t)}hashForUTF8String(t){return t=n.stringToByteArrayInUtf8(t),this.hashForBinaryArray(t)}}},function(t,e,r){(function(e){var n,i=r(9),o=i.Buffer,a={};for(n in i)i.hasOwnProperty(n)&&"SlowBuffer"!==n&&"Buffer"!==n&&(a[n]=i[n]);var s=a.Buffer={};for(n in o)o.hasOwnProperty(n)&&"allocUnsafe"!==n&&"allocUnsafeSlow"!==n&&(s[n]=o[n]);if(a.Buffer.prototype=o.prototype,s.from&&s.from!==Uint8Array.from||(s.from=function(t,e,r){if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type '+typeof t);if(t&&void 0===t.length)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);return o(t,e,r)}),s.alloc||(s.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError('The "size" argument must be of type number. Received type '+typeof t);if(t<0||2*(1<<30)<=t)throw new RangeError('The value "'+t+'" is invalid for option "size"');return t=o(t),e&&0!==e.length?"string"==typeof r?t.fill(e,r):t.fill(e):t.fill(0),t}),!a.kStringMaxLength)try{a.kStringMaxLength=e.binding("buffer").kStringMaxLength}catch(e){}a.constants||(a.constants={MAX_LENGTH:a.kMaxLength},a.kStringMaxLength&&(a.constants.MAX_STRING_LENGTH=a.kStringMaxLength)),t.exports=a}).call(this,r(43))},function(t,e,r){const n=r(13).Reporter,i=r(5).EncoderBuffer,o=r(5).DecoderBuffer,a=r(44),s=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(r=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"]);function u(t,e,r){var n={};(this._baseState=n).name=r,n.enc=t,n.parent=e||null,n.children=null,n.tag=null,n.args=null,n.reverseArgs=null,n.choice=null,n.optional=!1,n.any=!1,n.obj=!1,n.use=null,n.useDecoder=null,n.key=null,n.default=null,n.explicit=null,n.implicit=null,n.contains=null,n.parent||(n.children=[],this._wrap())}t.exports=u;const h=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];u.prototype.clone=function(){const t=this._baseState,e={};h.forEach((function(r){e[r]=t[r]}));var r=new this.constructor(e.parent);return r._baseState=e,r},u.prototype._wrap=function(){const t=this._baseState;s.forEach((function(e){this[e]=function(){var r=new this.constructor(this);return t.children.push(r),r[e].apply(r,arguments)}}),this)},u.prototype._init=function(t){var e=this._baseState;a(null===e.parent),t.call(this),e.children=e.children.filter((function(t){return t._baseState.parent===this}),this),a.equal(e.children.length,1,"Root node can have only one child")},u.prototype._useArgs=function(t){var e=this._baseState,r=t.filter((function(t){return t instanceof this.constructor}),this);t=t.filter((function(t){return!(t instanceof this.constructor)}),this),0!==r.length&&(a(null===e.children),(e.children=r).forEach((function(t){t._baseState.parent=this}),this)),0!==t.length&&(a(null===e.args),e.args=t,e.reverseArgs=t.map((function(t){if("object"!=typeof t||t.constructor!==Object)return t;const e={};return Object.keys(t).forEach((function(r){r==(0|r)&&(r|=0);var n=t[r];e[n]=r})),e})))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach((function(t){u.prototype[t]=function(){var e=this._baseState;throw new Error(t+" not implemented for encoding: "+e.enc)}})),r.forEach((function(t){u.prototype[t]=function(){var e=this._baseState,r=Array.prototype.slice.call(arguments);return a(null===e.tag),e.tag=t,this._useArgs(r),this}})),u.prototype.use=function(t){a(t);var e=this._baseState;return a(null===e.use),e.use=t,this},u.prototype.optional=function(){return this._baseState.optional=!0,this},u.prototype.def=function(t){var e=this._baseState;return a(null===e.default),e.default=t,e.optional=!0,this},u.prototype.explicit=function(t){var e=this._baseState;return a(null===e.explicit&&null===e.implicit),e.explicit=t,this},u.prototype.implicit=function(t){var e=this._baseState;return a(null===e.explicit&&null===e.implicit),e.implicit=t,this},u.prototype.obj=function(){var t=this._baseState,e=Array.prototype.slice.call(arguments);return t.obj=!0,0!==e.length&&this._useArgs(e),this},u.prototype.key=function(t){var e=this._baseState;return a(null===e.key),e.key=t,this},u.prototype.any=function(){return this._baseState.any=!0,this},u.prototype.choice=function(t){var e=this._baseState;return a(null===e.choice),e.choice=t,this._useArgs(Object.keys(t).map((function(e){return t[e]}))),this},u.prototype.contains=function(t){var e=this._baseState;return a(null===e.use),e.contains=t,this},u.prototype._decode=function(t,e){var r=this._baseState;if(null===r.parent)return t.wrapResult(r.children[0]._decode(t,e));let n,i=r.default,a=!0,s=null;if(null!==r.key&&(s=t.enterKey(r.key)),r.optional){let n=null;if(null!==r.explicit?n=r.explicit:null!==r.implicit?n=r.implicit:null!==r.tag&&(n=r.tag),null!==n||r.any){if(a=this._peekTag(t,n,r.any),t.isError(a))return a}else{var u=t.save();try{null===r.choice?this._decodeGeneric(r.tag,t,e):this._decodeChoice(t,e),a=!0}catch(s){a=!1}t.restore(u)}}if(r.obj&&a&&(n=t.enterObject()),a){if(null!==r.explicit){if(u=this._decodeTag(t,r.explicit),t.isError(u))return u;t=u}if(u=t.offset,null===r.use&&null===r.choice){let e;r.any&&(e=t.save());var h=this._decodeTag(t,null!==r.implicit?r.implicit:r.tag,r.any);if(t.isError(h))return h;r.any?i=t.raw(e):t=h}if(e&&e.track&&null!==r.tag&&e.track(t.path(),u,t.length,"tagged"),e&&e.track&&null!==r.tag&&e.track(t.path(),t.offset,t.length,"content"),r.any||(i=null===r.choice?this._decodeGeneric(r.tag,t,e):this._decodeChoice(t,e)),t.isError(i))return i;r.any||null!==r.choice||null===r.children||r.children.forEach((function(r){r._decode(t,e)})),!r.contains||"octstr"!==r.tag&&"bitstr"!==r.tag||(h=new o(i),i=this._getUse(r.contains,t._reporterState.obj)._decode(h,e))}return r.obj&&a&&(i=t.leaveObject(n)),null===r.key||null===i&&!0!==a?null!==s&&t.exitKey(s):t.leaveKey(s,r.key,i),i},u.prototype._decodeGeneric=function(t,e,r){var n=this._baseState;return"seq"===t||"set"===t?null:"seqof"===t||"setof"===t?this._decodeList(e,t,n.args[0],r):/str$/.test(t)?this._decodeStr(e,t,r):"objid"===t&&n.args?this._decodeObjid(e,n.args[0],n.args[1],r):"objid"===t?this._decodeObjid(e,null,null,r):"gentime"===t||"utctime"===t?this._decodeTime(e,t,r):"null_"===t?this._decodeNull(e,r):"bool"===t?this._decodeBool(e,r):"objDesc"===t?this._decodeStr(e,t,r):"int"===t||"enum"===t?this._decodeInt(e,n.args&&n.args[0],r):null!==n.use?this._getUse(n.use,e._reporterState.obj)._decode(e,r):e.error("unknown tag: "+t)},u.prototype._getUse=function(t,e){var r=this._baseState;return r.useDecoder=this._use(t,e),a(null===r.useDecoder._baseState.parent),r.useDecoder=r.useDecoder._baseState.children[0],r.implicit!==r.useDecoder._baseState.implicit&&(r.useDecoder=r.useDecoder.clone(),r.useDecoder._baseState.implicit=r.implicit),r.useDecoder},u.prototype._decodeChoice=function(t,e){const r=this._baseState;let n=null,i=!1;return Object.keys(r.choice).some((function(o){var a=t.save(),s=r.choice[o];try{var u=s._decode(t,e);if(t.isError(u))return!1;n={type:o,value:u},i=!0}catch(o){return t.restore(a),!1}return!0}),this),i?n:t.error("Choice not matched")},u.prototype._createEncoderBuffer=function(t){return new i(t,this.reporter)},u.prototype._encode=function(t,e,r){var n=this._baseState;if((null===n.default||n.default!==t)&&void 0!==(n=this._encodeValue(t,e,r))&&!this._skipDefault(n,e,r))return n},u.prototype._encodeValue=function(t,e,r){var i=this._baseState;if(null===i.parent)return i.children[0]._encode(t,e||new n);let o=null;if(this.reporter=e,i.optional&&void 0===t){if(null===i.default)return;t=i.default}let a=null,s=!1;if(i.any)o=this._createEncoderBuffer(t);else if(i.choice)o=this._encodeChoice(t,e);else if(i.contains)a=this._getUse(i.contains,r)._encode(t,e),s=!0;else if(i.children)a=i.children.map((function(r){var n;return"null_"===r._baseState.tag?r._encode(null,e,t):null===r._baseState.key?e.error("Child should have a key"):(n=e.enterKey(r._baseState.key),"object"!=typeof t?e.error("Child expected, but input is not object"):(r=r._encode(t[r._baseState.key],e,t),e.leaveKey(n),r))}),this).filter((function(t){return t})),a=this._createEncoderBuffer(a);else if("seqof"===i.tag||"setof"===i.tag){if(!i.args||1!==i.args.length)return e.error("Too many args for : "+i.tag);if(!Array.isArray(t))return e.error("seqof/setof, but data is not Array");var u=this.clone();u._baseState.implicit=null,a=this._createEncoderBuffer(t.map((function(r){var n=this._baseState;return this._getUse(n.args[0],t)._encode(r,e)}),u))}else null!==i.use?o=this._getUse(i.use,r)._encode(t,e):(a=this._encodePrimitive(i.tag,t),s=!0);return i.any||null!==i.choice||(u=null!==i.implicit?i.implicit:i.tag,r=null===i.implicit?"universal":"context",null===u?null===i.use&&e.error("Tag could be omitted only for .use()"):null===i.use&&(o=this._encodeComposite(u,s,r,a))),null!==i.explicit?this._encodeComposite(i.explicit,!1,"context",o):o},u.prototype._encodeChoice=function(t,e){var r=this._baseState,n=r.choice[t.type];return n||a(!1,t.type+" not found in "+JSON.stringify(Object.keys(r.choice))),n._encode(t.value,e)},u.prototype._encodePrimitive=function(t,e){var r=this._baseState;if(/str$/.test(t))return this._encodeStr(e,t);if("objid"===t&&r.args)return this._encodeObjid(e,r.reverseArgs[0],r.args[1]);if("objid"===t)return this._encodeObjid(e,null,null);if("gentime"===t||"utctime"===t)return this._encodeTime(e,t);if("null_"===t)return this._encodeNull();if("int"===t||"enum"===t)return this._encodeInt(e,r.args&&r.reverseArgs[0]);if("bool"===t)return this._encodeBool(e);if("objDesc"===t)return this._encodeStr(e,t);throw new Error("Unsupported tag: "+t)},u.prototype._isNumstr=function(t){return/^[0-9 ]*$/.test(t)},u.prototype._isPrintstr=function(t){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(t)}},function(t,e,r){function n(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}function i(t,e){this.path=t,this.rethrow(e)}r=r(3),(e.Reporter=n).prototype.isError=function(t){return t instanceof i},n.prototype.save=function(){var t=this._reporterState;return{obj:t.obj,pathLen:t.path.length}},n.prototype.restore=function(t){var e=this._reporterState;e.obj=t.obj,e.path=e.path.slice(0,t.pathLen)},n.prototype.enterKey=function(t){return this._reporterState.path.push(t)},n.prototype.exitKey=function(t){var e=this._reporterState;e.path=e.path.slice(0,t-1)},n.prototype.leaveKey=function(t,e,r){var n=this._reporterState;this.exitKey(t),null!==n.obj&&(n.obj[e]=r)},n.prototype.path=function(){return this._reporterState.path.join("/")},n.prototype.enterObject=function(){var t=this._reporterState,e=t.obj;return t.obj={},e},n.prototype.leaveObject=function(t){var e=this._reporterState,r=e.obj;return e.obj=t,r},n.prototype.error=function(t){let e;var r=this._reporterState,n=t instanceof i;if(e=n?t:new i(r.path.map((function(t){return"["+JSON.stringify(t)+"]"})).join(""),t.message||t,t.stack),r.options.partial)return n||r.errors.push(e),e;throw e},n.prototype.wrapResult=function(t){var e=this._reporterState;return e.options.partial?{result:this.isError(t)?null:t,errors:e.errors}:t},r(i,Error),i.prototype.rethrow=function(t){if(this.message=t+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,i),!this.stack)try{throw new Error(this.message)}catch(t){this.stack=t.stack}return this}},function(t,e,r){function n(t){const e={};return Object.keys(t).forEach((function(r){(0|r)==r&&(r|=0);var n=t[r];e[n]=r})),e}e.tagClass={0:"universal",1:"application",2:"context",3:"private"},e.tagClassByName=n(e.tagClass),e.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},e.tagByName=n(e.tag)},function(t){t.exports=JSON.parse('{"a":"5.2.9"}')},function(t,e){var r={utf8:{stringToBytes:function(t){return r.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(r.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],r=0;r<t.length;r++)e.push(255&t.charCodeAt(r));return e},bytesToString:function(t){for(var e=[],r=0;r<t.length;r++)e.push(String.fromCharCode(t[r]));return e.join("")}}};t.exports=r},function(t,e,r){(function(e){const{BigInteger:n,SecureRandom:i}=r(7),o=r(8),a=r(19),s=r(38),u=r(10),h=r(39),c=r(4);var l=r(22);const f=l.bignum,p=r(21),d=new i,g=l.define("ASN1_SM2EncryptFormat",(function(){this.seq().obj(this.key("X").int(),this.key("Y").int(),this.key("Hash").octstr(),this.key("Cipher").octstr())})),y=l.define("ASN1_SM2SignFormat",(function(){this.seq().obj(this.key("R").int(),this.key("S").int())})),m=l.define("ASN1_SM2PublicKeyObjID",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("subAlgorithm").objid())})),v=l.define("ASN1_SM2PublicKey",(function(){this.seq().obj(this.key("algorithm").use(m),this.key("key").bitstr())}));t.exports=class{constructor(){this.curve=new o,this.ecmath=new h,this.sm3=new u}encodePublicKeyToDer(t){return t=v.encode({algorithm:{algorithm:"1.2.840.10045.2.1".split("."),subAlgorithm:"1.2.156.10197.1.301".split(".")},key:{data:e.from(t,"hex")}},"der"),c.byteArrayToHex(t)}decodePublicKeyFromDer(t){return t=v.decode(e.from(t,"hex"),"der"),c.byteArrayToHex(t.key.data)}encrypt(t,e){if(e&&0===e.length)throw new Error("plaintext cannot be an empty string.");var r=new n(this.curve.n.bitLength(),d).mod(this.curve.n.subtract(n.ONE)).add(n.ONE),i=this.ecmath.ECPointMultiplyG(r),o=p.normalize(i.getX().toByteArray()),u=(i=p.normalize(i.getY().toByteArray()),new a(t.substr(2,64),t.substr(66,64))),h=(u=this.ecmath.ECPointMultiply(u,r),r=p.normalize(u.getX().toByteArray()),u=p.normalize(u.getY().toByteArray()),r.concat(u)),l=s.kdf(h,e.length);let y=!0;for(let t=0;t<l.length;t++)if(0!=l[t]){y=!1;break}if(y)return this.encrypt(t,e);var m=new Array(e.length);for(let t=0;t<e.length;t++)m[t]=e[t]^l[t];return h=r.concat(Array.prototype.slice.call(e)).concat(u),this.sm3.init(),this.sm3.update(h),t=this.sm3.final(),r=g.encode({X:new f(c.byteArrayToHex(o),16),Y:new f(c.byteArrayToHex(i),16),Hash:t,Cipher:m},"der"),c.byteArrayToHex(r)}decrypt(t,r){r=e.from(c.hexToByteArray(r));var i=g.decode(r,"der"),o=(r=new a(i.X.toString(16),i.Y.toString(16)),t=new n(t,16),r=this.ecmath.ECPointMultiply(r,t),t=p.normalize(r.getX().toByteArray()),r=p.normalize(r.getY().toByteArray()),t.concat(r)),u=s.kdf(o,i.Cipher.length);let h=!0;for(let t=0;t<u.length;t++)if(0!=u[t]){h=!1;break}if(h)return-1;var l=new Array(i.Cipher.length);for(let t=0;t<i.Cipher.length;t++)l[t]=i.Cipher[t]^u[t];return o=t.concat(l).concat(r),this.sm3.init(),this.sm3.update(o),e.from(this.sm3.final()).equals(i.Hash)?l:-1}sign(t,e,r,i){t.startsWith("0x")&&(t=t.slice(2)),e.startsWith("0x")&&(e=e.slice(2));var o,u=new a(t.substr(2,64),t.substr(66,64)),h=(u=s.SM2MessageDigest(r,i,u),new n(this.curve.n.bitLength(),d).mod(this.curve.n.subtract(n.ONE)).add(n.ONE)),l=this.ecmath.ECPointMultiplyG(h);return(u=new n(c.byteArrayToHex(u),16).add(l.getX()).mod(this.curve.n)).equals(this.ecmath.zero)||u.add(h).equals(this.curve.n)||(o=(l=new n(e,16)).add(this.ecmath.one).modInverse(this.curve.n),l=u.multiply(l),(o=o.multiply(h.add(l.negate())).mod(this.curve.n)).equals(this.ecmath.zero))?this.sign(t,e,r,i):(h=y.encode({R:new f(u.toString(16),16),S:new f(o.toString(16),16)},"der"),c.byteArrayToHex(h))}verify(t,r,i,o){t.startsWith("0x")&&(t=t.slice(2));o=e.from(c.hexToByteArray(o)),o=y.decode(o,"der");var u,h=new n(o.R.toString(16),16);o=new n(o.S.toString(16),16);return 0<h.compareTo(this.ecmath.zero)&&h.compareTo(this.curve.n)<0&&0<o.compareTo(this.ecmath.zero)&&o.compareTo(this.curve.n)<0&&!(u=h.add(o).mod(this.curve.n)).equals(this.ecmath.zero)&&(o=this.ecmath.ECPointMultiplyG(o),t=new a(t.substr(2,64),t.substr(66,64)),u=this.ecmath.ECPointMultiply(t,u),o=this.ecmath.ECPointAdd(o,u),u=s.SM2MessageDigest(r,i,t),!!new n(c.byteArrayToHex(u),16).add(o.getX()).mod(this.curve.n).equals(h))}genKeyPair(){var t=new n(this.curve.n.bitLength(),d).mod(this.curve.n.subtract(n.ONE)).add(n.ONE),e=this.ecmath.ECPointMultiplyG(t),r=p.normalize(e.getX().toByteArray());e=p.normalize(e.getY().toByteArray()),r=c.byteArrayToHex([4,...r,...e]);return{privateKey:p.leftPad(t.toString(16),64),publicKey:r}}getPublicKeyFromPrivateKey(t){t=this.ecmath.ECPointMultiplyG(new n(t,16));var e=p.normalize(t.getX().toByteArray());t=p.normalize(t.getY().toByteArray());return c.byteArrayToHex([4,...e,...t])}kdf(t,e){return s.kdf(t,e)}}}).call(this,r(9).Buffer)},function(t,e,r){e.byteLength=function(t){return 3*((t=h(t))[0]+(t=t[1]))/4-t},e.toByteArray=function(t){var e,r,n=(a=h(t))[0],a=a[1],s=new o(function(t,e){return 3*(t+e)/4-e}(n,a)),u=0,c=0<a?n-4:n;for(r=0;r<c;r+=4)e=i[t.charCodeAt(r)]<<18|i[t.charCodeAt(r+1)]<<12|i[t.charCodeAt(r+2)]<<6|i[t.charCodeAt(r+3)],s[u++]=e>>16&255,s[u++]=e>>8&255,s[u++]=255&e;return 2===a&&(e=i[t.charCodeAt(r)]<<2|i[t.charCodeAt(r+1)]>>4,s[u++]=255&e),1===a&&(e=i[t.charCodeAt(r)]<<10|i[t.charCodeAt(r+1)]<<4|i[t.charCodeAt(r+2)]>>2,s[u++]=e>>8&255,s[u++]=255&e),s},e.fromByteArray=function(t){for(var e,r=t.length,i=r%3,o=[],a=0,s=r-i;a<s;a+=16383)o.push(function(t,e,r){for(var i,o=[],a=e;a<r;a+=3)i=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),o.push(function(t){return n[t>>18&63]+n[t>>12&63]+n[t>>6&63]+n[63&t]}(i));return o.join("")}(t,a,s<a+16383?s:a+16383));return 1==i?(e=t[r-1],o.push(n[e>>2]+n[e<<4&63]+"==")):2==i&&(e=(t[r-2]<<8)+t[r-1],o.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"=")),o.join("")};for(var n=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)n[s]=a[s],i[a.charCodeAt(s)]=s;function h(t){var e=t.length;if(0<e%4)throw new Error("Invalid string. Length must be a multiple of 4");return e=(t=-1===(t=t.indexOf("="))?e:t)===e?0:4-t%4,[t,e]}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(t,e,r){const n=r(7).BigInteger,i=r(8);t.exports=class{constructor(t,e,r){"string"==typeof t&&"string"==typeof e?(this.X=new n(t,16),this.Y=new n(e,16)):(this.X=t,this.Y=e),this.Z=null==r?n.ONE:r,this.zinv=null,this.curve=new i}getX(){return null===this.zinv&&(this.zinv=this.Z.modInverse(this.curve.p)),this.X.multiply(this.zinv).mod(this.curve.p)}getY(){return null===this.zinv&&(this.zinv=this.Z.modInverse(this.curve.p)),this.Y.multiply(this.zinv).mod(this.curve.p)}isInfinity(){return null===this.X&&null===this.Y||this.Z.equals(n.ZERO)&&!this.Y.equals(n.ZERO)}}},function(t,e){function r(){}function n(){}r.prototype.encode=function(t){var e=[],r=t.length;let n=0;for(;n<r;){var i=t.codePointAt(n);let r=0,o=0;for(i<=127?(r=0,o=0):i<=2047?(r=6,o=192):i<=65535?(r=12,o=224):i<=2097151&&(r=18,o=240),e.push(o|i>>r),r-=6;0<=r;)e.push(128|i>>r&63),r-=6;n+=65536<=i?2:1}return e},n.prototype.decode=function(t){let e="",r=0;for(;r<t.length;){let n=t[r],i=0,o=0;if(n<=127?(i=0,o=255&n):n<=223?(i=1,o=31&n):n<=239?(i=2,o=15&n):n<=244&&(i=3,o=7&n),0<t.length-r-i){let e=0;for(;e<i;)n=t[r+e+1],o=o<<6|63&n,e+=1}else o=65533,i=t.length-r;e+=String.fromCodePoint(o),r+=i+1}return e},t.exports={TextDecoder:n,TextEncoder:r}},function(t,e){t.exports={normalize:function(t){let e=[...t];if(32<e.length)e=e.slice(e.length-32,e.length);else if(e.length<32)for(let t=0;t<32-e.length;t++)e.unshift(0);return e},leftPad:function(t,e){return t.length>=e?t:new Array(e-t.length+1).join("0")+t}}},function(t,e,r){e.bignum=r(23),e.define=r(42).define,e.base=r(47),e.constants=r(48),e.decoders=r(26),e.encoders=r(24)},function(t,e,r){(function(t){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){function r(){}t.super_=e,r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function o(t,e,r){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,(this.red=null)!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var a;"object"==typeof t?t.exports=o:e.BN=o,(o.BN=o).wordSize=26;try{a=("undefined"!=typeof window&&void 0!==window.Buffer?window:r(41)).Buffer}catch(t){}function s(t,e){return 65<=(t=t.charCodeAt(e))&&t<=70?t-55:97<=t&&t<=102?t-87:t-48&15}function u(t,e,r){var n=s(t,r);return e<=r-1&&(n|=s(t,r-1)<<4),n}function h(t,e,r,n){for(var i=0,o=Math.min(t.length,r),a=e;a<o;a++){var s=t.charCodeAt(a)-48;i=i*n+(49<=s?s-49+10:17<=s?s-17+10:s)}return i}o.isBN=function(t){return t instanceof o||null!==t&&"object"==typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return 0<t.cmp(e)?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);n((e="hex"===e?16:e)===(0|e)&&2<=e&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},o.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i,o,a=0;a<this.length;a++)this.words[a]=0;var s=0;if("be"===r)for(a=t.length-1,i=0;0<=a;a-=3)o=t[a]|t[a-1]<<8|t[a-2]<<16,this.words[i]|=o<<s&67108863,this.words[i+1]=o>>>26-s&67108863,26<=(s+=24)&&(s-=26,i++);else if("le"===r)for(i=a=0;a<t.length;a+=3)o=t[a]|t[a+1]<<8|t[a+2]<<16,this.words[i]|=o<<s&67108863,this.words[i+1]=o>>>26-s&67108863,26<=(s+=24)&&(s-=26,i++);return this.strip()},o.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,a=0;if("be"===r)for(n=t.length-1;e<=n;n-=2)i=u(t,e,n)<<o,this.words[a]|=67108863&i,18<=o?(o-=18,this.words[a+=1]|=i>>>26):o+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)i=u(t,e,n)<<o,this.words[a]|=67108863&i,18<=o?(o-=18,this.words[a+=1]|=i>>>26):o+=8;this.strip()},o.prototype._parseBase=function(t,e,r){this.words=[0];for(var n=0,i=this.length=1;i<=67108863;i*=e)n++;i=i/e|0;for(var o=t.length-r,a=o%--n,s=Math.min(o,o-a)+r,u=0,c=r;c<s;c+=n)u=h(t,c,c+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!=a){var l=1;for(u=h(t,c,t.length,e),c=0;c<a;c++)l*=e;this.imuln(l),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;1<this.length&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function p(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0,i=(n=(r.length=n)-1|0,(a=(0|t.words[0])*(0|e.words[0]))/67108864|0);r.words[0]=67108863&a;for(var o=1;o<n;o++){for(var a,s=i>>>26,u=67108863&i,h=Math.min(o,e.length-1),c=Math.max(0,o-t.length+1);c<=h;c++)s+=(a=(0|t.words[o-c|0])*(0|e.words[c])+u)/67108864|0,u=67108863&a;r.words[o]=0|u,i=0|s}return 0!==i?r.words[o]=0|i:r.length--,r.strip()}o.prototype.toString=function(t,e){if(e=0|e||1,16===(t=t||10)||"hex"===t){u="";for(var r=0,i=0,o=0;o<this.length;o++){var a=this.words[o],s=(16777215&(a<<r|i)).toString(16),u=0!=(i=a>>>24-r&16777215)||o!==this.length-1?c[6-s.length]+s+u:s+u;26<=(r+=2)&&(r-=26,o--)}for(0!==i&&(u=i.toString(16)+u);u.length%e!=0;)u="0"+u;return 0!==this.negative?"-"+u:u}if(t===(0|t)&&2<=t&&t<=36){var h=l[t],p=f[t];for(u="",(d=this.clone()).negative=0;!d.isZero();){var d,g=d.modn(p).toString(t);u=(d=d.idivn(p)).isZero()?g+u:c[h-g.length]+g+u}for(this.isZero()&&(u="0"+u);u.length%e!=0;)u="0"+u;return 0!==this.negative?"-"+u:u}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:2<this.length&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(t,e){return n(void 0!==a),this.toArrayLike(a,t,e)},o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,r){var i,o,a=this.byteLength(),s=r||Math.max(1,a),u=(r=(n(a<=s,"byte array longer than desired length"),n(0<s,"Requested array length <= 0"),this.strip(),"le"===e),new t(s)),h=this.clone();if(r){for(o=0;!h.isZero();o++)i=h.andln(255),h.iushrn(8),u[o]=i;for(;o<s;o++)u[o]=0}else{for(o=0;o<s-a;o++)u[o]=0;for(o=0;!h.isZero();o++)i=h.andln(255),h.iushrn(8),u[s-o-1]=i}return u},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=0;return 4096<=t&&(e+=13,t>>>=13),64<=t&&(e+=7,t>>>=7),8<=t&&(e+=4,t>>>=4),2<=t&&(e+=2,t>>>=2),e+t},o.prototype._zeroBits=function(t){var e;return 0===t?26:((e=0)==(8191&(t=t))&&(e+=13,t>>>=13),0==(127&t)&&(e+=7,t>>>=7),0==(15&t)&&(e+=4,t>>>=4),0==(3&t)&&(e+=2,t>>>=2),0==(1&t)&&e++,e)},o.prototype.bitLength=function(){var t=this.words[this.length-1];t=this._countBits(t);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},o.prototype.ior=function(t){return n(0==(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){for(var e=this.length>t.length?t:this,r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},o.prototype.iand=function(t){return n(0==(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){for(var e,r=this.length>t.length?(e=this,t):(e=t,this),n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},o.prototype.ixor=function(t){return n(0==(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){n("number"==typeof t&&0<=t);var e=0|Math.ceil(t/26);t%=26;this._expand(e),0<t&&e--;for(var r=0;r<e;r++)this.words[r]=67108863&~this.words[r];return 0<t&&(this.words[r]=~this.words[r]&67108863>>26-t),this.strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){n("number"==typeof t&&0<=t);var r=t/26|0;t%=26;return this._expand(1+r),this.words[r]=e?this.words[r]|1<<t:this.words[r]&~(1<<t),this.strip()},o.prototype.iadd=function(t){var e,r;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();for(var n=this.length>t.length?(r=this,t):(r=t,this),i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){var e;if(0!==t.negative)return t.negative=0,e=this.iadd(t),t.negative=1,e._normSign();if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n=this.cmp(t);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;for(var i=0<n?(r=this,t):(r=t,this),o=0,a=0;a<i.length;a++)o=(e=(0|r.words[a])-(0|i.words[a])+o)>>26,this.words[a]=67108863&e;for(;0!==o&&a<r.length;a++)o=(e=(0|r.words[a])+o)>>26,this.words[a]=67108863&e;if(0===o&&a<r.length&&r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=Math.max(this.length,a),r!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var d=function(t,e,r){var n,i=t.words,o=e.words,a=r.words,s=8191&(u=0|i[0]),u=u>>>13,h=8191&(c=0|i[1]),c=c>>>13,l=8191&(f=0|i[2]),f=f>>>13,p=8191&(d=0|i[3]),d=d>>>13,g=8191&(y=0|i[4]),y=y>>>13,m=8191&(v=0|i[5]),v=v>>>13,w=8191&(b=0|i[6]),b=b>>>13,_=8191&(E=0|i[7]),E=E>>>13,M=8191&(S=0|i[8]),S=S>>>13,x=8191&(i=0|i[9]),T=(i=i>>>13,8191&(A=0|o[0])),A=A>>>13,k=8191&(L=0|o[1]),L=L>>>13,P=8191&(B=0|o[2]),B=B>>>13,O=8191&(I=0|o[3]),I=I>>>13,R=8191&(C=0|o[4]),C=C>>>13,N=8191&(j=0|o[5]),j=j>>>13,F=8191&(q=0|o[6]),q=q>>>13,D=8191&(U=0|o[7]),U=U>>>13,G=8191&(H=0|o[8]),H=H>>>13,K=8191&(o=0|o[9]),z=(o=o>>>13,e=(r.negative=t.negative^e.negative,r.length=19,(0+Math.imul(s,T)|0)+((8191&(t=Math.imul(s,A)+Math.imul(u,T)|0))<<13)|0),(Math.imul(u,A)+(t>>>13)|0)+(e>>>26)|0);e&=67108863,n=Math.imul(h,T),t=Math.imul(h,A)+Math.imul(c,T)|0,Y=Math.imul(c,A);var Y,W=(z+(n+Math.imul(s,k)|0)|0)+((8191&(t=(t+Math.imul(s,L)|0)+Math.imul(u,k)|0))<<13)|0,J=(z=((Y+Math.imul(u,L)|0)+(t>>>13)|0)+(W>>>26)|0,W&=67108863,n=Math.imul(l,T),t=Math.imul(l,A)+Math.imul(f,T)|0,Y=Math.imul(f,A),n=n+Math.imul(h,k)|0,t=(t+Math.imul(h,L)|0)+Math.imul(c,k)|0,Y=Y+Math.imul(c,L)|0,(z+(n+Math.imul(s,P)|0)|0)+((8191&(t=(t+Math.imul(s,B)|0)+Math.imul(u,P)|0))<<13)|0),V=(z=((Y+Math.imul(u,B)|0)+(t>>>13)|0)+(J>>>26)|0,J&=67108863,n=Math.imul(p,T),t=Math.imul(p,A)+Math.imul(d,T)|0,Y=Math.imul(d,A),n=n+Math.imul(l,k)|0,t=(t+Math.imul(l,L)|0)+Math.imul(f,k)|0,Y=Y+Math.imul(f,L)|0,n=n+Math.imul(h,P)|0,t=(t+Math.imul(h,B)|0)+Math.imul(c,P)|0,Y=Y+Math.imul(c,B)|0,(z+(n+Math.imul(s,O)|0)|0)+((8191&(t=(t+Math.imul(s,I)|0)+Math.imul(u,O)|0))<<13)|0),Z=(z=((Y+Math.imul(u,I)|0)+(t>>>13)|0)+(V>>>26)|0,V&=67108863,n=Math.imul(g,T),t=Math.imul(g,A)+Math.imul(y,T)|0,Y=Math.imul(y,A),n=n+Math.imul(p,k)|0,t=(t+Math.imul(p,L)|0)+Math.imul(d,k)|0,Y=Y+Math.imul(d,L)|0,n=n+Math.imul(l,P)|0,t=(t+Math.imul(l,B)|0)+Math.imul(f,P)|0,Y=Y+Math.imul(f,B)|0,n=n+Math.imul(h,O)|0,t=(t+Math.imul(h,I)|0)+Math.imul(c,O)|0,Y=Y+Math.imul(c,I)|0,(z+(n+Math.imul(s,R)|0)|0)+((8191&(t=(t+Math.imul(s,C)|0)+Math.imul(u,R)|0))<<13)|0),X=(z=((Y+Math.imul(u,C)|0)+(t>>>13)|0)+(Z>>>26)|0,Z&=67108863,n=Math.imul(m,T),t=Math.imul(m,A)+Math.imul(v,T)|0,Y=Math.imul(v,A),n=n+Math.imul(g,k)|0,t=(t+Math.imul(g,L)|0)+Math.imul(y,k)|0,Y=Y+Math.imul(y,L)|0,n=n+Math.imul(p,P)|0,t=(t+Math.imul(p,B)|0)+Math.imul(d,P)|0,Y=Y+Math.imul(d,B)|0,n=n+Math.imul(l,O)|0,t=(t+Math.imul(l,I)|0)+Math.imul(f,O)|0,Y=Y+Math.imul(f,I)|0,n=n+Math.imul(h,R)|0,t=(t+Math.imul(h,C)|0)+Math.imul(c,R)|0,Y=Y+Math.imul(c,C)|0,(z+(n+Math.imul(s,N)|0)|0)+((8191&(t=(t+Math.imul(s,j)|0)+Math.imul(u,N)|0))<<13)|0),Q=(z=((Y+Math.imul(u,j)|0)+(t>>>13)|0)+(X>>>26)|0,X&=67108863,n=Math.imul(w,T),t=Math.imul(w,A)+Math.imul(b,T)|0,Y=Math.imul(b,A),n=n+Math.imul(m,k)|0,t=(t+Math.imul(m,L)|0)+Math.imul(v,k)|0,Y=Y+Math.imul(v,L)|0,n=n+Math.imul(g,P)|0,t=(t+Math.imul(g,B)|0)+Math.imul(y,P)|0,Y=Y+Math.imul(y,B)|0,n=n+Math.imul(p,O)|0,t=(t+Math.imul(p,I)|0)+Math.imul(d,O)|0,Y=Y+Math.imul(d,I)|0,n=n+Math.imul(l,R)|0,t=(t+Math.imul(l,C)|0)+Math.imul(f,R)|0,Y=Y+Math.imul(f,C)|0,n=n+Math.imul(h,N)|0,t=(t+Math.imul(h,j)|0)+Math.imul(c,N)|0,Y=Y+Math.imul(c,j)|0,(z+(n+Math.imul(s,F)|0)|0)+((8191&(t=(t+Math.imul(s,q)|0)+Math.imul(u,F)|0))<<13)|0),$=(z=((Y+Math.imul(u,q)|0)+(t>>>13)|0)+(Q>>>26)|0,Q&=67108863,n=Math.imul(_,T),t=Math.imul(_,A)+Math.imul(E,T)|0,Y=Math.imul(E,A),n=n+Math.imul(w,k)|0,t=(t+Math.imul(w,L)|0)+Math.imul(b,k)|0,Y=Y+Math.imul(b,L)|0,n=n+Math.imul(m,P)|0,t=(t+Math.imul(m,B)|0)+Math.imul(v,P)|0,Y=Y+Math.imul(v,B)|0,n=n+Math.imul(g,O)|0,t=(t+Math.imul(g,I)|0)+Math.imul(y,O)|0,Y=Y+Math.imul(y,I)|0,n=n+Math.imul(p,R)|0,t=(t+Math.imul(p,C)|0)+Math.imul(d,R)|0,Y=Y+Math.imul(d,C)|0,n=n+Math.imul(l,N)|0,t=(t+Math.imul(l,j)|0)+Math.imul(f,N)|0,Y=Y+Math.imul(f,j)|0,n=n+Math.imul(h,F)|0,t=(t+Math.imul(h,q)|0)+Math.imul(c,F)|0,Y=Y+Math.imul(c,q)|0,(z+(n+Math.imul(s,D)|0)|0)+((8191&(t=(t+Math.imul(s,U)|0)+Math.imul(u,D)|0))<<13)|0),tt=(z=((Y+Math.imul(u,U)|0)+(t>>>13)|0)+($>>>26)|0,$&=67108863,n=Math.imul(M,T),t=Math.imul(M,A)+Math.imul(S,T)|0,Y=Math.imul(S,A),n=n+Math.imul(_,k)|0,t=(t+Math.imul(_,L)|0)+Math.imul(E,k)|0,Y=Y+Math.imul(E,L)|0,n=n+Math.imul(w,P)|0,t=(t+Math.imul(w,B)|0)+Math.imul(b,P)|0,Y=Y+Math.imul(b,B)|0,n=n+Math.imul(m,O)|0,t=(t+Math.imul(m,I)|0)+Math.imul(v,O)|0,Y=Y+Math.imul(v,I)|0,n=n+Math.imul(g,R)|0,t=(t+Math.imul(g,C)|0)+Math.imul(y,R)|0,Y=Y+Math.imul(y,C)|0,n=n+Math.imul(p,N)|0,t=(t+Math.imul(p,j)|0)+Math.imul(d,N)|0,Y=Y+Math.imul(d,j)|0,n=n+Math.imul(l,F)|0,t=(t+Math.imul(l,q)|0)+Math.imul(f,F)|0,Y=Y+Math.imul(f,q)|0,n=n+Math.imul(h,D)|0,t=(t+Math.imul(h,U)|0)+Math.imul(c,D)|0,Y=Y+Math.imul(c,U)|0,(z+(n+Math.imul(s,G)|0)|0)+((8191&(t=(t+Math.imul(s,H)|0)+Math.imul(u,G)|0))<<13)|0);z=((Y+Math.imul(u,H)|0)+(t>>>13)|0)+(tt>>>26)|0,tt&=67108863,n=Math.imul(x,T),t=Math.imul(x,A)+Math.imul(i,T)|0,Y=Math.imul(i,A),n=n+Math.imul(M,k)|0,t=(t+Math.imul(M,L)|0)+Math.imul(S,k)|0,Y=Y+Math.imul(S,L)|0,n=n+Math.imul(_,P)|0,t=(t+Math.imul(_,B)|0)+Math.imul(E,P)|0,Y=Y+Math.imul(E,B)|0,n=n+Math.imul(w,O)|0,t=(t+Math.imul(w,I)|0)+Math.imul(b,O)|0,Y=Y+Math.imul(b,I)|0,n=n+Math.imul(m,R)|0,t=(t+Math.imul(m,C)|0)+Math.imul(v,R)|0,Y=Y+Math.imul(v,C)|0,n=n+Math.imul(g,N)|0,t=(t+Math.imul(g,j)|0)+Math.imul(y,N)|0,Y=Y+Math.imul(y,j)|0,n=n+Math.imul(p,F)|0,t=(t+Math.imul(p,q)|0)+Math.imul(d,F)|0,Y=Y+Math.imul(d,q)|0,n=n+Math.imul(l,D)|0,t=(t+Math.imul(l,U)|0)+Math.imul(f,D)|0,Y=Y+Math.imul(f,U)|0,n=n+Math.imul(h,G)|0,t=(t+Math.imul(h,H)|0)+Math.imul(c,G)|0,Y=Y+Math.imul(c,H)|0,T=(z+(n+Math.imul(s,K)|0)|0)+((8191&(t=(t+Math.imul(s,o)|0)+Math.imul(u,K)|0))<<13)|0,z=((Y+Math.imul(u,o)|0)+(t>>>13)|0)+(T>>>26)|0,T&=67108863,n=Math.imul(x,k),t=Math.imul(x,L)+Math.imul(i,k)|0,Y=Math.imul(i,L),n=n+Math.imul(M,P)|0,t=(t+Math.imul(M,B)|0)+Math.imul(S,P)|0,Y=Y+Math.imul(S,B)|0,n=n+Math.imul(_,O)|0,t=(t+Math.imul(_,I)|0)+Math.imul(E,O)|0,Y=Y+Math.imul(E,I)|0,n=n+Math.imul(w,R)|0,t=(t+Math.imul(w,C)|0)+Math.imul(b,R)|0,Y=Y+Math.imul(b,C)|0,n=n+Math.imul(m,N)|0,t=(t+Math.imul(m,j)|0)+Math.imul(v,N)|0,Y=Y+Math.imul(v,j)|0,n=n+Math.imul(g,F)|0,t=(t+Math.imul(g,q)|0)+Math.imul(y,F)|0,Y=Y+Math.imul(y,q)|0,n=n+Math.imul(p,D)|0,t=(t+Math.imul(p,U)|0)+Math.imul(d,D)|0,Y=Y+Math.imul(d,U)|0,n=n+Math.imul(l,G)|0,t=(t+Math.imul(l,H)|0)+Math.imul(f,G)|0,Y=Y+Math.imul(f,H)|0,A=(z+(n+Math.imul(h,K)|0)|0)+((8191&(t=(t+Math.imul(h,o)|0)+Math.imul(c,K)|0))<<13)|0,z=((Y+Math.imul(c,o)|0)+(t>>>13)|0)+(A>>>26)|0,A&=67108863,n=Math.imul(x,P),t=Math.imul(x,B)+Math.imul(i,P)|0,Y=Math.imul(i,B),n=n+Math.imul(M,O)|0,t=(t+Math.imul(M,I)|0)+Math.imul(S,O)|0,Y=Y+Math.imul(S,I)|0,n=n+Math.imul(_,R)|0,t=(t+Math.imul(_,C)|0)+Math.imul(E,R)|0,Y=Y+Math.imul(E,C)|0,n=n+Math.imul(w,N)|0,t=(t+Math.imul(w,j)|0)+Math.imul(b,N)|0,Y=Y+Math.imul(b,j)|0,n=n+Math.imul(m,F)|0,t=(t+Math.imul(m,q)|0)+Math.imul(v,F)|0,Y=Y+Math.imul(v,q)|0,n=n+Math.imul(g,D)|0,t=(t+Math.imul(g,U)|0)+Math.imul(y,D)|0,Y=Y+Math.imul(y,U)|0,n=n+Math.imul(p,G)|0,t=(t+Math.imul(p,H)|0)+Math.imul(d,G)|0,Y=Y+Math.imul(d,H)|0,s=(z+(n+Math.imul(l,K)|0)|0)+((8191&(t=(t+Math.imul(l,o)|0)+Math.imul(f,K)|0))<<13)|0,z=((Y+Math.imul(f,o)|0)+(t>>>13)|0)+(s>>>26)|0,s&=67108863,n=Math.imul(x,O),t=Math.imul(x,I)+Math.imul(i,O)|0,Y=Math.imul(i,I),n=n+Math.imul(M,R)|0,t=(t+Math.imul(M,C)|0)+Math.imul(S,R)|0,Y=Y+Math.imul(S,C)|0,n=n+Math.imul(_,N)|0,t=(t+Math.imul(_,j)|0)+Math.imul(E,N)|0,Y=Y+Math.imul(E,j)|0,n=n+Math.imul(w,F)|0,t=(t+Math.imul(w,q)|0)+Math.imul(b,F)|0,Y=Y+Math.imul(b,q)|0,n=n+Math.imul(m,D)|0,t=(t+Math.imul(m,U)|0)+Math.imul(v,D)|0,Y=Y+Math.imul(v,U)|0,n=n+Math.imul(g,G)|0,t=(t+Math.imul(g,H)|0)+Math.imul(y,G)|0,Y=Y+Math.imul(y,H)|0,u=(z+(n+Math.imul(p,K)|0)|0)+((8191&(t=(t+Math.imul(p,o)|0)+Math.imul(d,K)|0))<<13)|0,z=((Y+Math.imul(d,o)|0)+(t>>>13)|0)+(u>>>26)|0,u&=67108863,n=Math.imul(x,R),t=Math.imul(x,C)+Math.imul(i,R)|0,Y=Math.imul(i,C),n=n+Math.imul(M,N)|0,t=(t+Math.imul(M,j)|0)+Math.imul(S,N)|0,Y=Y+Math.imul(S,j)|0,n=n+Math.imul(_,F)|0,t=(t+Math.imul(_,q)|0)+Math.imul(E,F)|0,Y=Y+Math.imul(E,q)|0,n=n+Math.imul(w,D)|0,t=(t+Math.imul(w,U)|0)+Math.imul(b,D)|0,Y=Y+Math.imul(b,U)|0,n=n+Math.imul(m,G)|0,t=(t+Math.imul(m,H)|0)+Math.imul(v,G)|0,Y=Y+Math.imul(v,H)|0,k=(z+(n+Math.imul(g,K)|0)|0)+((8191&(t=(t+Math.imul(g,o)|0)+Math.imul(y,K)|0))<<13)|0,z=((Y+Math.imul(y,o)|0)+(t>>>13)|0)+(k>>>26)|0,k&=67108863,n=Math.imul(x,N),t=Math.imul(x,j)+Math.imul(i,N)|0,Y=Math.imul(i,j),n=n+Math.imul(M,F)|0,t=(t+Math.imul(M,q)|0)+Math.imul(S,F)|0,Y=Y+Math.imul(S,q)|0,n=n+Math.imul(_,D)|0,t=(t+Math.imul(_,U)|0)+Math.imul(E,D)|0,Y=Y+Math.imul(E,U)|0,n=n+Math.imul(w,G)|0,t=(t+Math.imul(w,H)|0)+Math.imul(b,G)|0,Y=Y+Math.imul(b,H)|0,L=(z+(n+Math.imul(m,K)|0)|0)+((8191&(t=(t+Math.imul(m,o)|0)+Math.imul(v,K)|0))<<13)|0,z=((Y+Math.imul(v,o)|0)+(t>>>13)|0)+(L>>>26)|0,L&=67108863,n=Math.imul(x,F),t=Math.imul(x,q)+Math.imul(i,F)|0,Y=Math.imul(i,q),n=n+Math.imul(M,D)|0,t=(t+Math.imul(M,U)|0)+Math.imul(S,D)|0,Y=Y+Math.imul(S,U)|0,n=n+Math.imul(_,G)|0,t=(t+Math.imul(_,H)|0)+Math.imul(E,G)|0,Y=Y+Math.imul(E,H)|0,h=(z+(n+Math.imul(w,K)|0)|0)+((8191&(t=(t+Math.imul(w,o)|0)+Math.imul(b,K)|0))<<13)|0,z=((Y+Math.imul(b,o)|0)+(t>>>13)|0)+(h>>>26)|0,h&=67108863,n=Math.imul(x,D),t=Math.imul(x,U)+Math.imul(i,D)|0,Y=Math.imul(i,U),n=n+Math.imul(M,G)|0,t=(t+Math.imul(M,H)|0)+Math.imul(S,G)|0,Y=Y+Math.imul(S,H)|0,c=(z+(n+Math.imul(_,K)|0)|0)+((8191&(t=(t+Math.imul(_,o)|0)+Math.imul(E,K)|0))<<13)|0,z=((Y+Math.imul(E,o)|0)+(t>>>13)|0)+(c>>>26)|0,c&=67108863,n=Math.imul(x,G),t=Math.imul(x,H)+Math.imul(i,G)|0,Y=Math.imul(i,H),P=(z+(n+Math.imul(M,K)|0)|0)+((8191&(t=(t+Math.imul(M,o)|0)+Math.imul(S,K)|0))<<13)|0,z=((Y+Math.imul(S,o)|0)+(t>>>13)|0)+(P>>>26)|0,P&=67108863,B=(z+Math.imul(x,K)|0)+((8191&(t=Math.imul(x,o)+Math.imul(i,K)|0))<<13)|0;return z=(Math.imul(i,o)+(t>>>13)|0)+(B>>>26)|0,B&=67108863,a[0]=e,a[1]=W,a[2]=J,a[3]=V,a[4]=Z,a[5]=X,a[6]=Q,a[7]=$,a[8]=tt,a[9]=T,a[10]=A,a[11]=s,a[12]=u,a[13]=k,a[14]=L,a[15]=h,a[16]=c,a[17]=P,a[18]=B,0!=z&&(a[19]=z,r.length++),r};function g(t,e,r){return(new y).mulp(t,e,r)}function y(t,e){this.x=t,this.y=e}Math.imul||(d=p),o.prototype.mulTo=function(t,e){var r=this.length+t.length;return r=(10===this.length&&10===t.length?d:r<63?p:r<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){for(var a=i,s=(i=0,67108863&n),u=Math.min(o,e.length-1),h=Math.max(0,o-t.length+1);h<=u;h++){var c,l=(0|t.words[o-h])*(0|e.words[h]);s=67108863&(c=(67108863&l)+s|0);i+=(a=(a=a+(l/67108864|0)|0)+(c>>>26)|0)>>>26,a&=67108863}r.words[o]=s,n=a,a=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}:g)(this,t,e)},y.prototype.makeRBT=function(t){for(var e=new Array(t),r=o.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},y.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},y.prototype.permute=function(t,e,r,n,i,o){for(var a=0;a<o;a++)n[a]=e[t[a]],i[a]=r[t[a]]},y.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,u=Math.cos(2*Math.PI/s),h=Math.sin(2*Math.PI/s),c=0;c<i;c+=s)for(var l=u,f=h,p=0;p<a;p++){var d=r[c+p],g=n[c+p],y=r[c+p+a],m=l*y-f*(v=n[c+p+a]),v=l*v+f*y;r[c+p]=d+(y=m),n[c+p]=g+v,r[c+p+a]=d-y,n[c+p+a]=g-v,p!==s&&(m=u*l-h*f,f=u*f+h*l,l=m)}},y.prototype.guessLen13b=function(t,e){e=1&(n=1|Math.max(e,t));for(var r=0,n=n/2|0;n;n>>>=1)r++;return 1<<r+1+e},y.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},y.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},y.prototype.convert13b=function(t,e,r,i){for(var o=0,a=0;a<e;a++)o+=0|t[a],r[2*a]=8191&o,r[2*a+1]=8191&(o>>>=13),o>>>=13;for(a=2*e;a<i;++a)r[a]=0;n(0===o),n(0==(-8192&o))},y.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},y.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),a=new Array(n),s=new Array(n),u=new Array(n),h=new Array(n),c=new Array(n),l=new Array(n),f=r.words;f.length=n,this.convert13b(t.words,t.length,a,n),this.convert13b(e.words,e.length,h,n),this.transform(a,o,s,u,n,i),this.transform(h,o,c,l,n,i);for(var p=0;p<n;p++){var d=s[p]*c[p]-u[p]*l[p];u[p]=s[p]*l[p]+u[p]*c[p],s[p]=d}return this.conjugate(s,u,n),this.transform(s,u,f,o,n,i),this.conjugate(f,o,n),this.normalize13b(f,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),g(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){n("number"==typeof t),n(t<67108864);for(var e=0,r=0;r<this.length;r++){var i=(0|this.words[r])*t,o=(67108863&i)+(67108863&e);e=(e>>=26)+(i/67108864|0)+(o>>>26);this.words[r]=67108863&o}return 0!==e&&(this.words[r]=e,this.length++),this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r%26;e[r]=(t.words[r/26|0]&1<<n)>>>n}return e}(t);if(0===e.length)return new o(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(t){n("number"==typeof t&&0<=t);var e=t%26,r=(t-e)/26,i=67108863>>>26-e<<26-e;if(0!=e){for(var o=0,a=0;a<this.length;a++){var s=this.words[a]&i,u=(0|this.words[a])-s<<e;this.words[a]=u|o,o=s>>>26-e}o&&(this.words[a]=o,this.length++)}if(0!=r){for(a=this.length-1;0<=a;a--)this.words[a+r]=this.words[a];for(a=0;a<r;a++)this.words[a]=0;this.length+=r}return this.strip()},o.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,r){n("number"==typeof t&&0<=t),i=e?(e-e%26)/26:0;var i,o=t%26,a=Math.min((t-o)/26,this.length),s=67108863^67108863>>>o<<o,u=r;if(i-=a,i=Math.max(0,i),u){for(var h=0;h<a;h++)u.words[h]=this.words[h];u.length=a}if(0!==a)if(this.length>a)for(this.length-=a,h=0;h<this.length;h++)this.words[h]=this.words[h+a];else this.words[0]=0,this.length=1;var c=0;for(h=this.length-1;0<=h&&(0!==c||i<=h);h--){var l=0|this.words[h];this.words[h]=c<<26-o|l>>>o,c=l&s}return u&&0!==c&&(u.words[u.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){n("number"==typeof t&&0<=t);var e=t%26;t=(t-e)/26;return!(this.length<=t||!(this.words[t]&1<<e))},o.prototype.imaskn=function(t){n("number"==typeof t&&0<=t);var e=t%26;t=(t-e)/26;return n(0===this.negative,"imaskn works only with positive numbers"),this.length<=t?this:(0!=e&&t++,this.length=Math.min(t,this.length),0!=e&&(this.words[this.length-1]&=67108863^67108863>>>e<<e),this.strip())},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?(1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0):(this.negative=0,this.isubn(t),this.negative=1),this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&67108864<=this.words[e];e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,--this.words[e+1];return this.strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){for(var i=t.length+r,o=(this._expand(i),0),a=0;a<t.length;a++){var s=(0|this.words[a+r])+o,u=(0|t.words[a])*e;o=((s-=67108863&u)>>26)-(u/67108864|0);this.words[a+r]=67108863&s}for(;a<this.length-r;a++)o=(s=(0|this.words[a+r])+o)>>26,this.words[a+r]=67108863&s;if(0!==o){for(n(-1===o),a=o=0;a<this.length;a++)o=(s=-(0|this.words[a])+o)>>26,this.words[a]=67108863&s;this.negative=1}return this.strip()},o.prototype._wordDiv=function(t,e){this.length,t.length;var r,n=this.clone(),i=t,a=0|i.words[i.length-1],s=(0!=(t=26-this._countBits(a))&&(i=i.ushln(t),n.iushln(t),a=0|i.words[i.length-1]),n.length-i.length);if("mod"!==e){(r=new o(null)).length=1+s,r.words=new Array(r.length);for(var u=0;u<r.length;u++)r.words[u]=0}var h=n.clone()._ishlnsubmul(i,1,s);0===h.negative&&(n=h,r)&&(r.words[s]=1);for(var c=s-1;0<=c;c--){var l=67108864*(0|n.words[i.length+c])+(0|n.words[i.length+c-1]);l=Math.min(l/a|0,67108863);for(n._ishlnsubmul(i,l,c);0!==n.negative;)l--,n.negative=0,n._ishlnsubmul(i,1,c),n.isZero()||(n.negative^=1);r&&(r.words[c]=l)}return r&&r.strip(),n.strip(),"div"!==e&&0!=t&&n.iushrn(t),{div:r||null,mod:n}},o.prototype.divmod=function(t,e,r){var i,a,s;return n(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(s=this.neg().divmod(t,e),"mod"!==e&&(i=s.div.neg()),"div"!==e&&(a=s.mod.neg(),r)&&0!==a.negative&&a.iadd(t),{div:i,mod:a}):0===this.negative&&0!==t.negative?(s=this.divmod(t.neg(),e),{div:i="mod"!==e?s.div.neg():i,mod:s.mod}):0!=(this.negative&t.negative)?(s=this.neg().divmod(t.neg(),e),"div"!==e&&(a=s.mod.neg(),r)&&0!==a.negative&&a.isub(t),{div:s.div,mod:a}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modn(t.words[0]))}:this._wordDiv(t,e)},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e,r,n=this.divmod(t);return n.mod.isZero()||(r=0!==n.div.negative?n.mod.isub(t):n.mod,e=t.ushrn(1),t=t.andln(1),(r=r.cmp(e))<0)||1===t&&0===r?n.div:0!==n.div.negative?n.div.isubn(1):n.div.iaddn(1)},o.prototype.modn=function(t){n(t<=67108863);for(var e=(1<<26)%t,r=0,i=this.length-1;0<=i;i--)r=(e*r+(0|this.words[i]))%t;return r},o.prototype.idivn=function(t){n(t<=67108863);for(var e=0,r=this.length-1;0<=r;r--){var i=(0|this.words[r])+67108864*e;this.words[r]=i/t|0,e=i%t}return this.strip()},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());for(var e=this,r=t.clone(),i=(e=0!==e.negative?e.umod(t):e.clone(),new o(1)),a=new o(0),s=new o(0),u=new o(1),h=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++h;for(var c=r.clone(),l=e.clone();!e.isZero();){for(var f=0,p=1;0==(e.words[0]&p)&&f<26;++f,p<<=1);if(0<f)for(e.iushrn(f);0<f--;)(i.isOdd()||a.isOdd())&&(i.iadd(c),a.isub(l)),i.iushrn(1),a.iushrn(1);for(var d=0,g=1;0==(r.words[0]&g)&&d<26;++d,g<<=1);if(0<d)for(r.iushrn(d);0<d--;)(s.isOdd()||u.isOdd())&&(s.iadd(c),u.isub(l)),s.iushrn(1),u.iushrn(1);0<=e.cmp(r)?(e.isub(r),i.isub(s),a.isub(u)):(r.isub(e),s.isub(i),u.isub(a))}return{a:s,b:u,gcd:r.iushln(h)}},o.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());for(var e,r=this,i=t.clone(),a=(r=0!==r.negative?r.umod(t):r.clone(),new o(1)),s=new o(0),u=i.clone();0<r.cmpn(1)&&0<i.cmpn(1);){for(var h=0,c=1;0==(r.words[0]&c)&&h<26;++h,c<<=1);if(0<h)for(r.iushrn(h);0<h--;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var l=0,f=1;0==(i.words[0]&f)&&l<26;++l,f<<=1);if(0<l)for(i.iushrn(l);0<l--;)s.isOdd()&&s.iadd(u),s.iushrn(1);0<=r.cmp(i)?(r.isub(i),a.isub(s)):(i.isub(r),s.isub(a))}return(e=0===r.cmpn(1)?a:s).cmpn(0)<0&&e.iadd(t),e},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0;for(var n=r.negative=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){n("number"==typeof t);t=(t-(e=t%26))/26;var e=1<<e;if(this.length<=t)this._expand(1+t),this.words[t]|=e;else{for(var r=e,i=t;0!==r&&i<this.length;i++){var o=0|this.words[i];r=(o+=r)>>>26;o&=67108863,this.words[i]=o}0!==r&&(this.words[i]=r,this.length++)}return this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e=t<0;return 0===this.negative||e?0===this.negative&&e?1:(this.strip(),e=1<this.length?1:(n((t=e?-t:t)<=67108863,"Number is too big"),(e=0|this.words[0])===t?0:e<t?-1:1),0!==this.negative?0|-e:e):-1},o.prototype.cmp=function(t){return 0!==this.negative&&0===t.negative?-1:0===this.negative&&0!==t.negative?1:(t=this.ucmp(t),0!==this.negative?0|-t:t)},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;0<=r;r--){var n=0|this.words[r],i=0|t.words[r];if(n!=i){n<i?e=-1:i<n&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return 0<=this.cmpn(t)},o.prototype.gte=function(t){return 0<=this.cmp(t)},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new M(t)},o.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var m={k256:null,p224:null,p192:null,p25519:null};function v(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function w(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function b(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function E(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function M(t){var e;"string"==typeof t?(e=o._prime(t),this.m=e.p,this.prime=e):(n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null)}function S(t){M.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}v.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},v.prototype.ireduce=function(t){for(var e,r=t;this.split(r,this.tmp),(e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength())>this.n;);return 0===(t=e<this.n?-1:r.ucmp(this.p))?(r.words[0]=0,r.length=1):0<t?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},v.prototype.split=function(t,e){t.iushrn(this.n,0,e)},v.prototype.imulK=function(t){return t.imul(this.k)},i(w,v),w.prototype.split=function(t,e){for(var r=Math.min(t.length,9),n=0;n<r;n++)e.words[n]=t.words[n];if(e.length=r,t.length<=9)t.words[0]=0,t.length=1;else{var i=t.words[9];for(e.words[e.length++]=4194303&i,n=10;n<t.length;n++){var o=0|t.words[n];t.words[n-10]=(4194303&o)<<4|i>>>22,i=o}0==(t.words[n-10]=i>>>=22)&&10<t.length?t.length-=10:t.length-=9}},w.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1])&&t.length--,t},i(b,v),i(_,v),i(E,v),E.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(m[t])return m[t];var e;if("k256"===t)e=new w;else if("p224"===t)e=new b;else if("p192"===t)e=new _;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new E}return m[t]=e},M.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},M.prototype._verify2=function(t,e){n(0==(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},M.prototype.imod=function(t){return(this.prime?this.prime.ireduce(t):t.umod(this.m))._forceRed(this)},M.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},M.prototype.add=function(t,e){return this._verify2(t,e),0<=(t=t.add(e)).cmp(this.m)&&t.isub(this.m),t._forceRed(this)},M.prototype.iadd=function(t,e){return this._verify2(t,e),0<=(t=t.iadd(e)).cmp(this.m)&&t.isub(this.m),t},M.prototype.sub=function(t,e){return this._verify2(t,e),(t=t.sub(e)).cmpn(0)<0&&t.iadd(this.m),t._forceRed(this)},M.prototype.isub=function(t,e){return this._verify2(t,e),(t=t.isub(e)).cmpn(0)<0&&t.iadd(this.m),t},M.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},M.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},M.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},M.prototype.isqr=function(t){return this.imul(t,t.clone())},M.prototype.sqr=function(t){return this.mul(t,t)},M.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e)return e=this.m.add(new o(1)).iushrn(2),this.pow(t,e);for(var r=this.m.subn(1),i=0;!r.isZero()&&0===r.andln(1);)i++,r.iushrn(1);n(!r.isZero());for(var a=new o(1).toRed(this),s=a.redNeg(),u=this.m.subn(1).iushrn(1),h=new o(2*(h=this.m.bitLength())*h).toRed(this);0!==this.pow(h,u).cmp(s);)h.redIAdd(s);for(var c=this.pow(h,r),l=this.pow(t,r.addn(1).iushrn(1)),f=this.pow(t,r),p=i;0!==f.cmp(a);){for(var d=f,g=0;0!==d.cmp(a);g++)d=d.redSqr();n(g<p);var y=this.pow(c,new o(1).iushln(p-g-1));l=l.redMul(y),c=y.redSqr(),f=f.redMul(c),p=g}return l},M.prototype.invm=function(t){return 0!==(t=t._invmp(this.m)).negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},M.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],a=0,s=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;0<=n;n--){for(var h=e.words[n],c=u-1;0<=c;c--){var l=h>>c&1;i!==r[0]&&(i=this.sqr(i)),0==l&&0===a?s=0:(a=a<<1|l,(4==++s||0===n&&0===c)&&(i=this.mul(i,r[a]),a=s=0))}u=26}return i},M.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},M.prototype.convertFrom=function(t){return(t=t.clone()).red=null,t},o.mont=function(t){return new S(t)},i(S,M),S.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},S.prototype.convertFrom=function(t){return(t=this.imod(t.mul(this.rinv))).red=null,t},S.prototype.imul=function(t,e){return t.isZero()||e.isZero()?(t.words[0]=0,t.length=1,t):(e=(t=t.imul(e)).maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),0<=(e=t=t.isub(e).iushrn(this.shift)).cmp(this.m)?e=t.isub(this.m):t.cmpn(0)<0&&(e=t.iadd(this.m)),e._forceRed(this))},S.prototype.mul=function(t,e){return(t.isZero()||e.isZero()?new o(0):(e=(t=t.mul(e)).maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),0<=(e=t=t.isub(e).iushrn(this.shift)).cmp(this.m)?e=t.isub(this.m):t.cmpn(0)<0&&(e=t.iadd(this.m)),e))._forceRed(this)},S.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,this)}).call(this,r(40)(t))},function(t,e,r){e.der=r(25),e.pem=r(45)},function(t,e,r){var n=r(3);const i=r(11).Buffer,o=r(12),a=r(14);function s(t){o.call(this,"der",t)}function u(t){return t<10?"0"+t:t}(t.exports=function(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new s,this.tree._init(t.body)}).prototype.encode=function(t,e){return this.tree._encode(t,e).join()},n(s,o),s.prototype._encodeComposite=function(t,e,r,n){if(t=function(t,e,r,n){let i;if("seqof"===t?t="seq":"setof"===t&&(t="set"),a.tagByName.hasOwnProperty(t))i=a.tagByName[t];else{if("number"!=typeof t||(0|t)!==t)return n.error("Unknown tag: "+t);i=t}return 31<=i?n.error("Multi-octet tag encoding unsupported"):(e||(i|=32),i|a.tagClassByName[r||"universal"]<<6)}(t,e,r,this.reporter),n.length<128){const e=i.alloc(2);return e[0]=t,e[1]=n.length,this._createEncoderBuffer([e,n])}let o=1;for(let t=n.length;256<=t;t>>=8)o++;const s=i.alloc(2+o);s[0]=t,s[1]=128|o;for(let t=1+o,e=n.length;0<e;t--,e>>=8)s[t]=255&e;return this._createEncoderBuffer([s,n])},s.prototype._encodeStr=function(t,e){if("bitstr"===e)return this._createEncoderBuffer([0|t.unused,t.data]);if("bmpstr"!==e)return"numstr"===e?this._isNumstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===e?this._isPrintstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(e)||"objDesc"===e?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: "+e+" unsupported");var r=i.alloc(2*t.length);for(let e=0;e<t.length;e++)r.writeUInt16BE(t.charCodeAt(e),2*e);return this._createEncoderBuffer(r)},s.prototype._encodeObjid=function(t,e,r){if("string"==typeof t){if(!e)return this.reporter.error("string objid given, but no values map found");if(!e.hasOwnProperty(t))return this.reporter.error("objid not found in values map");t=e[t].split(/[\s.]+/g);for(let e=0;e<t.length;e++)t[e]|=0}else if(Array.isArray(t)){t=t.slice();for(let e=0;e<t.length;e++)t[e]|=0}if(!Array.isArray(t))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(t));if(!r){if(40<=t[1])return this.reporter.error("Second objid identifier OOB");t.splice(0,2,40*t[0]+t[1])}let n=0;for(let e=0;e<t.length;e++){let r=t[e];for(n++;128<=r;r>>=7)n++}var o=i.alloc(n);let a=o.length-1;for(let e=t.length-1;0<=e;e--){let r=t[e];for(o[a--]=127&r;0<(r>>=7);)o[a--]=128|127&r}return this._createEncoderBuffer(o)},s.prototype._encodeTime=function(t,e){let r;return t=new Date(t),"gentime"===e?r=[u(t.getUTCFullYear()),u(t.getUTCMonth()+1),u(t.getUTCDate()),u(t.getUTCHours()),u(t.getUTCMinutes()),u(t.getUTCSeconds()),"Z"].join(""):"utctime"===e?r=[u(t.getUTCFullYear()%100),u(t.getUTCMonth()+1),u(t.getUTCDate()),u(t.getUTCHours()),u(t.getUTCMinutes()),u(t.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+e+" time is not supported yet"),this._encodeStr(r,"octstr")},s.prototype._encodeNull=function(){return this._createEncoderBuffer("")},s.prototype._encodeInt=function(t,e){if("string"==typeof t){if(!e)return this.reporter.error("String int or enum given, but no values map");if(!e.hasOwnProperty(t))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(t));t=e[t]}if("number"==typeof t||i.isBuffer(t)||(e=t.toArray(),!t.sign&&128&e[0]&&e.unshift(0),t=i.from(e)),i.isBuffer(t)){let e=t.length;0===t.length&&e++;const r=i.alloc(e);return t.copy(r),0===t.length&&(r[0]=0),this._createEncoderBuffer(r)}if(t<128)return this._createEncoderBuffer(t);if(t<256)return this._createEncoderBuffer([0,t]);let r=1;for(let e=t;256<=e;e>>=8)r++;const n=new Array(r);for(let e=n.length-1;0<=e;e--)n[e]=255&t,t>>=8;return 128&n[0]&&n.unshift(0),this._createEncoderBuffer(i.from(n))},s.prototype._encodeBool=function(t){return this._createEncoderBuffer(t?255:0)},s.prototype._use=function(t,e){return(t="function"==typeof t?t(e):t)._getEncoder("der").tree},s.prototype._skipDefault=function(t,e,r){var n=this._baseState;let i;if(null===n.default)return!1;var o=t.join();if(void 0===n.defaultBuffer&&(n.defaultBuffer=this._encodeValue(n.default,e,r).join()),o.length!==n.defaultBuffer.length)return!1;for(i=0;i<o.length;i++)if(o[i]!==n.defaultBuffer[i])return!1;return!0}},function(t,e,r){e.der=r(27),e.pem=r(46)},function(t,e,r){var n=r(3);const i=r(23),o=r(5).DecoderBuffer,a=r(12),s=r(14);function u(t){a.call(this,"der",t)}function h(t,e){let r=t.readUInt8(e);if(t.isError(r))return r;var n=s.tagClass[r>>6],i=0==(32&r);if(31==(31&r)){let n=r;for(r=0;128==(128&n);){if(n=t.readUInt8(e),t.isError(n))return n;r=(r<<=7)|127&n}}else r&=31;return{cls:n,primitive:i,tag:r,tagStr:s.tag[r]}}function c(t,e,r){let n=t.readUInt8(r);if(!t.isError(n)){if(!e&&128===n)return null;if(0!=(128&n)){var i=127&n;if(4<i)return t.error("length octect is too long");for(let e=n=0;e<i;e++){n<<=8;var o=t.readUInt8(r);if(t.isError(o))return o;n|=o}}}return n}(t.exports=function(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new u,this.tree._init(t.body)}).prototype.decode=function(t,e){return o.isDecoderBuffer(t)||(t=new o(t,e)),this.tree._decode(t,e)},n(u,a),u.prototype._peekTag=function(t,e,r){var n,i;return!t.isEmpty()&&(n=t.save(),i=h(t,'Failed to peek tag: "'+e+'"'),t.isError(i)?i:(t.restore(n),i.tag===e||i.tagStr===e||i.tagStr+"of"===e||r))},u.prototype._decodeTag=function(t,e,r){var n=h(t,'Failed to decode tag of "'+e+'"');if(t.isError(n))return n;var i=c(t,n.primitive,'Failed to get length of "'+e+'"');if(t.isError(i))return i;if(!r&&n.tag!==e&&n.tagStr!==e&&n.tagStr+"of"!==e)return t.error('Failed to match tag: "'+e+'"');if(!n.primitive&&null===i){if(r=t.save(),n=this._skipUntilEnd(t,'Failed to skip indefinite length body: "'+this.tag+'"'),t.isError(n))return n;i=t.offset-r.offset,t.restore(r)}return t.skip(i,'Failed to match body of: "'+e+'"')},u.prototype._skipUntilEnd=function(t,e){for(;;){var r=h(t,e);if(t.isError(r))return r;var n=c(t,r.primitive,e);if(t.isError(n))return n;let i;if(i=r.primitive||null!==n?t.skip(n):this._skipUntilEnd(t,e),t.isError(i))return i;if("end"===r.tagStr)break}},u.prototype._decodeList=function(t,e,r,n){for(var i=[];!t.isEmpty();){var o=this._peekTag(t,"end");if(t.isError(o))return o;var a=r.decode(t,"der",n);if(t.isError(a)&&o)break;i.push(a)}return i},u.prototype._decodeStr=function(t,e){var r;if("bitstr"===e)return r=t.readUInt8(),t.isError(r)?r:{unused:r,data:t.raw()};if("bmpstr"!==e)return"numstr"===e?(r=t.raw().toString("ascii"),this._isNumstr(r)?r:t.error("Decoding of string type: numstr unsupported characters")):"octstr"===e||"objDesc"===e?t.raw():"printstr"===e?(r=t.raw().toString("ascii"),this._isPrintstr(r)?r:t.error("Decoding of string type: printstr unsupported characters")):/str$/.test(e)?t.raw().toString():t.error("Decoding of string type: "+e+" unsupported");{var n=t.raw();if(n.length%2==1)return t.error("Decoding of string type: bmpstr length mismatch");let e="";for(let t=0;t<n.length/2;t++)e+=String.fromCharCode(n.readUInt16BE(2*t));return e}},u.prototype._decodeObjid=function(t,e,r){let n;var i=[];let o=0,a=0;for(;!t.isEmpty();)a=t.readUInt8(),o=(o<<=7)|127&a,0==(128&a)&&(i.push(o),o=0);if(128&a&&i.push(o),n=r?i:[i[0]/40|0,i[0]%40].concat(i.slice(1)),e){let t=e[n.join(" ")];void 0!==(t=void 0===t?e[n.join(".")]:t)&&(n=t)}return n},u.prototype._decodeTime=function(t,e){var r=t.raw().toString();let n,i,o,a,s,u;if("gentime"===e)n=0|r.slice(0,4),i=0|r.slice(4,6),o=0|r.slice(6,8),a=0|r.slice(8,10),s=0|r.slice(10,12),u=0|r.slice(12,14);else{if("utctime"!==e)return t.error("Decoding "+e+" time is not supported yet");n=0|r.slice(0,2),i=0|r.slice(2,4),o=0|r.slice(4,6),a=0|r.slice(6,8),s=0|r.slice(8,10),u=0|r.slice(10,12),n=n<70?2e3+n:1900+n}return Date.UTC(n,i-1,o,a,s,u,0)},u.prototype._decodeNull=function(){return null},u.prototype._decodeBool=function(t){var e=t.readUInt8();return t.isError(e)?e:0!==e},u.prototype._decodeInt=function(t,e){t=t.raw();let r=new i(t);return e&&e[r.toString(10)]||r},u.prototype._use=function(t,e){return(t="function"==typeof t?t(e):t)._getDecoder("der").tree}},function(t,e){t.exports={bitSlice(t,e,r){return t=this._shiftRight(t.slice(e/32),32-(31&e)).slice(1),void 0===r?t:this.clamp(t,r-e)},extract(t,e,r){let n;var i=Math.floor(-e-r&31);return(n=-32&(e+r-1^e)?t[e/32|0]<<32-i^t[e/32+1|0]>>>i:t[e/32|0]>>>i)&(1<<r)-1},concat(t,e){var r,n;return 0===t.length||0===e.length||(r=t[t.length-1],32===(n=this.getPartial(r)))?t.concat(e):this._shiftRight(e,n,0|r,t.slice(0,t.length-1))},bitLength(t){var e=t.length;return 0===e?0:(t=t[e-1],32*(e-1)+this.getPartial(t))},clamp(t,e){var r;return 32*t.length<e||(r=(t=t.slice(0,Math.ceil(e/32))).length,e&=31,0<r&&e&&(t[r-1]=this.partial(e,t[r-1]&2147483648>>e-1,1))),t},partial:(t,e,r)=>32===t?e:(r?0|e:e<<32-t)+1099511627776*t,getPartial:t=>Math.round(t/1099511627776)||32,equal(t,e){if(this.bitLength(t)!==this.bitLength(e))return!1;let r,n=0;for(r=0;r<t.length;r++)n|=t[r]^e[r];return 0===n},_shiftRight(t,e,r,n){let i;var o;for(void 0===n&&(n=[]);32<=e;e-=32)n.push(r),r=0;if(0===e)return n.concat(t);for(i=0;i<t.length;i++)n.push(r|t[i]>>>e),r=t[i]<<32-e;return o=t.length?t[t.length-1]:0,o=this.getPartial(o),n.push(this.partial(e+o&31,32<e+o?r:n.pop(),1)),n},_xor4:(t,e)=>[t[0]^e[0],t[1]^e[1],t[2]^e[2],t[3]^e[3]],byteswapM(t){let e;var r;for(e=0;e<t.length;++e)r=t[e],t[e]=r>>>24|r>>>8&65280|(65280&r)<<8|r<<24;return t},bytesFromBits(t){var e=[],r=this.bitLength(t);let n,i;for(n=0;n<r/8;n++)0==(3&n)&&(i=t[n/4]),e.push(i>>>24),i<<=8;return e},bytesToBits(t){var e=[];let r,n=0;for(r=0;r<t.length;r++)n=n<<8|t[r],3==(3&r)&&(e.push(n),n=0);return 3&r&&e.push(this.partial(8*(3&r),n)),e}}},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function r(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.exports=function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}},function(t,e,r){!function(){"use strict";var e=r(54),n=r(55),i={deflate:8},o={fat:0,amiga:1,vmz:2,unix:3,"vm/cms":4,atari:5,hpfs:6,macintosh:7,"z-system":8,cplm:9,"tops-20":10,ntfs:11,qdos:12,acorn:13,vfat:14,vms:15,beos:16,tandem:17,theos:18};function a(t,e){e.push(255&t)}function s(t,e){e.push(255&t),e.push(t>>>8)}function u(t,e){s(65535&t,e),s(t>>>16,e)}function h(t){return t.shift()}function c(t){return t.shift()|t.shift()<<8}function l(t){var e=c(t);return 32768<(t=c(t))?((t-=32768)<<16|e)+32768*Math.pow(2,16):t<<16|e}function f(t){for(var e=[];0!==t[0];)e.push(String.fromCharCode(t.shift()));t.shift(),e.join("")}t.exports={zip:function(t,r){var s=0,h=[],c=(r=r||{}).level||6;if("string"==typeof t&&(t=Array.prototype.map.call(t,(function(t){return t.charCodeAt(0)}))),a(31,h),a(139,h),a(i.deflate,h),r.name&&(s|=8),a(s,h),u(r.timestamp||parseInt(Date.now()/1e3,10),h),a(1===c?4:9===c?2:0,h),a(o.unix,h),r.name){for(var l=r.name.substring(r.name.lastIndexOf("/")+1),f=h,p=l.length,d=0;d<p;d+=1)a(l.charCodeAt(d),f);a(0,h)}return n.deflate(t,c).forEach((function(t){a(t,h)})),u(parseInt(e(t),16),h),u(t.length,h),h},unzip:function(t,r){var a,s,u;if(31!==h(t=Array.prototype.slice.call(t,0))||139!==h(t))throw"Not a GZIP file";if(p=h(t),!(p=Object.keys(i).some((function(t){return i[a=t]===p}))))throw"Unsupported compression method";if(s=h(t),l(t),h(t),p=h(t),Object.keys(o).some((function(t){if(o[t]===p)return!0})),4&s)for(var p=c(t),d=t,g=p,y=[],m=0;m<g;m+=1)y.push(d.shift());if(8&s&&f(t),16&s&&f(t),2&s&&c(t),"deflate"===a&&(u=n.inflate(t.splice(0,t.length-8))),1&s&&(u=Array.prototype.map.call(u,(function(t){return String.fromCharCode(t)})).join("")),l(t)!==parseInt(e(u),16))throw"Checksum does not match";if(l(t)!==u.length)throw"Size of decompressed file not correct";return u},get DEFAULT_LEVEL(){return 6}}}()},function(t,e){t.exports=function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}},function(t,e){var r,n;r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&n.rotl(t,8)|4278255360&n.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=n.endian(t[e]);return t},randomBytes:function(t){for(var e=[];0<t;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],r=0,n=0;r<t.length;r++,n+=8)e[n>>>5]|=t[r]<<24-n%32;return e},wordsToBytes:function(t){for(var e=[],r=0;r<32*t.length;r+=8)e.push(t[r>>>5]>>>24-r%32&255);return e},bytesToHex:function(t){for(var e=[],r=0;r<t.length;r++)e.push((t[r]>>>4).toString(16)),e.push((15&t[r]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(parseInt(t.substr(r,2),16));return e},bytesToBase64:function(t){for(var e=[],n=0;n<t.length;n+=3)for(var i=t[n]<<16|t[n+1]<<8|t[n+2],o=0;o<4;o++)8*n+6*o<=8*t.length?e.push(r.charAt(i>>>6*(3-o)&63)):e.push("=");return e.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var e=[],n=0,i=0;n<t.length;i=++n%4)0!=i&&e.push((r.indexOf(t.charAt(n-1))&Math.pow(2,-2*i+8)-1)<<2*i|r.indexOf(t.charAt(n))>>>6-2*i);return e}},t.exports=n},function(t,e){function r(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}t.exports=function(t){return null!=t&&(r(t)||"function"==typeof(e=t).readFloatLE&&"function"==typeof e.slice&&r(e.slice(0,0))||!!t._isBuffer);var e}},function(t,e){var r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e){e.read=function(t,e,r,n,i){var o,a,s=8*i-n-1,u=(1<<s)-1,h=u>>1,c=-7,l=r?i-1:0,f=r?-1:1;i=t[e+l];for(l+=f,o=i&(1<<-c)-1,i>>=-c,c+=s;0<c;o=256*o+t[e+l],l+=f,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=n;0<c;a=256*a+t[e+l],l+=f,c-=8);if(0===o)o=1-h;else{if(o===u)return a?NaN:1/0*(i?-1:1);a+=Math.pow(2,n),o-=h}return(i?-1:1)*a*Math.pow(2,o-n)},e.write=function(t,e,r,n,i,o){var a,s,u=8*o-i-1,h=(1<<u)-1,c=h>>1,l=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:o-1,p=n?1:-1;o=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=h):(a=Math.floor(Math.log(e)/Math.LN2),e*(n=Math.pow(2,-a))<1&&(a--,n*=2),2<=(e+=1<=a+c?l/n:l*Math.pow(2,1-c))*n&&(a++,n/=2),h<=a+c?(s=0,a=h):1<=a+c?(s=(e*n-1)*Math.pow(2,i),a+=c):(s=e*Math.pow(2,c-1)*Math.pow(2,i),a=0));8<=i;t[r+f]=255&s,f+=p,s/=256,i-=8);for(a=a<<i|s,u+=i;0<u;t[r+f]=255&a,f+=p,a/=256,u-=8);t[r+f-p]|=128*o}},function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},function(t,e,r){var n=r(10);const i=new(r(8)),o=new n,a=r(21);function s(t,e){var r=new Array(2+t.length+192),n=8*t.length;r[0]=n>>8&255,r[1]=255&n;for(let e=0;e<t.length;e++)r[2+e]=t[e];let s=2+t.length;var u=a.normalize(i.a.toByteArray());for(let t=0;t<u.length;t++)r[s+t]=(u[t]>>>0)%256;s+=u.length;var h=a.normalize(i.b.toByteArray());for(let t=0;t<h.length;t++)r[s+t]=(h[t]>>>0)%256;s+=h.length;var c=a.normalize(i.Gx.toByteArray());for(let t=0;t<c.length;t++)r[s+t]=(c[t]>>>0)%256;s+=c.length;var l=a.normalize(i.Gy.toByteArray());for(let t=0;t<l.length;t++)r[s+t]=(l[t]>>>0)%256;s+=l.length;var f=a.normalize(e.getX().toByteArray());for(let t=0;t<f.length;t++)r[s+t]=(f[t]>>>0)%256;s+=f.length;var p=a.normalize(e.getY().toByteArray());for(let t=0;t<p.length;t++)r[s+t]=(p[t]>>>0)%256;return s+=p.length,o.init(),o.update(r),o.final()}t.exports={SM2MessageDigest:function(t,e,r){return e=s(e,r),o.init(),o.update(e),o.update(t),o.final()},SM2GetZ:s,kdf:function(t,e){if(137438953440<e)return-1;if(1024<t.length)return-1;let r=1,n=e;var i,a=[];let s=0;for(t.push((r>>>24)%256),t.push((r>>>16)%256),t.push((r>>>8)%256),t.push((r>>>0)%256);0<n;){if(o.init(),o.update(t),i=o.final(),n<=32)for(let t=0;t<n;t++)a[s+t]=i[t];else{var u=32<=e?32:e;for(let t=0;t<u;t++)a[s+t]=i[t]}n-=32,s+=32,r++,t[t.length-4]=(r>>>24)%256,t[t.length-3]=(r>>>16)%256,t[t.length-2]=(r>>>8)%256,t[t.length-1]=(r>>>0)%256}return a}}},function(t,e,r){const n=r(7).BigInteger,i=r(8),o=r(19);t.exports=class{constructor(){this.curve=new i,this.G=new o("32C4AE2C1F1981195F9904466A39C9948FE30BBFF2660BE1715A4589334C74C7","BC3736A2F4F6779C59BDCEE36B692153D0A9877CC62A474002DF32E52139F0A0"),this.zero=new n("0"),this.one=new n("1"),this.two=new n("2"),this.three=new n("3"),this.infinity=new o(null,null),this.preCompute()}preCompute(){var t=new Map;for(let e=1;e<256;e++)t.set(""+e,this.preComputeMultiplyG(new n(""+e)));this.map=t}preComputeMultiplyG(t){if(t.equals(this.one))return this.G;let e=this.G;for(let r=t.bitLength()-2;0<=r;r--)e=this.ECPointDoubling(e),1==t.testBit(r)&&(e=this.ECPointAdd(e,this.G));return e}ECPointAdd(t,e){var r,n,i,a,s,u,h=this.curve.p;return t.isInfinity()?e:e.isInfinity()?t:(r=t.X,n=t.Y,u=t.Z,i=e.X,s=e.Y,e=e.Z,r=r.multiply(e).mod(h),i=i.multiply(u).mod(h),a=r.subtract(i),n=n.multiply(e).mod(h),s=s.multiply(u).mod(h),s=n.subtract(s),this.zero.equals(a)?this.zero.equals(s)?this.ECPointDoubling(t):this.infinity:(t=r.add(i),i=u.multiply(e).mod(h),u=a.square().mod(h),e=a.multiply(u).mod(h),t=i.multiply(s.square()).subtract(t.multiply(u)).mod(h),a=a.multiply(t).mod(h),s=s.multiply(u.multiply(r).subtract(t)).subtract(n.multiply(e)).mod(h),u=e.multiply(i).mod(h),new o(a,s,u)))}ECPointDoubling(t){var e,r,n,i,a,s,u;return t.isInfinity()?t:t.Y.signum()?(u=t.X,n=t.Y,t=t.Z,e=this.curve.p,s=this.curve.a,s=u.square().multiply(this.three).add(s.multiply(t.square())).mod(e),r=n.shiftLeft(1).multiply(t).mod(e),u=(n=n.square().mod(e)).multiply(u).multiply(t).mod(e),t=r.square().mod(e),i=s.square().subtract(u.shiftLeft(3)).mod(e),a=r.multiply(i).mod(e),s=s.multiply(u.shiftLeft(2).subtract(i)).subtract(t.shiftLeft(1).multiply(n)).mod(e),u=r.multiply(t).mod(e),new o(a,s,u)):this.infinity}ECPointMultiply(t,e){if(e.equals(this.one))return t;let r=t;for(let n=e.bitLength()-2;0<=n;n--)r=this.ECPointDoubling(r),1==e.testBit(n)&&(r=this.ECPointAdd(r,t));return r}ECPointMultiplyG(t){if(t.equals(this.one))return this.G;var e=t.bitLength(),r=e%8==0?8:e%8;let n=this.map.get(t.shiftRight(e-r).toString());for(let e=t.bitLength()-r-1;0<e;e-=8){n=this.ECPointDoubling(n),n=this.ECPointDoubling(n),n=this.ECPointDoubling(n),n=this.ECPointDoubling(n),n=this.ECPointDoubling(n),n=this.ECPointDoubling(n),n=this.ECPointDoubling(n),n=this.ECPointDoubling(n);let r=0;for(let n=0;n<8;n++)r*=2,t.testBit(e-n)&&(r+=1);0!==r&&(n=this.ECPointAdd(n,this.map.get(""+r)))}return n}ECPointIsOnCurve(t){var e=t.Y.multiply(t.Y).mod(this.curve.p);t=t.X.multiply(t.X).multiply(t.X).add(t.X.multiply(this.curve.a)).add(this.curve.b).mod(this.curve.p);return e.equals(t)}}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){},function(t,e,r){const n=r(24),i=r(26),o=r(3);function a(t,e){this.name=t,this.body=e,this.decoders={},this.encoders={}}e.define=function(t,e){return new a(t,e)},a.prototype._createNamed=function(t){const e=this.name;function r(t){this._initNamed(t,e)}return o(r,t),r.prototype._initNamed=function(e,r){t.call(this,e,r)},new r(this)},a.prototype._getDecoder=function(t){return this.decoders.hasOwnProperty(t=t||"der")||(this.decoders[t]=this._createNamed(i[t])),this.decoders[t]},a.prototype.decode=function(t,e,r){return this._getDecoder(e).decode(t,r)},a.prototype._getEncoder=function(t){return this.encoders.hasOwnProperty(t=t||"der")||(this.encoders[t]=this._createNamed(n[t])),this.encoders[t]},a.prototype.encode=function(t,e,r){return this._getEncoder(e).encode(t,r)}},function(t,e){var r,n;t=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}try{r="function"==typeof setTimeout?setTimeout:i}catch(t){r=i}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(t){n=o}function a(t){if(r===setTimeout)return setTimeout(t,0);if((r===i||!r)&&setTimeout)return(r=setTimeout)(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}var s,u=[],h=!1,c=-1;function l(){h&&s&&(h=!1,s.length?u=s.concat(u):c=-1,u.length)&&f()}function f(){if(!h){for(var t=a(l),e=(h=!0,u.length);e;){for(s=u,u=[];++c<e;)s&&s[c].run();c=-1,e=u.length}s=null,h=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===o||!n)&&clearTimeout)return(n=clearTimeout)(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function d(){}t.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];u.push(new p(t,e)),1!==u.length||h||a(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=d,t.addListener=d,t.once=d,t.off=d,t.removeListener=d,t.removeAllListeners=d,t.emit=d,t.prependListener=d,t.prependOnceListener=d,t.listeners=function(t){return[]},t.binding=function(t){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(t){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},function(t,e){(t.exports=function(t,e){if(!t)throw new Error(e||"Assertion failed")}).equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)}},function(t,e,r){var n=r(3);const i=r(25);function o(t){i.call(this,t),this.enc="pem"}n(o,i),(t.exports=o).prototype.encode=function(t,e){var r=i.prototype.encode.call(this,t).toString("base64"),n=["-----BEGIN "+e.label+"-----"];for(let t=0;t<r.length;t+=64)n.push(r.slice(t,t+64));return n.push("-----END "+e.label+"-----"),n.join("\n")}},function(t,e,r){var n=r(3);const i=r(11).Buffer,o=r(27);function a(t){o.call(this,t),this.enc="pem"}n(a,o),(t.exports=a).prototype.decode=function(t,e){var r=t.toString().split(/[\r\n]+/g),n=e.label.toUpperCase(),a=/^-----(BEGIN|END) ([^-]+)-----$/;let s=-1,u=-1;for(let t=0;t<r.length;t++){var h=r[t].match(a);if(null!==h&&h[2]===n){if(-1!==s){if("END"!==h[1])break;u=t;break}if("BEGIN"!==h[1])break;s=t}}if(-1===s||-1===u)throw new Error("PEM section not found for: "+n);return(t=r.slice(s+1,u).join("")).replace(/[^a-z0-9+/=]+/gi,""),t=i.from(t,"base64"),o.prototype.decode.call(this,t,e)}},function(t,e,r){e.Reporter=r(13).Reporter,e.DecoderBuffer=r(5).DecoderBuffer,e.EncoderBuffer=r(5).EncoderBuffer,e.Node=r(12)},function(t,e,r){e._reverse=function(t){const e={};return Object.keys(t).forEach((function(r){(0|r)==r&&(r|=0);var n=t[r];e[n]=r})),e},e.der=r(14)},function(t,e,r){const n=r(50),i=r(28),o=r(4),a=[214,144,233,254,204,225,61,183,22,182,20,194,40,251,44,5,43,103,154,118,42,190,4,195,170,68,19,38,73,134,6,153,156,66,80,244,145,239,152,122,51,84,11,67,237,207,172,98,228,179,28,169,201,8,232,149,128,223,148,250,117,143,63,166,71,7,167,252,243,115,23,186,131,89,60,25,230,133,79,168,104,107,129,178,113,100,218,139,248,235,15,75,112,86,157,53,30,36,14,94,99,88,209,162,37,34,124,59,1,33,120,135,212,0,70,87,159,211,39,82,76,54,2,231,160,196,200,158,234,191,138,210,64,199,56,181,163,247,242,206,249,97,21,161,224,174,93,164,155,52,26,85,173,147,50,48,245,140,177,227,29,246,226,46,130,102,202,96,192,41,35,171,13,83,78,111,213,219,55,69,222,253,142,47,3,255,106,114,109,108,91,81,141,27,175,146,187,221,188,127,17,217,92,65,31,16,90,216,10,193,49,136,165,205,123,189,45,116,208,18,184,229,180,176,137,105,151,74,12,150,119,126,101,185,241,9,197,110,198,132,24,240,125,236,58,220,77,32,121,238,95,62,215,203,57,72],s=[462357,472066609,943670861,1415275113,1886879365,2358483617,2830087869,3301692121,3773296373,4228057617,404694573,876298825,1347903077,1819507329,2291111581,2762715833,3234320085,3705924337,4177462797,337322537,808926789,1280531041,1752135293,2223739545,2695343797,3166948049,3638552301,4110090761,269950501,741554753,1213159005,1684763257],u=[2746333894,1453994832,1736282519,2993693404],h={base64:"byteArrayToBase64",hex:"byteArrayToHex",text:"utf8ByteArrayToString",bytes:"byteArrayToByteArray"},c={base64:"base64ToByteArray",hex:"hexToByteArray",text:"stringToByteArrayInUtf8",bytes:"byteArrayToByteArray"};t.exports=class{constructor(t){let e=t.key;if(16!==(e="string"==typeof e?o.stringToByteArrayInUtf8(e):e).length)throw new Error("key should be a 16 bytes string");this.key=e;let r=t.adata||"",n=("string"==typeof r&&(r=o.stringToByteArrayInUtf8(r)),this.adata=r,this.tlen="number"==typeof t.tlen?t.tlen:128,new Uint8Array(0));if(void 0!==t.iv&&null!==t.iv&&("string"==typeof(n=t.iv)&&(n=o.stringToByteArrayInUtf8(n)),"gcm"!==t.mode)&&16!==n.length)throw new Error("iv should be a 16 bytes string");this.iv=n,0<=[this.mode="cbc","ecb","gcm"].indexOf(t.mode)&&(this.mode=t.mode),0<=[this.paddingMode="PKCS7"].indexOf(t.padding)&&(this.paddingMode=t.padding),0<=["base64","text",this.cipherType="hex","bytes"].indexOf(t.cipherType)&&(this.cipherType=t.cipherType),this.encryptRoundKeys=new Uint32Array(32),this.spawnEncryptRoundKeys(),this.decryptRoundKeys=Uint32Array.from(this.encryptRoundKeys),this.decryptRoundKeys.reverse()}doBlockCrypt(t,e){e=e||this.encryptRoundKeys;var r=new Uint32Array(36);r.set(t,0);for(let t=0;t<32;t++)r[t+4]=r[t]^this.tTransform1(r[t+1]^r[t+2]^r[t+3]^e[t]);return(t=new Uint32Array(4))[0]=r[35],t[1]=r[34],t[2]=r[33],t[3]=r[32],t}spawnEncryptRoundKeys(){var t=new Uint32Array(4),e=(t[0]=this.key[0]<<24|this.key[1]<<16|this.key[2]<<8|this.key[3],t[1]=this.key[4]<<24|this.key[5]<<16|this.key[6]<<8|this.key[7],t[2]=this.key[8]<<24|this.key[9]<<16|this.key[10]<<8|this.key[11],t[3]=this.key[12]<<24|this.key[13]<<16|this.key[14]<<8|this.key[15],new Uint32Array(36));e[0]=t[0]^u[0],e[1]=t[1]^u[1],e[2]=t[2]^u[2],e[3]=t[3]^u[3];for(let t=0;t<32;t++)e[t+4]=e[t]^this.tTransform2(e[t+1]^e[t+2]^e[t+3]^s[t]),this.encryptRoundKeys[t]=e[t+4]}rotateLeft(t,e){return t<<e|t>>>32-e}linearTransform1(t){return t^this.rotateLeft(t,2)^this.rotateLeft(t,10)^this.rotateLeft(t,18)^this.rotateLeft(t,24)}linearTransform2(t){return t^this.rotateLeft(t,13)^this.rotateLeft(t,23)}tauTransform(t){return a[t>>>24&255]<<24|a[t>>>16&255]<<16|a[t>>>8&255]<<8|a[255&t]}tTransform1(t){return t=this.tauTransform(t),this.linearTransform1(t)}tTransform2(t){return t=this.tauTransform(t),this.linearTransform2(t)}padding(t){var e,r;return null===t?null:(e=16-t.length%16,(r=new Uint8Array(t.length+e)).set(t,0),r.fill(e,t.length),r)}dePadding(t){var e;return null===t?null:(e=t[t.length-1],t.slice(0,t.length-e))}uint8ToUint32Block(t,e=0){var r=new Uint32Array(4);return r[0]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],r[1]=t[e+4]<<24|t[e+5]<<16|t[e+6]<<8|t[e+7],r[2]=t[e+8]<<24|t[e+9]<<16|t[e+10]<<8|t[e+11],r[3]=t[e+12]<<24|t[e+13]<<16|t[e+14]<<8|t[e+15],r}encrypt(t){"string"==typeof t&&(t=o.stringToByteArrayInUtf8(t));var e=this.padding(t),r=e.length/16,a=new Uint8Array(e.length);let s,u;if("cbc"===this.mode){if(null===this.iv||16!==this.iv.length)throw new Error("iv error");let t=this.uint8ToUint32Block(this.iv);for(let n=0;n<r;n++){var c=16*n,l=this.uint8ToUint32Block(e,c),f=(t[0]=t[0]^l[0],t[1]=t[1]^l[1],t[2]=t[2]^l[2],t[3]=t[3]^l[3],this.doBlockCrypt(t,this.encryptRoundKeys));t=f;for(let t=0;t<16;t++)a[c+t]=f[parseInt(t/4,10)]>>(3-t)%4*8&255}}else if("gcm"===this.mode)t=n.encrypt(this,i.bytesToBits(t),i.bytesToBits(this.iv),i.bytesToBits(this.adata),this.tlen),s=new Uint8Array(i.bytesFromBits(t.data)),u=new Uint8Array(i.bytesFromBits(t.tag));else for(let t=0;t<r;t++){var p=16*t,d=this.uint8ToUint32Block(e,p),g=this.doBlockCrypt(d,this.encryptRoundKeys);for(let t=0;t<16;t++)a[p+t]=g[parseInt(t/4,10)]>>(3-t)%4*8&255}return"gcm"===this.mode?{cipherText:o[h[this.cipherType||"base64"]](s),tag:o[h[this.cipherType||"base64"]](u)}:o[h[this.cipherType||"base64"]](a)}decrypt(t,e=""){var r=o[c[this.cipherType||"base64"]](t),a=(t=o[c[this.cipherType||"base64"]](e),r.length/16);let s=new Uint8Array(r.length);if("cbc"===this.mode){if(null===this.iv||16!==this.iv.length)throw new Error("iv error");let t=this.uint8ToUint32Block(this.iv);for(let e=0;e<a;e++){var u=16*e,h=this.uint8ToUint32Block(r,u),l=this.doBlockCrypt(h,this.decryptRoundKeys),f=new Uint32Array(4);f[0]=t[0]^l[0],f[1]=t[1]^l[1],f[2]=t[2]^l[2],f[3]=t[3]^l[3],t=h;for(let t=0;t<16;t++)s[u+t]=f[parseInt(t/4,10)]>>(3-t)%4*8&255}}else if("gcm"===this.mode)e=n.decrypt(this,i.bytesToBits([...r,...t]),i.bytesToBits(this.iv),i.bytesToBits(this.adata),this.tlen),s=new Uint8Array(i.bytesFromBits(e));else for(let t=0;t<a;t++){var p=16*t,d=this.uint8ToUint32Block(r,p),g=this.doBlockCrypt(d,this.decryptRoundKeys);for(let t=0;t<16;t++)s[p+t]=g[parseInt(t/4,10)]>>(3-t)%4*8&255}return t=this.dePadding(s),e="gcm"===this.mode?s:t,"bytes"===this.cipherType?e:o.utf8ByteArrayToString(e)}}},function(t,e,r){const n=r(28);t.exports={name:"gcm",encrypt(t,e,r,n,i){return e=e.slice(0),this._ctrMode(!0,t,e,n=n||[],r,i=i||128)},decrypt(t,e,r,i,o){let a,s=e.slice(0);var u=(e=n).bitLength(s);if(i=i||[],s=(o=o||128)<=u?(a=e.bitSlice(s,u-o),e.bitSlice(s,0,u-o)):(a=s,[]),u=this._ctrMode(!1,t,s,i,r,o),e.equal(u.tag,a))return u.data;throw new Error("gcm: tag doesn't match")},_galoisMultiply(t,e){let r,i;var o,a;let s;var u=n._xor4;for(s=[0,0,0,0],o=e.slice(0),r=0;r<128;r++){for(0!=(t[Math.floor(r/32)]&1<<31-r%32)&&(s=u(s,o)),a=0!=(1&o[3]),i=3;0<i;i--)o[i]=o[i]>>>1|(1&o[i-1])<<31;o[0]=o[0]>>>1,a&&(o[0]=o[0]^225<<24)}return s},_ghash(t,e,r){let n,i;var o=r.length;for(n=e.slice(0),i=0;i<o;i+=4)n[0]^=4294967295&r[i],n[1]^=4294967295&r[i+1],n[2]^=4294967295&r[i+2],n[3]^=4294967295&r[i+3],n=this._galoisMultiply(n,t);return n},_ctrMode(t,e,r,i,o,a){var s;let u,h,c,l;var f=n,p=r.length,d=f.bitLength(r),g=f.bitLength(i),y=f.bitLength(o),m=e.doBlockCrypt(new Uint32Array([0,0,0,0]));for(u=96===y?(u=o.slice(0),f.concat(u,[1])):(u=this._ghash(m,[0,0,0,0],o),this._ghash(m,u,[0,0,Math.floor(y/4294967296),4294967295&y])),o=this._ghash(m,[0,0,0,0],i),s=u.slice(0),l=o.slice(0),t||(l=this._ghash(m,o,r)),c=0;c<p;c+=4)s[3]++,h=e.doBlockCrypt(new Uint32Array(s)),r[c]^=h[0],r[c+1]^=h[1],r[c+2]^=h[2],r[c+3]^=h[3];return r=f.clamp(r,d),t&&(l=this._ghash(m,o,r)),y=[Math.floor(g/4294967296),4294967295&g,Math.floor(d/4294967296),4294967295&d],l=this._ghash(m,l,y),h=e.doBlockCrypt(new Uint32Array(u)),l[0]^=h[0],l[1]^=h[1],l[2]^=h[2],l[3]^=h[3],{tag:f.bitSlice(l,0,a),data:r}}}},function(t,e,r){(function(e){const n=r(4),i=r(17),o=r(52),a=r(53);t.exports={genCsr:function({countryName:t,province:r,localityName:s,organizationName:u,organizationUnitName:h,commonName:c,email:l,challengePassword:f,publicKey:p,privateKey:d}){var g={certificationRequestInfo:{version:0,subject:{type:"rdnSequence",value:[]},subjectPKInfo:{algorithm:{algorithm:o.ECCPubKey.split("."),subAlgorithm:o.SM2ECC.split(".")},subjectPublicKey:{data:e.from(p,"hex")}},attributes:{type:o.ChallengePassword.split("."),values:[]}},signatureAlgorithm:{algorithm:o.SM2SigningWithSM3.split(".")},signature:{data:""}};r=function(t,e,r){const o=new i,a=n.stringToByteArrayInUtf8("1234567812345678");return o.sign(t,e,r,a)}(p,d,t=(t&&(g.certificationRequestInfo.subject.value=[[{type:o.CountryName.split("."),value:{type:"printableString",value:t}}]]),r&&g.certificationRequestInfo.subject.value.push([{type:o.StateOrProvinceName.split("."),value:{type:"utf8String",value:r}}]),s&&g.certificationRequestInfo.subject.value.push([{type:o.LocalityName.split("."),value:{type:"utf8String",value:s}}]),u&&g.certificationRequestInfo.subject.value.push([{type:o.OrganizationName.split("."),value:{type:"utf8String",value:u}}]),h&&g.certificationRequestInfo.subject.value.push([{type:o.OrganizationalUnitName.split("."),value:{type:"utf8String",value:h}}]),c&&g.certificationRequestInfo.subject.value.push([{type:o.CommonName.split("."),value:{type:"utf8String",value:c}}]),l&&g.certificationRequestInfo.subject.value.push([{type:o.Email.split("."),value:{type:"ia5String",value:l}}]),f&&(g.certificationRequestInfo.attributes.values=[{type:"utf8String",value:f}]),a.CertificationRequestInfo.encode(g.certificationRequestInfo,"der"))),g.signature={data:e.from(r,"hex")},s=a.CertificationRequest.encode(g,"der");return`-----BEGIN CERTIFICATE REQUEST-----\n${n.byteArrayToBase64(s)}\n-----END CERTIFICATE REQUEST-----`}}}).call(this,r(9).Buffer)},function(t,e){t.exports={CommonName:"2.5.4.3",CountryName:"2.5.4.6",LocalityName:"2.5.4.7",StateOrProvinceName:"2.5.4.8",StreetAddress:"2.5.4.9",OrganizationName:"2.5.4.10",OrganizationalUnitName:"2.5.4.11",SM2SigningWithSM3:"1.2.156.10197.1.501",ECCPubKey:"1.2.840.10045.2.1",SM2ECC:"1.2.156.10197.1.301",ChallengePassword:"1.2.840.113549.1.9.7",Email:"1.2.840.113549.1.9.1",SM2KeyExchangeTempPubkey:"1.2.840.113549.1.9.63",AuthorityInformationAccess:"1.3.6.1.5.5.7.1.1",AuthorityKeyIdentifier:"2.5.29.35",SubjectKeyIdentifier:"2.5.29.14",keyUsage:"2.5.29.15",CRLDistributionPoints:"2.5.29.31",BasicConstraints:"2.5.29.19",ExtKeyUsage:"2.5.29.37"}},function(t,e,r){const n=(r=r(22)).define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("subAlgorithm").optional().objid(),this.key("parameters").optional().any())})),i=(e.AlgorithmIdentifier=n,r.define("CertificationRequestInfo",(function(){this.seq().obj(this.key("version").use(a),this.key("subject").use(u),this.key("subjectPKInfo").use(s),this.key("attributes").explicit(0).use(f))})));e.CertificationRequestInfo=i;var o=r.define("CertificationRequest",(function(){this.seq().obj(this.key("certificationRequestInfo").use(i),this.key("signatureAlgorithm").use(n),this.key("signature").bitstr())}));e.CertificationRequest=o;const a=r.define("Version",(function(){this.int({0:"v1",1:"v2",2:"v3"})})),s=(e.Version=a,r.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(n),this.key("subjectPublicKey").bitstr())}))),u=(e.SubjectPublicKeyInfo=s,r.define("Name",(function(){this.choice({rdnSequence:this.use(h)})}))),h=(e.Name=u,r.define("RDNSequence",(function(){this.seqof(c)}))),c=(e.RDNSequence=h,r.define("RelativeDistinguishedName",(function(){this.setof(l)}))),l=(e.RelativeDistinguishedName=c,r.define("AttributeTypeAndValue",(function(){this.seq().obj(this.key("type").use(p),this.key("value").use(d))}))),f=(e.AttributeTypeAndValue=l,r.define("Attribute",(function(){this.seq().obj(this.key("type").use(p),this.key("values").setof(d))}))),p=r.define("AttributeType",(function(){this.objid()})),d=(e.AttributeType=p,r.define("AttributeValue",(function(){this.choice({teletexString:this.t61str(),printableString:this.printstr(),universalString:this.unistr(),utf8String:this.utf8str(),bmpString:this.bmpstr(),ia5String:this.ia5str()})})));e.AttributeValue=d},function(t,e){!function(){"use strict";var e=[],r=3988292384;function n(t){for(var e,n,i=-1,o=0,a=t.length;o<a;o+=1){for(n=255&(i^t[o]),e=0;e<8;e+=1)1==(1&n)?n=n>>>1^r:n>>>=1;i=i>>>8^n}return-1^i}function i(t,r){var n,o,a;if(void 0!==i.crc&&r&&t||(i.crc=-1,t)){for(n=i.crc,o=0,a=t.length;o<a;o+=1)n=n>>>8^e[255&(n^t[o])];return-1^(i.crc=n)}}for(var o,a,s=0;s<256;s+=1){for(o=s,a=0;a<8;a+=1)1&o?o=r^o>>>1:o>>>=1;e[s]=o>>>0}t.exports=function(t,e){return((e?n:i)(t="string"==typeof t?Array.prototype.map.call(t,(function(t){return t.charCodeAt(0)})):t)>>>0).toString(16)},t.exports.direct=n,t.exports.table=i}()},function(t,e,r){!function(){"use strict";t.exports={inflate:r(56),deflate:r(57)}}()},function(t,e){function r(){this.next=null,this.list=null}function n(){this.e=0,this.b=0,this.n=0,this.t=null}function i(t,e,i,o,a,s){this.BMAX=16,this.N_MAX=288,this.status=0,this.root=null,this.m=0;for(var u,h,c,l,f,p,d,g,y,m,v,w,b,_,E,M=[],S=[],x=new n,T=[],A=[],k=[],L=this.root=null,P=0;P<this.BMAX+1;P++)M[P]=0;for(P=0;P<this.BMAX+1;P++)S[P]=0;for(P=0;P<this.BMAX;P++)T[P]=null;for(P=0;P<this.N_MAX;P++)A[P]=0;for(P=0;P<this.BMAX+1;P++)k[P]=0;for(h=256<e?t[256]:this.BMAX,g=t,y=0,P=e;M[g[y]]++,y++,0<--P;);if(M[0]===e)this.root=null,this.m=0,this.status=0;else{for(p=1;p<=this.BMAX&&0===M[p];p++);for(s<(d=p)&&(s=p),P=this.BMAX;0!==P&&0===M[P];P--);for((l=P)<s&&(s=P),b=1<<p;p<P;p++,b<<=1)if((b-=M[p])<0)return this.status=2,void(this.m=s);if((b-=M[P])<0)this.status=2,this.m=s;else{for(M[P]+=b,k[1]=p=0,g=M,y=1,w=2;0<--P;)k[w++]=p+=g[y++];for(g=t,P=y=0;0!==(p=g[y++])&&(A[k[p]++]=P),++P<e;);for(e=k[l],g=A,f=-1,m=null,_=v=S[y=k[0]=P=0]=0;d<=l;d++)for(u=M[d];0<u--;){for(;v+S[1+f]<d;){if(v+=S[1+f],f++,_=(_=l-v)>s?s:_,(c=1<<(p=d-v))>u+1)for(c-=u+1,w=d;++p<_&&!((c<<=1)<=M[++w]);)c-=M[w];for(_=1<<(p=h<v+p&&v<h?h-v:p),S[1+f]=p,m=[],E=0;E<_;E++)m[E]=new n;(L=L?L.next=new r:this.root=new r).next=null,L.list=m,T[f]=m,0<f&&(k[f]=P,x.b=S[f],x.e=16+p,x.t=m,T[f-1][p=(P&(1<<v)-1)>>v-S[f]].e=x.e,T[f-1][p].b=x.b,T[f-1][p].n=x.n,T[f-1][p].t=x.t)}for(x.b=d-v,e<=y?x.e=99:g[y]<i?(x.e=g[y]<256?16:15,x.n=g[y++]):(x.e=a[g[y]-i],x.n=o[g[y++]-i]),c=1<<d-v,p=P>>v;p<_;p+=c)m[p].e=x.e,m[p].b=x.b,m[p].n=x.n,m[p].t=x.t;for(p=1<<d-1;0!=(P&p);p>>=1)P^=p;for(P^=p;(P&(1<<v)-1)!==k[f];)v-=S[f],f--}this.m=S[1],this.status=0!==b&&1!==l?1:0}}}function o(t){for(;y<t;)g|=(x.length===T?-1:255&x[T++])<<y,y+=8}function a(t){return g&R[t]}function s(t){g>>=t,y-=t}function u(t,e,r){var n,i,u;if(0===r)return 0;for(u=0;;){for(o(M),n=(i=_.list[a(M)]).e;16<n;){if(99===n)return-1;s(i.b),o(n-=16),n=(i=i.t[a(n)]).e}if(s(i.b),16===n){if(l&=A-1,t[e+u++]=c[l++]=i.n,u===r)return r}else{if(15===n)break;for(o(n),w=i.n+a(n),s(n),o(S),n=(i=E.list[a(S)]).e;16<n;){if(99===n)return-1;s(i.b),o(n-=16),n=(i=i.t[a(n)]).e}for(s(i.b),o(n),b=l-i.n-a(n),s(n);0<w&&u<r;)w--,b&=A-1,l&=A-1,t[e+u++]=c[l++]=c[b++];if(u===r)return r}}return m=-1,u}function h(t,e,r){for(var n,h=0;h<r;){if(v&&-1===m)return h;if(0<w){if(m!==k)for(;0<w&&h<r;)w--,b&=A-1,l&=A-1,t[e+h++]=c[l++]=c[b++];else{for(;0<w&&h<r;)w--,l&=A-1,o(8),t[e+h++]=c[l++]=a(8),s(8);0===w&&(m=-1)}if(h===r)return h}if(-1===m){if(v)break;o(1),0!==a(1)&&(v=!0),s(1),o(2),m=a(2),s(2),_=null,w=0}switch(m){case k:n=function(t,e,r){var n=7&y;if(s(n),o(16),n=a(16),s(16),o(16),n!==(65535&~g))return-1;for(s(16),w=n,n=0;0<w&&n<r;)w--,l&=A-1,o(8),t[e+n++]=c[l++]=a(8),s(8);return 0===w&&(m=-1),n}(t,e+h,r-h);break;case L:n=(_?u:function(t,e,r){if(!I){for(var n,o=[],a=0;a<144;a++)o[a]=8;for(;a<256;a++)o[a]=9;for(;a<280;a++)o[a]=7;for(;a<288;a++)o[a]=8;if(0!==(n=new i(o,288,257,C,N,p=7)).status)return-1;for(I=n.root,p=n.m,a=0;a<30;a++)o[a]=5;if(1<(n=new i(o,30,0,j,F,d=5)).status)return I=null,-1;f=n.root,d=n.m}return _=I,E=f,M=p,S=d,u(t,e,r)})(t,e+h,r-h);break;case P:n=(_?u:function(t,e,r){for(var n,h,c,l,f,p,d,g,y=[],m=0;m<316;m++)y[m]=0;if(o(5),p=257+a(5),s(5),o(5),d=1+a(5),s(5),o(4),f=4+a(4),s(4),286<p||30<d)return-1;for(n=0;n<f;n++)o(3),y[q[n]]=a(3),s(3);for(;n<19;n++)y[q[n]]=0;if(0!==(g=new i(y,19,19,null,null,M=7)).status)return-1;for(_=g.root,M=g.m,c=p+d,m=h=0;m<c;)if(o(M),s(n=(l=_.list[a(M)]).b),(n=l.n)<16)y[m++]=h=n;else if(16===n){if(o(2),n=3+a(2),s(2),c<m+n)return-1;for(;0<n--;)y[m++]=h}else{if(17===n){if(o(3),n=3+a(3),s(3),c<m+n)return-1}else if(o(7),n=11+a(7),s(7),c<m+n)return-1;for(;0<n--;)y[m++]=0;h=0}if(g=new i(y,p,257,C,N,M=B),0===M&&(g.status=1),0!==g.status&&1!==g.status)return-1;for(_=g.root,M=g.m,m=0;m<d;m++)y[m]=y[m+p];return g=new i(y,d,0,j,F,S=O),E=g.root,0===(S=g.m)&&257<p||0!==g.status?-1:u(t,e,r)})(t,e+h,r-h);break;default:n=-1}if(-1===n)return v?0:-1;h+=n}return h}var c,l,f,p,d,g,y,m,v,w,b,_,E,M,S,x,T,A,k,L,P,B,O,I,R,C,N,j,F,q;A=32768,I=null,R=[k=0,L=1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],C=[3,4,5,O=6,7,8,B=9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],N=[0,0,0,0,0,0,0,0,1,1,1,1,P=2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,99,99],j=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],F=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],t.exports=function(t){var e=[];for(c=c||[],v=!(m=-1),w=b=y=g=l=0,_=null,x=t,T=0;0<h(e,e.length,1024););return x=null,e}},function(t,e){function r(){this.fc=0,this.dl=0}function n(){this.dyn_tree=null,this.static_tree=null,this.extra_bits=null,this.extra_base=0,this.elems=0,this.max_length=0,this.max_code=0}function i(t,e,r,n){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=n}function o(){this.next=null,this.len=0,this.ptr=[],this.off=0}function a(t){return U[It+t]}function s(t,e){U[It+t]=e}function u(t){var e,r;if(ae[N+C++]=t,N+C===jt&&0!==C){for(e=function(){var t;return null!==B?B=(t=B).next:t=new o,t.next=null,t.len=t.off=0,t}(),null===O?O=I=e:I=I.next=e,e.len=C-N,r=0;r<e.len;r++)e.ptr[r]=ae[N+r];C=N=0}}function h(t){t&=65535,N+C<jt-2?(ae[N+C++]=255&t,ae[N+C++]=t>>>8):(u(255&t),u(t>>>8))}function c(){z=(z<<oe^255&F[X+qt-1])&Ht,Y=a(z),U[X&Kt]=Y,s(z,X)}function l(t,e){k(e[t].fc,e[t].dl)}function f(t){return 255&(t<256?bt[t]:bt[256+(t>>7)])}function p(t,e,r){return t[e].fc<t[r].fc||t[e].fc===t[r].fc&&vt[e]<=vt[r]}function d(t,e,r){for(var n=0;n<r&&Ot<Bt.length;n++)t[e+n]=255&Bt[Ot++];return n}function g(t){var e,r,n,i,o=et,a=X,s=Z,u=Jt<X?X-Jt:zt,h=X+258,c=F[a+s-1],l=F[a+s];it<=Z&&(o>>=2);do{if(F[(e=t)+s]===l&&F[e+s-1]===c&&F[e]===F[a]&&F[++e]===F[a+1]){for(a+=2,e++;a<h;){for(i=!1,n=0;n<8;n+=1)if(e+=1,F[a+=1]!==F[e]){i=!0;break}if(i)break}if(r=258-(h-a),a=h-258,s<r){if(Q=t,ot<=(s=r))break;c=F[a+s-1],l=F[a+s]}}}while((t=U[t&Kt])>u&&0!=--o);return s}function y(){var t,e,r=Ft-tt-X;if(-1===r)r--;else if(It+Jt<=X){for(t=0;t<It;t++)F[t]=F[t+It];for(Q-=It,X-=It,K-=It,t=0;t<Gt;t++)e=a(t),s(t,It<=e?e-It:zt);for(t=0;t<It;t++)e=U[t],U[t]=It<=e?e-It:zt;r+=It}$||((t=d(F,X+tt,r))<=0?$=!0:tt+=t)}function m(t,e,r){var n,i;if(!R&&(function(){if(!$){var t,e,r,n,i;if((H=G=0)===ht[0].dl){for(lt.dyn_tree=at,lt.static_tree=ut,lt.extra_bits=se,lt.extra_base=$t+1,lt.elems=ee,lt.max_length=Zt,lt.max_code=0,ft.dyn_tree=st,ft.static_tree=ht,ft.extra_bits=ue,ft.extra_base=0,ft.elems=re,ft.max_length=Zt,ft.max_code=0,pt.dyn_tree=ct,pt.static_tree=null,pt.extra_bits=he,pt.extra_base=0,pt.elems=ne,pt.max_length=Xt,pt.max_code=0,n=r=0;n<Qt-1;n++)for(_t[n]=r,t=0;t<1<<se[n];t++)wt[r++]=n;for(wt[r-1]=n,n=i=0;n<16;n++)for(Et[n]=i,t=0;t<1<<ue[n];t++)bt[i++]=n;for(i>>=7;n<re;n++)for(Et[n]=i<<7,t=0;t<1<<ue[n]-7;t++)bt[256+i++]=n;for(e=0;e<=Zt;e++)dt[e]=0;for(t=0;t<=143;)ut[t++].dl=8,dt[8]++;for(;t<=255;)ut[t++].dl=9,dt[9]++;for(;t<=279;)ut[t++].dl=7,dt[7]++;for(;t<=287;)ut[t++].dl=8,dt[8]++;for(_(ut,ee+1),t=0;t<re;t++)ht[t].dl=5,ht[t].fc=L(t,5);w()}for(var o=0;o<Gt;o++)U[It+o]=0;if(rt=le[nt].max_lazy,it=le[nt].good_length,ot=le[nt].nice_length,et=le[nt].max_chain,(tt=d(F,K=X=0,2*It))<=0)$=!0,tt=0;else{for($=!1;tt<Wt&&!$;)y();for(o=z=0;o<qt-1;o++)z=(z<<oe^255&F[o])&Ht}O=null,N=C=0,nt<=3?(Z=qt-1,V=0):(V=qt-1,J=!1),j=!1}}(),R=!0,0===tt))return j=!0,0;if((n=v(t,e,r))===r)return r;if(j)return n;if(nt<=3)for(;0!==tt&&null===O;){if(c(),Y!==zt&&X-Y<=Jt&&(V=g(Y),tt<V)&&(V=tt),qt<=V)if(i=T(X-Q,V-qt),tt-=V,V<=rt){for(V--;X++,c(),0!=--V;);X++}else X+=V,V=0,z=((z=255&F[X])<<oe^255&F[X+1])&Ht;else i=T(0,255&F[X]),tt--,X++;for(i&&(x(0),K=X);tt<Wt&&!$;)y()}else for(;0!==tt&&null===O;){if(c(),Z=V,W=Q,V=qt-1,Y!==zt&&Z<rt&&X-Y<=Jt&&(V=g(Y),(V=tt<V?tt:V)===qt)&&Yt<X-Q&&V--,qt<=Z&&V<=Z){var o=T(X-1-W,Z-qt);for(tt-=Z-1,Z-=2;X++,c(),0!=--Z;);J=!1,V=qt-1,X++,o&&(x(0),K=X)}else J?T(0,255&F[X-1])&&(x(0),K=X):J=!0,X++,tt--;for(;tt<Wt&&!$;)y()}return 0===tt&&(J&&T(0,255&F[X-1]),x(1),j=!0),n+v(t,n+e,r-n)}function v(t,e,r){for(var n,i,o,a=0;null!==O&&a<r;){for((n=r-a)>O.len&&(n=O.len),i=0;i<n;i++)t[e+a+i]=O.ptr[O.off+i];O.off+=n,O.len-=n,a+=n,0===O.len&&(O=(o=O).next,(o=o).next=B,B=o)}if(a!==r&&N<C){for(C-N<(n=r-a)&&(n=C-N),i=0;i<n;i++)t[e+a+i]=ae[N+i];a+=n,C===(N+=n)&&(C=N=0)}return a}function w(){for(var t=0;t<ee;t++)at[t].fc=0;for(t=0;t<re;t++)st[t].fc=0;for(t=0;t<ne;t++)ct[t].fc=0;at[te].fc=1,Lt=Pt=0,St=xt=Tt=0,At=0,kt=1}function b(t,e){for(var r=gt[e],n=e<<1;n<=yt&&(n<yt&&p(t,gt[n+1],gt[n])&&n++,!p(t,r,gt[n]));)gt[e]=gt[n],e=n,n<<=1;gt[e]=r}function _(t,e){for(var r,n=[],i=0,o=1;o<=Zt;o++)i=i+dt[o-1]<<1,n[o]=i;for(r=0;r<=e;r++){var a=t[r].dl;0!==a&&(t[r].fc=L(n[a]++,a))}}function E(t){var e,r,n=t.dyn_tree,i=t.static_tree,o=t.elems,a=-1,s=o;for(mt=ie,e=yt=0;e<o;e++)0!==n[e].fc?(gt[++yt]=a=e,vt[e]=0):n[e].dl=0;for(;yt<2;){var u=gt[++yt]=a<2?++a:0;n[u].fc=1,vt[u]=0,Lt--,null!==i&&(Pt-=i[u].dl)}for(t.max_code=a,e=yt>>1;1<=e;e--)b(n,e);for(;e=gt[Vt],gt[Vt]=gt[yt--],b(n,Vt),r=gt[Vt],gt[--mt]=e,gt[--mt]=r,n[s].fc=n[e].fc+n[r].fc,vt[e]>vt[r]+1?vt[s]=vt[e]:vt[s]=vt[r]+1,n[e].dl=n[r].dl=s,gt[Vt]=s++,b(n,Vt),2<=yt;);gt[--mt]=gt[Vt];for(var h,c,l,f,p,d=t.dyn_tree,g=t.extra_bits,y=t.extra_base,m=t.max_code,v=t.max_length,w=t.static_tree,E=0,M=0;M<=Zt;M++)dt[M]=0;for(d[gt[mt]].dl=0,h=mt+1;h<ie;h++)v<(M=d[d[c=gt[h]].dl].dl+1)&&(M=v,E++),d[c].dl=M,m<c||(dt[M]++,f=0,y<=c&&(f=g[c-y]),p=d[c].fc,Lt+=p*(M+f),null!==w&&(Pt+=p*(w[c].dl+f)));if(0!==E){do{for(M=v-1;0===dt[M];)M--}while(dt[M]--,dt[M+1]+=2,dt[v]--,0<(E-=2));for(M=v;0!==M;M--)for(c=dt[M];0!==c;)m<(l=gt[--h])||(d[l].dl!==M&&(Lt+=(M-d[l].dl)*d[l].fc,d[l].fc=M),c--)}_(n,a)}function M(t,e){var r,n,i=-1,o=t[0].dl,a=0,s=7,u=4;for(0===o&&(s=138,u=3),t[e+1].dl=65535,r=0;r<=e;r++)n=o,o=t[r+1].dl,++a<s&&n===o||(a<u?ct[n].fc+=a:0!==n?(n!==i&&ct[n].fc++,ct[16].fc++):a<=10?ct[17].fc++:ct[18].fc++,i=n,u=(a=0)===o?(s=138,3):n===o?(s=6,3):(s=7,4))}function S(t,e){var r,n,i=-1,o=t[0].dl,a=0,s=7,u=4;for(0===o&&(s=138,u=3),r=0;r<=e;r++)if(n=o,o=t[r+1].dl,!(++a<s&&n===o)){if(a<u)for(;l(n,ct),0!=--a;);else 0!==n?(n!==i&&(l(n,ct),a--),l(16,ct),k(a-3,2)):a<=10?(l(17,ct),k(a-3,3)):(l(18,ct),k(a-11,7));i=n,u=(a=0)===o?(s=138,3):n===o?(s=6,3):(s=7,4)}}function x(t){var e,r,n=X-K;if(Mt[Tt]=At,E(lt),E(ft),e=function(){var t;for(M(at,lt.max_code),M(st,ft.max_code),E(pt),t=ne-1;3<=t&&0===ct[ce[t]].dl;t--);return Lt+=3*(t+1)+5+5+4,t}(),4+n<=(a=(o=Pt+3+7>>3)<=(a=Lt+3+7>>3)?o:a)&&0<=K)for(k((Rt<<1)+t,3),P(),h(n),h(~n),r=0;r<n;r++)u(F[K+r]);else if(o===a)k((Ct<<1)+t,3),A(ut,ht);else{k((Nt<<1)+t,3);var i,o=lt.max_code+1,a=ft.max_code+1,s=e+1;for(k(o-257,5),k(a-1,5),k(s-4,4),i=0;i<s;i++)k(ct[ce[i]].dl,3);S(at,o-1),S(st,a-1),A(at,st)}w(),0!==t&&P()}function T(t,e){if(D[St++]=e,0===t?at[e].fc++:(t--,at[wt[e]+$t+1].fc++,st[f(t)].fc++,q[xt++]=t,At|=kt),kt<<=1,0==(7&St)&&(Mt[Tt++]=At,At=0,kt=1),2<nt&&0==(4095&St)){for(var r=8*St,n=(e=X-K,0);n<re;n++)r+=st[n].fc*(5+ue[n]);if(r>>=3,xt<parseInt(St/2,10)&&r<parseInt(e/2,10))return!0}return St===Dt-1||xt===Ut}function A(t,e){var r,n,i,o=0,a=0,s=0,u=0;if(0!==St)for(;0==(7&o)&&(u=Mt[s++]),r=255&D[o++],0==(1&u)?l(r,t):(l((n=wt[r])+$t+1,t),0!==(i=se[n])&&k(r-=_t[n],i),l(n=f(r=q[a++]),e),0!==(i=ue[n])&&k(r-=Et[n],i)),u>>=1,o<St;);l(te,t)}function k(t,e){fe-e<H?(h(G|=t<<H),G=t>>fe-H,H+=e-fe):(G|=t<<H,H+=e)}function L(t,e){for(var r=0;r|=1&t,t>>=1,r<<=1,0<--e;);return r>>1}function P(){8<H?h(G):0<H&&u(G),H=G=0}var B,O,I,R,C,N,j,F,q,D,U,G,H,K,z,Y,W,J,V,Z,X,Q,$,tt,et,rt,nt,it,ot,at,st,ut,ht,ct,lt,ft,pt,dt,gt,yt,mt,vt,wt,bt,_t,Et,Mt,St,xt,Tt,At,kt,Lt,Pt,Bt,Ot,It,Rt,Ct,Nt,jt,Ft,qt,Dt,Ut,Gt,Ht,Kt,zt,Yt,Wt,Jt,Vt,Zt,Xt,Qt,$t,te,ee,re,ne,ie,oe,ae,se,ue,he,ce,le,fe;Ft=(Nt=2)*(It=32768),Ut=Dt=jt=8192,Ht=(Gt=32768)-(Ct=1),Kt=It-1,zt=Rt=0,Yt=4096,Jt=It-(Wt=258+(qt=3)+1),Zt=15,Xt=7,te=$t=256,re=30,ne=19,ie=2*(ee=$t+(Vt=1)+(Qt=29))+1,oe=parseInt((15+qt-1)/qt,10),ae=null,se=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ue=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],he=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ce=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],le=[new i(0,0,0,0),new i(4,4,8,4),new i(4,5,16,8),new i(4,6,32,32),new i(4,4,16,16),new i(8,16,32,32),new i(8,16,128,128),new i(8,32,128,256),new i(32,128,258,1024),new i(32,258,258,4096)],fe=16,t.exports=function(t,e){var i,o;if(Bt=t,(t=e=void(Ot=0)===e?6:e)?t<1?t=1:9<t&&(t=9):t=6,nt=t,$=R=!1,null===ae){for(B=O=I=null,ae=[],F=[],q=[],D=[],U=[],at=[],o=0;o<ie;o++)at[o]=new r;for(st=[],o=0;o<2*re+1;o++)st[o]=new r;for(ut=[],o=0;o<ee+2;o++)ut[o]=new r;for(ht=[],o=0;o<re;o++)ht[o]=new r;for(ct=[],o=0;o<2*ne+1;o++)ct[o]=new r;lt=new n,ft=new n,pt=new n,dt=[],gt=[],vt=[],wt=[],bt=[],_t=[],Et=[],Mt=[]}for(i=[];0<m(i,i.length,1024););return Bt=null,i},t.exports.DEFAULT_LEVEL=6},function(t,e,r){r.r(e),r.d(e,"resetConfig",(function(){return hr})),r.d(e,"qapmWebSdkStart",(function(){return lr})),r.d(e,"qapmMiniSdkStart",(function(){return pr})),r.d(e,"qapmCustomTrack",(function(){return yr})),r.d(e,"qapmSetField",(function(){return mr})),r.d(e,"qapmCaptureException",(function(){return vr})),r.d(e,"setPageState",(function(){return wr}));e=r(0);var n=r.n(e),i=(e=r(1),r.n(e)),o={logLevel:"log",levelMap:{log:5,debug:4,info:3,warn:2,error:1,none:0},enableLogLevel:function(t){var e,r=this.levelMap[t];return null!=r&&(e=this.levelMap[this.logLevel],null!=t)&&r<=e}},a=(["debug","info","log","warn","error"].map((function(t){o[t]=function(){if(this.enableLogLevel(t)){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];(e=console)[t].apply(e,["QAPM, track-js,"].concat(n))}}})),r(15)),s=(e=r(29),r.n(e)),u=(e=r(30),r.n(e)),h="5.2.9";function c(t){return!!(t&&t.constructor&&t.call&&t.apply)}function l(t){var e=[];return function t(r){var i=0;if("boolean"==typeof r)i=4;else if("string"==typeof r)i=encodeURI(r).split(/%..|./).length-1;else if("number"==typeof r)i=8;else if("object"===n()(r)&&-1===e.indexOf(r))for(var o in e[e.length]=r)i=(i+=8)+t(r[o]);return i}(t)}function f(){return"undefined"!=typeof wx}function p(t,e){return"string"==typeof t?t.split(e):[]}function d(){var t=_t.app_key.split("-")[0],e=_t.app_key.split("-")[1],r=_t.user_id,n=F(),i=G(),o=z(),a=H(),s=_t.version;return"".concat(St.qapm,"/entrance/").concat(e,"/authorize/?p_id=").concat(e,"&app_key=").concat(t,"&deviceid=").concat(n,"&uin=").concat(r,"&sdk_ver=").concat("5.2.9","&device=").concat(i,"&os=").concat(o,"&platform=").concat(a,"&is_main=").concat("no","&version=").concat(s)}Object.assign;var g=function(t,e){t&&Object.keys(e).forEach((function(e){void 0===t[e]&&(t[e]=function(){})}))},y=function(){function t(){s()(this,t)}return u()(t,null,[{key:"indexName",value:function(t){return"fs-".concat(t,"-index")}},{key:"contentKey",value:function(t,e){return"fs-".concat(t,"-").concat(e)}},{key:"getIndex",value:function(e){return e=t.indexName(e),null!==(e=f()?wx.getStorageSync(e):localStorage.getItem(e))&&""!==e||(e=-1),parseInt(e)}},{key:"appendString",value:function(e,r){var n=t.getIndex(e);n+=1,f()?wx.setStorageSync(t.contentKey(e,n),r):localStorage.setItem(t.contentKey(e,n),r),f()?wx.setStorageSync(t.indexName(e),n):localStorage.setItem(t.indexName(e),n)}},{key:"readAll",value:function(e){var r="",n=t.getIndex(e);if(0<=n)for(var i=0;i<=n;i++)r+=f()?wx.getStorageSync(t.contentKey(e,i)):localStorage.getItem(t.contentKey(e,i));return r}},{key:"readItem",value:function(t){return f()?wx.getStorageSync(t):localStorage.getItem(t)}},{key:"getKeysContains",value:function(t){var e=[];if(f())for(var r=wx.getStorageSync().keys,n=void 0===r?[]:r,i=0;i<n.length;i++)n[i].includes(t)&&e.push(n[i]);else for(var o=0;o<localStorage.length;o++)localStorage.key(o).includes(t)&&e.push(localStorage.key(o));return e}},{key:"readItemsContains",value:function(t){for(var e=this.getKeysContains(t),r=0;r<e.length;r++){var n=this.readItem(e[r]);e.push(n)}return[]}},{key:"removeItem",value:function(t){f()?wx.removeStorageSync(t):localStorage.removeItem(t)}},{key:"setItem",value:function(t,e){f()?wx.setStorageSync(t,e):localStorage.setItem(t,e)}},{key:"remove",value:function(e){var r=t.getIndex(e);if(0<=r)for(var n=0;n<=r;n++)f()?wx.removeStorageSync(t.contentKey(e,n)):localStorage.removeItem(t.contentKey(e,n));f()?wx.removeStorageSync(t.indexName(e)):localStorage.removeItem(t.indexName(e))}},{key:"removeItemsContains",value:function(t){for(var e=this.getKeysContains(t),r=0;r<e.length;r++)this.removeItem(e[r])}}]),t}(),m=r(6),v=(e=r(2),r.n(e)),w=r(31),b=function(){return new Promise((function(t,e){(R?M:S)({config:{headers:{"Content-Type":"application/json"},method:"GET",isGetToken:!0}},{onSuccess:function(e){if("string"==typeof e.data)try{e.data=JSON.parse(e.data)}catch(t){return void o.info("get token fail",e)}e=e.data.token,t(e)},onError:function(t){e(t)}})}))},_=function(t,e){var r,n,i,o,a,s,u,h="string"==typeof t.data?t.data:JSON.stringify(t.data),c=t.config,l=c.isEncrypt,f=c.plugin,p=c.dataLength,g=c.isUBS,y=c.isQAPM,m=c.isAppconfig,w=c.isPubkey,b="",_="",E="";return c.isGetToken?E=d():w?(t.config.headers.Authorize=_t.TOKEN,E=A()):m?(t.config.headers.Authorize=_t.TOKEN,E=mt()):y&&_t.debug?E=dt(f,p):y&&l?(w="multipart/form-data;boundary=".concat(c="27182818284590452353602874713526"),c=(m=L("--".concat(c,'\r\nContent-Disposition: form-data; name="json_str"\r\n\r\n').concat(h,"\r\n--27182818284590452353602874713526--\r\n"))).encryptData,a=m.checkCode,o=m.encryptSm4Key,i=m.sm4Iv,r=m.encryptCallback,b=i,_=o,t.data=c,t.config.headers["Check-Code"]=a,t.config.headers["Content-Type"]=w,t.config.headers["Content-Encoding"]="gzip",n=e.onSuccess,e.onSuccess=function(t){"function"==typeof n&&n(t),r&&r(t)},E=yt(f,p,b,_),t.config.headers.Authorize=_t.TOKEN,t.config.headers.INTCode=v()(h)):y&&!l?(i="multipart/form-data;boundary=".concat(m="27182818284590452353602874713526"),o="--".concat(m,'\r\nContent-Disposition: form-data; name="json_str"\r\n\r\n').concat(h,"\r\n--27182818284590452353602874713526--\r\n"),t.data=o,t.config.headers["Content-Type"]=i,E=gt(f,p),t.config.headers.Authorize=_t.TOKEN,t.config.headers.INTCode=v()(h)):g&&!l?E=vt():g&&l&&(a=(c=L(t.data,!1)).encryptData,w=c.checkCode,y=c.encryptSm4Key,m=c.sm4Iv,s=c.encryptCallback,b=m,_=y,t.config.headers["Check-Code"]=w,t.data=a,u=e.onSuccess,e.onSuccess=function(t){"function"==typeof u&&u(t),s&&s(t)},E=wt(b,_),t.config.headers["Content-Type"]="application/octet-stream"),t.config.url=E,t},E=function(t){var e=I(),r="string"==typeof t.data?t.data:JSON.stringify(t.data),n=(t=t.config).isEncrypt,i=t.plugin,o=t.isUBS,a=t.isQAPM;t=t.dataLength,o=o?"athena":"";a&&(o="plugin:".concat(i)),"android"===e?window.QAPMAndroidJsBridge.uploadDataByMobile(o,r,n):"ios"===e&&window.webkit.messageHandlers.QAPM.postMessage({functionName:"uploadDataByMobile",dataType:o,jsonStr:r,needEncrpty:n,dataLength:t})};function M(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};t=_(t,e),R.request({url:t.config.url,method:t.config.method,header:t.config.headers,data:t.data,success:e.onSuccess,fail:e.onError,complete:e.onFinally})}var S=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(t){var r=(n=t.config).isUBS,n=n.isQAPM,i="string"==typeof t.data?t.data:JSON.stringify(t.data);if(I()&&(n||r)&&(window.QAPMAndroidJsBridge&&window.QAPMAndroidJsBridge.uploadDataByMobile||window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.QAPM&&window.webkit.messageHandlers.QAPM.postMessage))E(t);else if(r=(n=(t=_(t,e)).config).method,n=n.url){o.info("webrequest requestConfig",n,t);var a=new XMLHttpRequest,s=-1;if(a.onreadystatechange=function(){try{a.readyState===XMLHttpRequest.DONE&&(s=a.status,e.hasOwnProperty("onSuccess"))&&e.onSuccess({statusCode:s,header:a.getAllResponseHeaders(),data:a.response})}catch(t){e.hasOwnProperty("onError")&&e.onError({statusCode:s,header:a.getAllResponseHeaders(),data:t})}e.hasOwnProperty("onFinally")&&e.onFinally({statusCode:s,header:a.getAllResponseHeaders(),data:a.response})},a.open(r,n,!0),t.config&&t.config.headers)for(var u in t.config.headers)"application/x-www-form-urlencoded"!==t.config.headers[u]&&a.setRequestHeader(u,t.config.headers[u]);t.config&&t.config.headers&&"application/x-www-form-urlencoded"===t.config.headers["Content-Type"]?((r=new FormData).set("json_str",i),a.send(r)):"string"==typeof t.data?a.send(t.data):a.send(i)}else o.info("url is empty",n,t)}},x="QAPM_SM2_PUB_KEY",T="";function A(){return"".concat(St.qapm,"/entrance/").concat(_t.app_id,"/requestForPubKey/")}function k(t){return new Promise((function(e,r){""===t?o.info("qapmBaseUrl or pId is empty, updateSm2PubKey fail"):(T=t,(R?M:S)({config:{headers:{},isPubkey:!0,method:"GET"}},{onSuccess:function(t){if(200===t.statusCode)try{var n=t.data;"string"==typeof t.data&&(n=JSON.parse(t.data)),y.setItem(x,n.pub_key),e(n.pub_key)}catch(t){o.info("updateSm2PubKey",t),r(t)}}}))}))}function L(t,e){var r=!(1<arguments.length&&void 0!==e)||e,n=y.readItem(x);if(!n)return!1;"string"!=typeof t&&(t=JSON.stringify(t));var i=v()(et()).substr(0,16),a=(i=m.utils.stringToByteArrayInUtf8(i),v()(et()).substr(0,16)),s=m.utils.stringToByteArrayInUtf8(a),u=(s=new m.SM4({key:i,mode:"cbc",iv:s}),""),h="";r?(r=Object(w.zip)(t),h=v()(r),u=s.encrypt(r)):(u=s.encrypt(t),h=v()(t)),r=new m.SM2;return{encryptData:u,checkCode:h,encryptSm4Key:r.encrypt(n,i),sm4Iv:a,encryptCallback:function(t){1415===t.data.status&&k(),1507===t.data.status&&k(T),1508===t.data.status&&o.info(t),1509===t.data.status&&o.info(t)}}}function P(){"use strict";P=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},o=(g="function"==typeof Symbol?Symbol:{}).iterator||"@@iterator",a=g.asyncIterator||"@@asyncIterator",s=g.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(e){u=function(t,e,r){return t[e]=r}}function h(t,e,r,n){var o,a,s,u;e=e&&e.prototype instanceof f?e:f,e=Object.create(e.prototype),n=new E(n||[]);return i(e,"_invoke",{value:(o=t,a=r,s=n,u="suspendedStart",function(t,e){if("executing"===u)throw new Error("Generator is already running");if("completed"===u){if("throw"===t)throw e;return{value:void 0,done:!0}}for(s.method=t,s.arg=e;;){var r=s.delegate;if(r&&(r=function t(e,r){var n=r.method,i=e.iterator[n];return void 0===i?(r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=void 0,t(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),l):"throw"===(n=c(i,e.iterator,r.arg)).type?(r.method="throw",r.arg=n.arg,r.delegate=null,l):(i=n.arg)?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,l):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,l)}(r,s))){if(r===l)continue;return r}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if("suspendedStart"===u)throw u="completed",s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);if(u="executing","normal"===(r=c(o,a,s)).type){if(u=s.done?"completed":"suspendedYield",r.arg===l)continue;return{value:r.arg,done:s.done}}"throw"===r.type&&(u="completed",s.method="throw",s.arg=r.arg)}})}),e}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=h;var l={};function f(){}function p(){}function d(){}var g,y,m=((y=(y=(u(g={},o,(function(){return this})),Object.getPrototypeOf))&&y(y(M([]))))&&y!==e&&r.call(y,o)&&(g=y),d.prototype=f.prototype=Object.create(g));function v(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){var o;i(this,"_invoke",{value:function(i,a){function s(){return new e((function(o,s){!function i(o,a,s,u){var h;if("throw"!==(o=c(t[o],t,a)).type)return(a=(h=o.arg).value)&&"object"==n()(a)&&r.call(a,"__await")?e.resolve(a.__await).then((function(t){i("next",t,s,u)}),(function(t){i("throw",t,s,u)})):e.resolve(a).then((function(t){h.value=t,s(h)}),(function(t){return i("throw",t,s,u)}));u(o.arg)}(i,a,o,s)}))}return o=o?o.then(s,s):s()}})}function b(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(b,this),this.reset(!0)}function M(t){if(t){var e,n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return e=-1,(n=function n(){for(;++e<t.length;)if(r.call(t,e))return n.value=t[e],n.done=!1,n;return n.value=void 0,n.done=!0,n}).next=n}return{next:S}}function S(){return{value:void 0,done:!0}}return i(m,"constructor",{value:p.prototype=d,configurable:!0}),i(d,"constructor",{value:p,configurable:!0}),p.displayName=u(d,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){return!!(t="function"==typeof t&&t.constructor)&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,s,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},v(w.prototype),u(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new w(h(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},v(m),u(m,s,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e,r=Object(t),n=[];for(e in r)n.push(e);return n.reverse(),function t(){for(;n.length;){var e=n.pop();if(e in r)return t.value=e,t.done=!1,t}return t.done=!0,t}},t.values=M,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;0<=i;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;0<=n;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}var a=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc?null:o)?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),_(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r,n,i=this.tryEntries[e];if(i.tryLoc===t)return"throw"===(r=i.completion).type&&(n=r.arg,_(i)),n}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:M(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}var B="NoNetwork",O="UnknownNetwork",I=function(){return"undefined"!=typeof window&&!!window&&(window.qapmBaseInfo?"ios":!!window.QAPMAndroidJsBridge&&"android")},R=!I()&&("undefined"!=typeof wx?wx:"undefined"!=typeof qq&&qq);function C(){return(new Date).getTime()}function N(){return(new Date).toISOString()}function j(){try{var t,e=window.navigator.userAgent,r=window.navigator.appVersion,n=Tt,i=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"android",r:/Android/},{s:"chromeos",r:/CrOS/},{s:"linux",r:/(Linux|X11(?!.*CrOS))/},{s:"ios",r:/(iPhone|iPad|iPod)/},{s:"osx",r:/Mac OS X/},{s:"macos",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"unix",r:/UNIX/}];for(t in i){var o=i[t];if(o.r.test(e)){n=o.s;break}}var a=Tt;switch(/Windows/.test(n)&&(a=/Windows (.*)/.exec(n)[1],n="windows"),n){case"osx":a=/Mac OS X (10[\.\_\d]+)/.exec(e)[1];break;case"android":a=/Android ([\.\_\d]+)/.exec(e)[1];break;case"ios":a=/OS (\d+)_(\d+)_?(\d+)?/.exec(r),a="".concat(a[1],".").concat(a[2],".").concat(0|a[3])}return{os:n,osVersion:a}}catch(t){return{os:Tt,osVersion:Tt}}}function F(){var t=y.readItem("QAPM_DEVICE_ID");return t||(t="".concat(et(),"--").concat(C()),y.setItem("QAPM_DEVICE_ID",t)),t}function q(t){try{var e;return 0===J&&(e=W(),J=e.timing.navigationStart),0===t?J:t+J<=0?0:Math.round(t+J)}catch(e){return o.error(e),t}}function D(t,e){return V(t,e,"AND")}var U=function(){var t,e,r;return R?ut().brand:"android"===I()||"ios"===I()?_t.brand||Tt:(t=navigator.userAgent.split("(")[1].split(")")[0],e="",(r=[/IPHONE/gi,/huawei/gi,/mi/gi,/vivo/gi,/OPPO/gi,/samsung/gi,/SONY/gi,/Nokia/gi,/HTC/gi,/ZTE/gi,/Lenovo/gi,/ZUK/gi])[0].test(t)?e="iPhone":r[1].test(t)?e="HUAWEI":r[2].test(t)?e="MI":r[3].test(t)?e="vivo":r[4].test(t)?e="OPPO":r[5].test(t)?e="SAMSUNG":r[6].test(t)?e="SONY":r[7].test(t)?e="Nokia":r[8].test(t)?e="HTC":r[9].test(t)?e="ZTE":r[10].test(t)||r[11].test(t)?e="Lenovo":function(){try{var t=window.navigator.userAgent;return-1<t.indexOf("Android")||-1<t.indexOf("Adr")}catch(t){return!1}}()&&(e="Android"),e||Tt)},G=function(){var t;return R?ut().model:"android"===I()||"ios"===I()?_t.model||Tt:(t=navigator.userAgent.toLowerCase(),/windows/.test(t)?"Windows pc":/iphone|ipod/.test(t)&&/mobile/.test(t)?"iPhone":/ipad/.test(t)&&/mobile/.test(t)?"iPad":/android/.test(t)&&/mobile/.test(t)?"Android":/linux/.test(t)?"Linux pc":/mac/.test(t)?"Mac":xt)},H=function(){return R?"wx-mp":"web"},K=function(){return R?ut().system.split(" ")[0].toLowerCase():"android"===I()||"ios"===I()?_t.os||Tt:j().os},z=function(){return R?ut().system.split(" ")[1].toLowerCase():"android"===I()||"ios"===I()?_t.osVer||Tt:j().osVersion},Y=function(){return R||"android"!==I()&&"ios"!==I()?xt:_t.isRoot||Tt},W=function(){return window.performance||window.webkitPerformance||window.msPerformance||window.mozPerformance},J=0,V=function(t,e,r){for(var n=t.toString(2),i=e.toString(2),o=(n=new Array(54-n.length).join("0")+n,i=new Array(54-i.length).join("0")+i,""),a=0;a<53;a++)o+="AND"===r&&"1"===n[a]&&"1"===i[a]||"OR"===r&&("1"===n[a]||"1"===i[a])?"1":"0";return parseInt(o,2)},Z=function(){var t=i()(P().mark((function t(e){var r,n,i;return P().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(R)return t.next=3,wx.getNetworkType();t.next=20;break;case 3:if("unknown"===(r=(r=t.sent)&&r.networkType))return t.abrupt("return",O);t.next=7;break;case 7:if("none"===r)return t.abrupt("return",B);t.next=9;break;case 9:if("2g"===r)return t.abrupt("return","2G");t.next=11;break;case 11:if("3g"===r)return t.abrupt("return","3G");t.next=13;break;case 13:if("4g"===r)return t.abrupt("return","4G");t.next=15;break;case 15:if("5g"===r)return t.abrupt("return","5G");t.next=17;break;case 17:if("wifi"===r)return t.abrupt("return","WIFI");t.next=19;break;case 19:return t.abrupt("return",B);case 20:if("android"===I()||"ios"===I())return t.abrupt("return",_t.netType||Tt);t.next=22;break;case 22:if(Q().includes("Safari"))return t.abrupt("return",O);t.next=24;break;case 24:if(navigator){t.next=26;break}return t.abrupt("return",B);case 26:if(i=navigator.connection||navigator.mozConnection||navigator.webkitConnection||{effectiveType:void 0},n=i.type&&i.type.toLowerCase(),i=i.effectiveType&&i.effectiveType.toLowerCase(),"wifi"===n||"wifi"===i)return t.abrupt("return","WIFI");t.next=31;break;case 31:if("slow-2g"===i)return t.abrupt("return","2G");t.next=33;break;case 33:if("2g"===i)return t.abrupt("return","2G");t.next=35;break;case 35:if("3g"===i)return t.abrupt("return","3G");t.next=37;break;case 37:if("4g"===i)return t.abrupt("return","4G");t.next=39;break;case 39:if("5g"===i)return t.abrupt("return","5G");t.next=41;break;case 41:return t.abrupt("return",B);case 42:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),X=function(){return R||"android"!==I()&&"ios"!==I()?xt:_t.netOp||Tt},Q=function(){try{var t;return R?xt:(t=navigator.userAgent.match(/(MSIE|(?!Gecko.+)Firefox|(?!AppleWebKit.+Chrome.+)Safari|(?!AppleWebKit.+)Chrome|AppleWebKit(?!.+Chrome|.+Safari)|Gecko(?!.+Firefox))(?: |\/)([\d\.apre]+)/))&&Array.isArray(t)&&3<=t.length&&"".concat(t[1])||Tt}catch(t){return Tt}},$=function(){try{var t;return R?xt:(t=window.navigator.userAgent.match(/(MSIE|(?!Gecko.+)Firefox|(?!AppleWebKit.+Chrome.+)Safari|(?!AppleWebKit.+)Chrome|AppleWebKit(?!.+Chrome|.+Safari)|Gecko(?!.+Firefox))(?: |\/)([\d\.apre]+)/))&&Array.isArray(t)&&3<=t.length&&"".concat(t[2])||Tt}catch(t){return Tt}},tt=function(){try{return navigator.userAgent}catch(t){return Tt}},et=function t(e){return e?(e^16*Math.random()>>e/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,t)},rt=function(){return window.location.href},nt=function(){var t=rt();return _t.getPageId(t)};function it(){return+new Date}function ot(t,e){for(var r=t+t.slice(0,e-t.length%e),n=0,i=(r.split("").map((function(t){n+=t.charCodeAt(0)})),""),o=0;o<e;o++){for(var a=0,s=0;s<r.length/e;s++)a=(33*(a+r.charCodeAt(s*e+o)^s)+n)%127;a=a%2==1?a%10+48:a%6+97,i+=String.fromCharCode(a)}return i}var at,st=function(t){return t instanceof Array?new Map(t.map((function(t){return[t,!0]}))):new Map},ut=function(){return at=at||R.getSystemInfoSync()},ht="",ct=function(){var t;return""===ht&&(t=ut(),ht=t.version),ht},lt="",ft=function(){var t;return""===lt&&(t=R.getLaunchOptionsSync(),lt="".concat(t.scene)),lt};function pt(){"use strict";pt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},o=(g="function"==typeof Symbol?Symbol:{}).iterator||"@@iterator",a=g.asyncIterator||"@@asyncIterator",s=g.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(e){u=function(t,e,r){return t[e]=r}}function h(t,e,r,n){var o,a,s,u;e=e&&e.prototype instanceof f?e:f,e=Object.create(e.prototype),n=new E(n||[]);return i(e,"_invoke",{value:(o=t,a=r,s=n,u="suspendedStart",function(t,e){if("executing"===u)throw new Error("Generator is already running");if("completed"===u){if("throw"===t)throw e;return{value:void 0,done:!0}}for(s.method=t,s.arg=e;;){var r=s.delegate;if(r&&(r=function t(e,r){var n=r.method,i=e.iterator[n];return void 0===i?(r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=void 0,t(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),l):"throw"===(n=c(i,e.iterator,r.arg)).type?(r.method="throw",r.arg=n.arg,r.delegate=null,l):(i=n.arg)?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,l):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,l)}(r,s))){if(r===l)continue;return r}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if("suspendedStart"===u)throw u="completed",s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);if(u="executing","normal"===(r=c(o,a,s)).type){if(u=s.done?"completed":"suspendedYield",r.arg===l)continue;return{value:r.arg,done:s.done}}"throw"===r.type&&(u="completed",s.method="throw",s.arg=r.arg)}})}),e}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=h;var l={};function f(){}function p(){}function d(){}var g,y,m=((y=(y=(u(g={},o,(function(){return this})),Object.getPrototypeOf))&&y(y(M([]))))&&y!==e&&r.call(y,o)&&(g=y),d.prototype=f.prototype=Object.create(g));function v(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){var o;i(this,"_invoke",{value:function(i,a){function s(){return new e((function(o,s){!function i(o,a,s,u){var h;if("throw"!==(o=c(t[o],t,a)).type)return(a=(h=o.arg).value)&&"object"==n()(a)&&r.call(a,"__await")?e.resolve(a.__await).then((function(t){i("next",t,s,u)}),(function(t){i("throw",t,s,u)})):e.resolve(a).then((function(t){h.value=t,s(h)}),(function(t){return i("throw",t,s,u)}));u(o.arg)}(i,a,o,s)}))}return o=o?o.then(s,s):s()}})}function b(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(b,this),this.reset(!0)}function M(t){if(t){var e,n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return e=-1,(n=function n(){for(;++e<t.length;)if(r.call(t,e))return n.value=t[e],n.done=!1,n;return n.value=void 0,n.done=!0,n}).next=n}return{next:S}}function S(){return{value:void 0,done:!0}}return i(m,"constructor",{value:p.prototype=d,configurable:!0}),i(d,"constructor",{value:p,configurable:!0}),p.displayName=u(d,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){return!!(t="function"==typeof t&&t.constructor)&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,s,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},v(w.prototype),u(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new w(h(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},v(m),u(m,s,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e,r=Object(t),n=[];for(e in r)n.push(e);return n.reverse(),function t(){for(;n.length;){var e=n.pop();if(e in r)return t.value=e,t.done=!1,t}return t.done=!0,t}},t.values=M,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;0<=i;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;0<=n;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}var a=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc?null:o)?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),_(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r,n,i=this.tryEntries[e];if(i.tryLoc===t)return"throw"===(r=i.completion).type&&(n=r.arg,_(i)),n}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:M(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function dt(t,e){return"".concat(St.qapm,"/entrance/v1/uploadData/?app_id=").concat(_t.app_id,"&plugin=").concat(t,"&data_num=").concat(e)}function gt(t,e){return"".concat(St.qapm,"/entrance/v3/uploadData/?app_id=").concat(_t.app_id,"&plugin=").concat(t,"&data_num=").concat(e,"&needDecode=1")}function yt(t,e,r,n){return"".concat(St.qapm,"/entrance/v4/uploadData/json/?app_id=").concat(_t.app_id,"&plugin=").concat(t,"&data_num=").concat(e,"&iv=").concat(r,"&key=").concat(n,"&needDecode=1&format=2")}function mt(){return"".concat(St.appconfig,"/appconfig/v7/config/").concat(_t.app_id,"/")}function vt(){var t=St.athena||St.qapm;return"".concat(t,"/entrance/athena/uploadJson/").concat(_t.app_id,"/").concat(_t.version,"/?format=2&user_id=").concat(_t.user_id)}function wt(t,e){var r=St.athena||St.qapm;return"".concat(r,"/entrance/athena/uploadEncryptedJson/").concat(_t.app_id,"/").concat(_t.version,"/?format=2&user_id=").concat(_t.user_id,"&iv=").concat(t,"&key=").concat(e,"&needDecode=1")}R&&ut().SDKVersion;var bt=["1","2","3","4","5","6","7","8","9","0","q","w","e","r","t","y","u","i","o","p","a","s","d","f","g","h","j","k","l","z","x","c","v","b","n","m","[","]","{","}","#","%","^","*","+","=","_","\\","|","~","<",">","","","","","-","/",":",";","(",")","$","&","@",'"',".",",","?","!","'","`","Q","W","E","R","T","Y","U","I","O","P","A","S","D","F","G","H","J","K","L","Z","X","C","V","B","N","M"],_t={app_key:"",app_id:"",device_id:"",user_id:"",build_id:"",version:"",ignoreClasses:[],ignoreIds:[],buckets:[],bucket:"",pubkey:"",exposeThreshold:500,exposeAreaThreshold:.5,allEventCallback:function(t){var e=t.view_text,r=t.tags&&t.tags.sd4;return 3===t.topic&&e&&(t.view_text=e.replace(/[\d]/gi,"*"),1===e.length)&&-1!==bt.indexOf(e)&&(t.view_text="*"),3===t.topic&&r&&(t.tags.sd4=r.replace(/[\d]/gi,"*"),1===r.length)&&-1!==bt.indexOf(r)&&(t.tags.sd4="*"),t},domLengthThreshold:10,TOKEN:"",netType:"",netOp:"",model:"",isRoot:xt,channel_open:"",channel_install:"",os:"",osVer:"",brand:"",excludeUrlReg:[/entrance/,/appconfig\/v7/],getPageId:function(t){var e;return t&&((e=t.split("?"))&&Array.isArray(e)&&1<=e.length?e[0]:t)},collectReqBody:!1,collectRespBody:!1,allowHeaders:[],billingId:""},Et={SWITCH:0,ALL:{},UBS:{},USR:{},NETWORK:{},LAUNCH:{},JSERROR:{}},Mt={SWITCH:0,ALL:{},UBS:{},USR:{},NETWORK:{},PAGE:{},LAUNCH:{},JSERROR:{}},St={qapm:"https://ten.sngapm.qq.com",appconfig:"https://ten.sngapm.qq.com"},xt="unsupported",Tt="unknown",At=function(t){var e=t.category,r=t.plugin;t=t.needTranslate;return{app_id:_t.app_id,ab_factor:xt,device_id:_t.device_id,user_id:_t.user_id,build_id:_t.build_id,version:_t.version,arch:"android"===I()||"ios"===I()?_t.arch||Tt:xt,sdk_ver:a.a,platform:H(),distribute_channel:"android"===I()||"ios"===I()?_t.distribute_channel||Tt:xt,id:et(),model:G(),brand:U(),os_ver:z(),is_root:Y(),os:K(),category:e,plugin:r,need_translate:t,ext2:_t.billingId}},kt=function(){var t=i()(pt().mark((function t(){return pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=_t.app_id,t.t1=_t.version,t.t2=_t.device_id,t.t3=(e=void 0,R?(e=ut(),"".concat(parseInt(e.pixelRatio*e.windowWidth),",").concat(parseInt(e.pixelRatio*e.windowHeight))):"".concat(parseInt(window.screen.width),",").concat(parseInt(window.screen.height))),t.t4=Y(),t.t5=xt,t.t6=_t.user_id,t.t7=_t.build_id,t.t8=_t.bucket,t.t9=_t.buckets,t.t10=G(),t.t11=z(),t.t12=H(),t.t13=a.a,t.t14=U(),t.t15=K(),t.t16=X(),t.next=19,Z();case 19:return t.t17=t.sent,t.t18="android"===I()||"ios"===I()?_t.channel_open||Tt:xt,t.t19="android"===I()||"ios"===I()?_t.channel_install||Tt:xt,t.t20={platform:t.t12,sdk_ver:t.t13,brand:t.t14,os:t.t15,net_op:t.t16,net_type:t.t17,channel_open:t.t18,channel_install:t.t19},t.abrupt("return",{app_id:t.t0,version:t.t1,device_id:t.t2,display:t.t3,is_root:t.t4,ab_factor:t.t5,user_id:t.t6,build_id:t.t7,bucket:t.t8,buckets:t.t9,flag:0,model:t.t10,os:t.t11,app:t.t20});case 24:case"end":return t.stop()}var e}),t)})));return function(){return t.apply(this,arguments)}}(),Lt=function(){var t=getCurrentPages();return Array.isArray(t)&&0<t.length?t[t.length-1]:{}},Pt=function(){var t=Lt(),e=t&&t.route||"",r=t.options,n="".concat(e,"?");if(r){for(var i in r){var o=r[i];n+="".concat(i,"=").concat(o,"&")}return n.substring(0,n.length-1)}return e},Bt=function(){var t=Lt();return t&&t.route||""};function Ot(){"use strict";Ot=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},o=(g="function"==typeof Symbol?Symbol:{}).iterator||"@@iterator",a=g.asyncIterator||"@@asyncIterator",s=g.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(e){u=function(t,e,r){return t[e]=r}}function h(t,e,r,n){var o,a,s,u;e=e&&e.prototype instanceof f?e:f,e=Object.create(e.prototype),n=new E(n||[]);return i(e,"_invoke",{value:(o=t,a=r,s=n,u="suspendedStart",function(t,e){if("executing"===u)throw new Error("Generator is already running");if("completed"===u){if("throw"===t)throw e;return{value:void 0,done:!0}}for(s.method=t,s.arg=e;;){var r=s.delegate;if(r&&(r=function t(e,r){var n=r.method,i=e.iterator[n];return void 0===i?(r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=void 0,t(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),l):"throw"===(n=c(i,e.iterator,r.arg)).type?(r.method="throw",r.arg=n.arg,r.delegate=null,l):(i=n.arg)?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,l):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,l)}(r,s))){if(r===l)continue;return r}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if("suspendedStart"===u)throw u="completed",s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);if(u="executing","normal"===(r=c(o,a,s)).type){if(u=s.done?"completed":"suspendedYield",r.arg===l)continue;return{value:r.arg,done:s.done}}"throw"===r.type&&(u="completed",s.method="throw",s.arg=r.arg)}})}),e}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=h;var l={};function f(){}function p(){}function d(){}var g,y,m=((y=(y=(u(g={},o,(function(){return this})),Object.getPrototypeOf))&&y(y(M([]))))&&y!==e&&r.call(y,o)&&(g=y),d.prototype=f.prototype=Object.create(g));function v(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){var o;i(this,"_invoke",{value:function(i,a){function s(){return new e((function(o,s){!function i(o,a,s,u){var h;if("throw"!==(o=c(t[o],t,a)).type)return(a=(h=o.arg).value)&&"object"==n()(a)&&r.call(a,"__await")?e.resolve(a.__await).then((function(t){i("next",t,s,u)}),(function(t){i("throw",t,s,u)})):e.resolve(a).then((function(t){h.value=t,s(h)}),(function(t){return i("throw",t,s,u)}));u(o.arg)}(i,a,o,s)}))}return o=o?o.then(s,s):s()}})}function b(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(b,this),this.reset(!0)}function M(t){if(t){var e,n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return e=-1,(n=function n(){for(;++e<t.length;)if(r.call(t,e))return n.value=t[e],n.done=!1,n;return n.value=void 0,n.done=!0,n}).next=n}return{next:S}}function S(){return{value:void 0,done:!0}}return i(m,"constructor",{value:p.prototype=d,configurable:!0}),i(d,"constructor",{value:p,configurable:!0}),p.displayName=u(d,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){return!!(t="function"==typeof t&&t.constructor)&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,s,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},v(w.prototype),u(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new w(h(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},v(m),u(m,s,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e,r=Object(t),n=[];for(e in r)n.push(e);return n.reverse(),function t(){for(;n.length;){var e=n.pop();if(e in r)return t.value=e,t.done=!1,t}return t.done=!0,t}},t.values=M,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;0<=i;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;0<=n;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}var a=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc?null:o)?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),_(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r,n,i=this.tryEntries[e];if(i.tryLoc===t)return"throw"===(r=i.completion).type&&(n=r.arg,_(i)),n}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:M(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}var It="QAPM_EVENT_LIST",Rt=[];function Ct(t){var e=t.category,r=void 0===(r=t.tags)?{}:r,n=void 0===(n=t.values)?{}:n,i=void 0===(i=t.label)?"":i,a=void 0===(a=t.value)?0:a;t=void 0===(t=t.action)?"":t;try{var s={};if("APP_LAUNCH"!==e&&"PERF_"!==e.substr(0,5)&&(e="CUSTOM_".concat(e)),s.id=et(),s.time=N(),s.topic=7,s.extra="",s.category=e,s.action=t||"",s.label=i||"",s.value=a||0,s.tags=Object.assign({},s.tags,r),s.tags.sd3=_t.billingId,s.values=Object.assign({},s.values,n),!1!==Dt(s=Ut(s)))return o.info("event",s),Rt.push(s),s}catch(s){o.error(s)}}function Nt(t){jt.apply(this,arguments)}function jt(){return(jt=i()(Ot().mark((function t(e){var r,n,i,a=arguments;return Ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=1<a.length&&void 0!==a[1]&&a[1],t.prev=1,(n={tags:e.tags||{},values:e.values||{}}).id=et(),n.time=N(),n.topic=4,n.pre_page_id=e.prePageId,n.pre_page=e.prePageUrl,n.page_id=e.curPageId,n.page=e.curPageUrl,n.pre_page_start=e.prePageStart,n.pre_page_end=e.prePageEnd,n.page_start=e.curPageStart,n.tags.d5=R?ft():document.referrer,n.tags.d6=R?ct():xt,t.next=17,Z();case 17:if(n.tags.d9=t.sent,n.tags.d10=X(),n.tags.sd3=_t.billingId,i=Ut(n),!1===Dt(n=i))return t.abrupt("return");t.next=24;break;case 24:o.info("pageChangeEvent",n),Rt.push(n),r&&Gt(),t.next=32;break;case 29:t.prev=29,t.t0=t.catch(1),o.error(t.t0);case 32:case"end":return t.stop()}}),t,null,[[1,29]])})))).apply(this,arguments)}function Ft(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];Ct(t),e&&Gt()}function qt(t){o.info(t),t.tags=t.tags||{},t.id=et(),t.topic=3,t.time=N(),t.tags.d11=R?ft():document.referrer,t.tags.d12=R?ct():xt,t.tags.sd3=_t.billingId,t=Ut(t),I()?(!0!==_t.isReleasePackage&&(t.tags.sd4=t.view_text),t.view_text=v()(t.view_text)):t.view_text="",!1!==Dt(t)&&Rt.push(t)}function Dt(t){var e,r,n=t.category,i=t.tags,a=t.values;if(7===t.topic&&!n)return o.info("category MUST set"),!1;for(e in i)if("string"!=typeof i[e])return o.info("qapmCustomTrack error, tags value is not string",i),!1;for(r in a)if("number"!=typeof a[r])return o.error("qapmCustomTrack error, values value is not number",a),!1;return!0}function Ut(t){var e=_t.allEventCallback;return(e=window&&window.qapmEventCallback&&"function"==typeof window.qapmEventCallback?window.qapmEventCallback:e)(t)}function Gt(){return Ht.apply(this,arguments)}function Ht(){return(Ht=i()(Ot().mark((function t(){var e;return Ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0===Rt.length)return t.abrupt("return");t.next=2;break;case 2:return t.next=4,kt();case 4:t.t0=t.sent,t.t1=Rt,e={meta:t.t0,events:t.t1},e={config:{headers:{"Content-Type":"application/json"},isEncrypt:"true"===(Et&&Et.UBS&&Et.UBS.is_encryption)||!1,method:"POST",isUBS:!0},data:e},o.info("uploadEvent",e),(R?M:S)(e,{}),Rt=[];case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Kt(){0!==Rt.length&&y.setItem(It,JSON.stringify(Rt))}function zt(){var t;setInterval((function(){Gt()}),6e4),R||(t="onpagehide"in self?"pagehide":"unload",I()?window.addEventListener(t,Gt):(window.addEventListener(t,Kt),setTimeout((function(){Rt=JSON.parse(y.readItem(It))||[],o.info("eventInit upload eventList from storage",Rt),Gt(),y.removeItem(It)}),2e3)))}function Yt(){"use strict";Yt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},o=(g="function"==typeof Symbol?Symbol:{}).iterator||"@@iterator",a=g.asyncIterator||"@@asyncIterator",s=g.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(e){u=function(t,e,r){return t[e]=r}}function h(t,e,r,n){var o,a,s,u;e=e&&e.prototype instanceof f?e:f,e=Object.create(e.prototype),n=new E(n||[]);return i(e,"_invoke",{value:(o=t,a=r,s=n,u="suspendedStart",function(t,e){if("executing"===u)throw new Error("Generator is already running");if("completed"===u){if("throw"===t)throw e;return{value:void 0,done:!0}}for(s.method=t,s.arg=e;;){var r=s.delegate;if(r&&(r=function t(e,r){var n=r.method,i=e.iterator[n];return void 0===i?(r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=void 0,t(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),l):"throw"===(n=c(i,e.iterator,r.arg)).type?(r.method="throw",r.arg=n.arg,r.delegate=null,l):(i=n.arg)?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,l):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,l)}(r,s))){if(r===l)continue;return r}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if("suspendedStart"===u)throw u="completed",s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);if(u="executing","normal"===(r=c(o,a,s)).type){if(u=s.done?"completed":"suspendedYield",r.arg===l)continue;return{value:r.arg,done:s.done}}"throw"===r.type&&(u="completed",s.method="throw",s.arg=r.arg)}})}),e}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=h;var l={};function f(){}function p(){}function d(){}var g,y,m=((y=(y=(u(g={},o,(function(){return this})),Object.getPrototypeOf))&&y(y(M([]))))&&y!==e&&r.call(y,o)&&(g=y),d.prototype=f.prototype=Object.create(g));function v(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){var o;i(this,"_invoke",{value:function(i,a){function s(){return new e((function(o,s){!function i(o,a,s,u){var h;if("throw"!==(o=c(t[o],t,a)).type)return(a=(h=o.arg).value)&&"object"==n()(a)&&r.call(a,"__await")?e.resolve(a.__await).then((function(t){i("next",t,s,u)}),(function(t){i("throw",t,s,u)})):e.resolve(a).then((function(t){h.value=t,s(h)}),(function(t){return i("throw",t,s,u)}));u(o.arg)}(i,a,o,s)}))}return o=o?o.then(s,s):s()}})}function b(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(b,this),this.reset(!0)}function M(t){if(t){var e,n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return e=-1,(n=function n(){for(;++e<t.length;)if(r.call(t,e))return n.value=t[e],n.done=!1,n;return n.value=void 0,n.done=!0,n}).next=n}return{next:S}}function S(){return{value:void 0,done:!0}}return i(m,"constructor",{value:p.prototype=d,configurable:!0}),i(d,"constructor",{value:p,configurable:!0}),p.displayName=u(d,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){return!!(t="function"==typeof t&&t.constructor)&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,s,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},v(w.prototype),u(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new w(h(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},v(m),u(m,s,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e,r=Object(t),n=[];for(e in r)n.push(e);return n.reverse(),function t(){for(;n.length;){var e=n.pop();if(e in r)return t.value=e,t.done=!1,t}return t.done=!0,t}},t.values=M,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;0<=i;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;0<=n;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}var a=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc?null:o)?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),_(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r,n,i=this.tryEntries[e];if(i.tryLoc===t)return"throw"===(r=i.completion).type&&(n=r.arg,_(i)),n}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:M(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function Wt(){return"ios"===I()?54:"android"===I()?154:R?242:342}var Jt="QAPM_REQUEST_LIST",Vt=window&&window.fetch,Zt=!1,Xt=!1,Qt=[],$t={},te={},ee=["age","allow","accept-ch","accept-ch-lifetime","cache-control","connection","","content-encoding","content-language","content-length","content-location","content-range","content-security-policy-report-only","content-security-policy","content-type","date","device-memory","digest","dnt","dpr","ect","etag","expect-ct","expect","expires","feature-policy","forwarded","host","if-match","if-modified-since","if-none-match","if-range","if-unmodified-since","keep-alive","large-allocation","last-modified","link","location","nel","origin","proxy-authenticate","permissions-policy","range","referer","referrer-policy","retry-after","save-data","server-timing","server","service-worker-navigation-preload","strict-transport-security","te","timing-allow-origin","tk","trailer","transfer-encoding","upgrade-insecure-requests","upgrade","user-agent","vary","via","want-digest","x-content-type-options","x-dns-prefetch-control","x-forwarded-for","x-forwarded-host","x-forwarded-proto","x-frame-options","x-xss-protection"];function re(t){var e,r;return"string"==typeof t?(e=t.trim().split(/[\r\n]+/),r={},e.forEach((function(t){var e=(t=t.split(": ")).shift();t=t.join(": ");r[e]=t})),r):"object"===n()(t)?t:{}}function ne(t){var e,r={};for(e in t)!function(){var n=e.toLowerCase(),i=ee.find((function(t){return t===n})),o=_t.allowHeaders.find((function(t){return t===n}));(i||o)&&(r[n]=t[e])}();return r}function ie(t,e){if(R)return(e=e)&&e.profile?{redirect_start:(e=e.profile).redirectStart,redirect_end:e.redirectEnd,fetch_start:e.fetchStart,start_time:e.fetchStart,dns_start:e.domainLookupStart,dns_end:e.domainLookupEnd,conn_start:e.connectStart,conn_end:e.connectEnd,ssl_conn_end:e.SSLconnectionEnd,ssl_conn_start:e.SSLconnectionStart,req_start:e.requestStart,req_end:e.requestEnd,resp_start:e.responseStart,resp_end:e.responseEnd,end_time:e.responseEnd,rtt:e.rtt,peer_ip:e.peerIP,port:e.port,socket_reused:e.socketReused,estimate_nettype:e.estimate_nettype,http_rtt_estimate:e.httpRttEstimate,transport_rtt_estimate:e.transportRttEstimate,downstream_throughput_kbps_estimate:e.downstreamThroughputKbpsEstimate,throughput_kbps:e.throughputKbps}:void 0;e=t;try{var r=performance.getEntriesByName(e),n=r[r.length-1];if(n)return{redirect_start:q(n.redirectStart),redirect_end:q(n.redirectEnd),start_time:q(n.fetchStart),dns_start:q(n.domainLookupStart),dns_end:q(n.domainLookupEnd),conn_start:q(n.connectStart),conn_end:q(n.connectEnd),ssl_conn_end:q(n.connectEnd),ssl_conn_start:q(n.secureConnectionStart),req_start:q(n.requestStart),req_end:q(n.responseStart),resp_start:q(n.responseStart),resp_end:q(n.responseEnd),end_time:q(n.responseEnd)}}catch(t){o.info(t)}}function oe(t){ae.apply(this,arguments)}function ae(){return(ae=i()(Yt().mark((function t(e){var r,n,i,a,s,u,h,c,f,p,d,g,y,m,v,w,b,_,E,M,S,x,T,A,k;return Yt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.id,n=e.method,i=e.url,a=e.httpStatus,s=e.req,u=e.res,h=e.startTime,function(t){return _t.excludeUrlReg.some((function(e){return e.test(t)}))}(i))return t.abrupt("return");t.next=3;break;case 3:if(i){t.next=5;break}return t.abrupt("return");case 5:c=e.respHeaders,f=e.reqHeaders,p=C(),d=(d=ie(i,u))||{},f=re(f),c=re(c),f=ne(f),c=ne(c),L=i,B=u,P=l(P=s)+l(L),g=R&&B.profile&&B.profile.sendBytesCount||P,L=i,B=c,L=l(P=u)+l(L)+l(B),y=R&&P.profile&&P.profile.receivedBytedCount||L,m=d.end_time-d.start_time||p-h,w=v="";try{b=function(t){var e={},r=["href","origin","protocol","host","hostname","port","pathname","search","hash"],n=/(([^:]+:)\/\/(([^:\/\?#]+)(:\d+)?))(\/[^?#]*)?(\?[^#]*)?(#.*)?/.exec(t);if(n)for(var i=r.length-1;0<=i;--i)e[r[i]]=n[i]||"";return e}(i),_=b.host,E=b.pathname,w=(v=_)+(E=""===E?"/":E)}catch(t){w=v=i}return B=m,M=51200<(P=y)&&P/(B/1e3)<10240||P<=51200&&2e3<B?"true":"false",S=!(L=a)||400<=L||-1===L?"true":"false",t.next=23,Z(u);case 23:x=t.sent,T=xt,R&&d.peer_ip&&d.port&&(T="".concat(d.peer_ip,":").concat(d.port));try{"true"!==M&&"true"!==S||(A={protocol:"http",url:i,browser:Q(),browser_ver:$(),referrer:R?ft():document.referrer,cost:m,method:n,status_code:a||-1,bytes_sent:g,bytes_received:y,host_ip:T,conn_start:d.conn_start||0,conn_end:d.conn_end||0,dns_start:d.dns_start||0,dns_end:d.dns_end||0,req_start:d.req_start||0,req_end:d.req_end||0,resp_start:d.resp_start||0,resp_end:d.resp_end||0,start_time:d.start_time||h,end_time:d.end_time||p,redirect_start:d.redirect_start||0,redirect_end:d.redirect_end||0,ssl_conn_end:d.ssl_conn_end||0,ssl_conn_start:d.ssl_conn_start||0,req_headers:f,resp_headers:c,req:_t.collectReqBody?s:{},res:_t.collectRespBody?u:{}},R&&(A=Object.assign({},A,{wx_version:ct(),estimate_nettype:d.estimate_nettype||0,http_rtt_estimate:d.http_rtt_estimate||0,transport_rtt_estimate:d.transport_rtt_estimate||0,downstream_throughput_kbps_estimate:d.downstream_throughput_kbps_estimate||0,throughput_kbps:d.throughput_kbps||0})),k={id:r,time:h,page_id:(R?Bt:nt)(),battery_level:-1,net_type:x,net_op:X(),service_data:JSON.stringify(A)},Qt.push(k)),Ft({category:"PERF_NET_REQUEST",tags:{d1:w,d2:v,d3:"http",d4:S,d5:"false",d6:M,d7:X(),d8:xt,d9:x,d10:xt,d11:xt,d12:T,d13:(a||-1).toString(),d14:H(),d15:R?ft():document.referrer,d16:Q(),d17:$(),d18:(R?Bt:nt)(),d20:R&&d.protocol||xt,d21:R?ct():xt,d22:i},values:{v1:m,v2:g,v3:y,v4:d.dns_end-d.dns_start||0,v5:d.conn_end-d.conn_start||0,v6:d.ssl_conn_end-d.ssl_conn_start||0,v7:d.redirect_end-d.redirect_start||0,v8:d.req_end-d.req_start||0,v9:!(6e5<d.resp_end-d.resp_start)&&d.resp_end-d.resp_start||0,v10:d.rtt||0,v11:d.http_rtt_estimate||0,v12:d.transport_rtt_estimate||0,v13:d.downstream_throughput_kbps_estimate||0,v14:d.throughput_kbps||0}})}catch(t){o.error("upload network data error:",t)}case 27:case"end":return t.stop()}var L,P,B}),t)})))).apply(this,arguments)}function se(){var t=wx.request;try{Object.defineProperty(R,"request",{configurable:!0,enumerable:!0,writable:!0,value:function(){try{var e=arguments[0]||{},r=et(),n=C(),i=e.header||{},a=e.complete;e.complete=function(t){var o=t.header;if(oe({id:r,startTime:n,method:e.method||"GET",url:e.url,httpStatus:t.statusCode,req:e,res:t,respHeaders:o,reqHeaders:i}),a)return a.apply(this,arguments)}}catch(t){o.error("hook wx request error",t)}finally{return t.apply(this,arguments)}}})}catch(e){o.error("hook wx request error",e),wx.request=t}}function ue(){if(!0!==Xt&&window.XMLHttpRequest){Xt=!0;try{var t=$t;t.xhrOpen||(t.xhrOpen=XMLHttpRequest.prototype.open,t.xhrSend=XMLHttpRequest.prototype.send,t.xhrSetRequestHeader=XMLHttpRequest.prototype.setRequestHeader,XMLHttpRequest.prototype.send=function(){t.sendArguments=arguments[0],t.xhrSend.apply(this,arguments)},XMLHttpRequest.prototype.setRequestHeader=function(e,r){t.xhrSetRequestHeader.apply(this,arguments),this.reqeustHeaders||(this.reqeustHeaders={}),this.reqeustHeaders[e]?this.reqeustHeaders[e]+=";".concat(r):this.reqeustHeaders[e]=r},XMLHttpRequest.prototype.open=function(e,r){var n=et(),i=C();this.addEventListener("loadend",(function(){var o=this.getAllResponseHeaders()||{},a=this.reqeustHeaders;r.match(/^(https?:)?\/\/([^\/]+)/)||(r="/"===r[0]?window.location.origin+r:"".concat(window.location.origin,"/").concat(r)),oe({id:n,startTime:i,method:e||"GET",url:r,httpStatus:this.status,req:t.sendArguments,res:this.responseText,respHeaders:o,reqHeaders:a})})),t.xhrOpen.apply(this,arguments)})}catch(t){o.info(t)}}if(!0!==Zt&&window.fetch){Zt=!0;try{var e=te;Object.defineProperty(window,"fetch",{configurable:!0,enumerable:!0,writable:!0,value:(r=i()(Yt().mark((function t(r,n){var a,s;return Yt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=et(),s=C(),e.sendArguments=n,t.abrupt("return",Vt(r,n).then(function(){var t=i()(Yt().mark((function t(r){var i,u;return Yt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r.clone().text();case 3:i=t.sent,u={},oe({id:a,startTime:s,method:n&&n.method||"GET",url:r.url,httpStatus:r.status,req:e.sendArgumentss,res:i,respHeaders:r.headers||{},reqHeaders:u}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),o.info(t.t0);case 12:return t.abrupt("return",r);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){throw t})));case 4:case"end":return t.stop()}}),t)}))),function(t,e){return r.apply(this,arguments)})})}catch(t){o.info(t)}var r}}function he(){var t;0!==Qt.length&&(t={meta:At({category:"PERF_NET_REQUEST",plugin:Wt(),needTranslate:"false"}),data:Qt},t={config:{headers:{"Content-Type":"application/x-www-form-urlencoded"},isEncrypt:Et&&Et.NETWORK&&"true"===Et.NETWORK.is_encryption||!1,dataLength:Qt.length,plugin:Wt(),method:"POST",isQAPM:!0},data:t},(R?M:S)(t,{}),Qt=[])}function ce(){0!==Qt.length&&y.setItem(Jt,JSON.stringify(Qt))}function le(){var t;(R?se:ue)(),setInterval((function(){he()}),6e4),R||(t="onpagehide"in self?"pagehide":"unload",I()?window.addEventListener(t,he):(window.addEventListener(t,ce),setTimeout((function(){Qt=JSON.parse(y.readItem(Jt))||[],he(),y.removeItem(Jt)}),2e3)))}var fe={logLevel:"debug",levelMap:{debug:1,info:2,log:3,warn:4,error:5,none:6},enableLogLevel:function(t){var e,r=this.levelMap[t];return null!=r&&(e=this.levelMap[this.logLevel],null!=t)&&e<=r}};function pe(t,e,r){e&&Object.keys(r).forEach((function(n){var i,o=e[n];!c(o)&&"onerror"!==t||(i=null,e[n]=function(){if(c(r[n])){try{r[n].apply(this,arguments)}catch(t){}if(c(o))return o.apply(this,arguments)}else if(c(r[n].before)&&c(r[n].after)){try{var t=this;r[n].before.apply(this,[t].concat(Array.prototype.slice.call(arguments)))}catch(t){}c(o)&&(i=o.apply(this,arguments));try{r[n].after.apply(this,arguments)}catch(t){}return i}})}))}function de(){"use strict";de=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},o=(g="function"==typeof Symbol?Symbol:{}).iterator||"@@iterator",a=g.asyncIterator||"@@asyncIterator",s=g.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(e){u=function(t,e,r){return t[e]=r}}function h(t,e,r,n){var o,a,s,u;e=e&&e.prototype instanceof f?e:f,e=Object.create(e.prototype),n=new E(n||[]);return i(e,"_invoke",{value:(o=t,a=r,s=n,u="suspendedStart",function(t,e){if("executing"===u)throw new Error("Generator is already running");if("completed"===u){if("throw"===t)throw e;return{value:void 0,done:!0}}for(s.method=t,s.arg=e;;){var r=s.delegate;if(r&&(r=function t(e,r){var n=r.method,i=e.iterator[n];return void 0===i?(r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=void 0,t(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),l):"throw"===(n=c(i,e.iterator,r.arg)).type?(r.method="throw",r.arg=n.arg,r.delegate=null,l):(i=n.arg)?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,l):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,l)}(r,s))){if(r===l)continue;return r}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if("suspendedStart"===u)throw u="completed",s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);if(u="executing","normal"===(r=c(o,a,s)).type){if(u=s.done?"completed":"suspendedYield",r.arg===l)continue;return{value:r.arg,done:s.done}}"throw"===r.type&&(u="completed",s.method="throw",s.arg=r.arg)}})}),e}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=h;var l={};function f(){}function p(){}function d(){}var g,y,m=((y=(y=(u(g={},o,(function(){return this})),Object.getPrototypeOf))&&y(y(M([]))))&&y!==e&&r.call(y,o)&&(g=y),d.prototype=f.prototype=Object.create(g));function v(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){var o;i(this,"_invoke",{value:function(i,a){function s(){return new e((function(o,s){!function i(o,a,s,u){var h;if("throw"!==(o=c(t[o],t,a)).type)return(a=(h=o.arg).value)&&"object"==n()(a)&&r.call(a,"__await")?e.resolve(a.__await).then((function(t){i("next",t,s,u)}),(function(t){i("throw",t,s,u)})):e.resolve(a).then((function(t){h.value=t,s(h)}),(function(t){return i("throw",t,s,u)}));u(o.arg)}(i,a,o,s)}))}return o=o?o.then(s,s):s()}})}function b(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(b,this),this.reset(!0)}function M(t){if(t){var e,n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return e=-1,(n=function n(){for(;++e<t.length;)if(r.call(t,e))return n.value=t[e],n.done=!1,n;return n.value=void 0,n.done=!0,n}).next=n}return{next:S}}function S(){return{value:void 0,done:!0}}return i(m,"constructor",{value:p.prototype=d,configurable:!0}),i(d,"constructor",{value:p,configurable:!0}),p.displayName=u(d,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){return!!(t="function"==typeof t&&t.constructor)&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,s,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},v(w.prototype),u(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new w(h(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},v(m),u(m,s,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e,r=Object(t),n=[];for(e in r)n.push(e);return n.reverse(),function t(){for(;n.length;){var e=n.pop();if(e in r)return t.value=e,t.done=!1,t}return t.done=!0,t}},t.values=M,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;0<=i;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;0<=n;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}var a=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc?null:o)?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),_(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r,n,i=this.tryEntries[e];if(i.tryLoc===t)return"throw"===(r=i.completion).type&&(n=r.arg,_(i)),n}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:M(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function ge(){return R?243:"android"===I()?143:"ios"===I()?43:343}["debug","info","log","warn","error"].map((function(t){fe[t]=function(){if(this.enableLogLevel(t)){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];(e=console)[t].apply(e,["QAPM, track-js,"].concat(n))}}}));var ye="QAPM_JSERROR_LIST",me=[];function ve(t,e){we.apply(this,arguments)}function we(){return(we=i()(de().mark((function t(e,r){var n,i,a,s,u;return de().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=i=n="",s=[];try{"WebError"===e?(a=r[4].stack,s=r[4].stack.split("\n"),n=r[0].split(":")[0],i=r[0].split(":").slice(1).join(""),(s[0].includes(n)||s[0].includes(i))&&s.shift()):i="MpError"===e?(s=(a=r).split("\n"),n=s[2].split(":")[0],s[2].split(":").slice(1).join("")):"PromiseError"===e?(a=r.reason.stack||r.reason,s=r.reason.stack?r.reason.stack.split("\n"):[r.reason],n="PromiseError",xt):(a=r,s[0]=r,n="Error",r)}catch(t){n="Error",i="",s[0]=JSON.stringify(r)}return s.forEach((function(t,e){return s[e]=t&&t.trim&&t.trim()||t})),u={browser:Q(),browser_ver:$(),error_type:n,error_value:i,referrer:R?ft():document.referrer,stack:{time_slices:[{threads:[{frame:{calls:s}}]}]}},R&&(u=Object.assign({},u,{wx_version:ct()})),t.t0=Ft,t.t1=(R?Bt:nt)(),t.t2=n,t.t3=i,t.t4=a&&a.toString().substring(0,64)||"",t.t5=R?ct():xt,t.t6=X(),t.t7=xt,t.next=18,Z({});case 18:return t.t8=t.sent,t.t9=Q(),t.t10=$(),t.t11=a&&a.toString()||"",t.t12={d1:t.t1,d2:t.t2,d3:t.t3,d4:t.t4,d5:t.t5,d7:t.t6,d8:t.t7,d9:t.t8,d10:t.t9,d11:t.t10,info1:t.t11},t.t13={category:"PERF_JS_ERROR",tags:t.t12},(0,t.t0)(t.t13),o.info("formated stack",u),t.t14=me,t.t15=et(),t.t16=C(),t.t17=(R?Bt:nt)(),t.t18=-1,t.next=33,Z({});case 33:t.t19=t.sent,t.t20=X(),t.t21=JSON.stringify(u),t.t22={id:t.t15,time:t.t16,page_id:t.t17,battery_level:t.t18,net_type:t.t19,net_op:t.t20,service_data:t.t21},t.t14.push.call(t.t14,t.t22);case 38:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function be(){var t;0!==me.length&&(t={meta:At({plugin:ge(),needTranslate:"true",category:"PERF_JS_ERROR"}),data:me},t={config:{headers:{"Content-Type":"application/x-www-form-urlencoded"},isEncrypt:Et&&Et.JSERROR&&"true"===Et.JSERROR.is_encryption||!1,dataLength:me.length,plugin:ge(),method:"POST",isQAPM:!0},data:t},(R?M:S)(t,{}),me=[])}function _e(){0!==me.length&&y.setItem(ye,JSON.stringify(me))}function Ee(){var t,e;R?(function(){var t={onError:function(t){ve("MpError",t)}},e=this&&this.global&&this.global.App||App;try{function r(r){try{o.log("App register",r),g(r,t),pe("App",r,t),o.log("App hooked",r)}catch(r){o.error("hook App error",r)}finally{return e.apply(this,arguments)}}this&&this.global&&this.global.App?qapmGlobal.App=r:App=r}catch(r){this&&this.global&&this.global.App&&(qapmGlobal.App=newApp),App=e,o.error("hook App error",r)}}(),R.onUnhandledRejection&&R.onUnhandledRejection((function(t){ve("PromiseError",t)}))):(t=window.onerror,window.onerror=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];ve("WebError",r),t&&t.call.apply(t,[window].concat(r))},window.addEventListener("unhandledrejection",(function(t){ve("PromiseError",t)}))),setInterval((function(){be()}),6e4),R||(e="onpagehide"in self?"pagehide":"unload",I()?window.addEventListener(e,be):(window.addEventListener(e,_e),setTimeout((function(){me=JSON.parse(y.readItem(ye))||[],be(),y.removeItem(ye)}),2e3)))}function Me(){"use strict";Me=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},o=(g="function"==typeof Symbol?Symbol:{}).iterator||"@@iterator",a=g.asyncIterator||"@@asyncIterator",s=g.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(e){u=function(t,e,r){return t[e]=r}}function h(t,e,r,n){var o,a,s,u;e=e&&e.prototype instanceof f?e:f,e=Object.create(e.prototype),n=new E(n||[]);return i(e,"_invoke",{value:(o=t,a=r,s=n,u="suspendedStart",function(t,e){if("executing"===u)throw new Error("Generator is already running");if("completed"===u){if("throw"===t)throw e;return{value:void 0,done:!0}}for(s.method=t,s.arg=e;;){var r=s.delegate;if(r&&(r=function t(e,r){var n=r.method,i=e.iterator[n];return void 0===i?(r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=void 0,t(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),l):"throw"===(n=c(i,e.iterator,r.arg)).type?(r.method="throw",r.arg=n.arg,r.delegate=null,l):(i=n.arg)?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,l):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,l)}(r,s))){if(r===l)continue;return r}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if("suspendedStart"===u)throw u="completed",s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);if(u="executing","normal"===(r=c(o,a,s)).type){if(u=s.done?"completed":"suspendedYield",r.arg===l)continue;return{value:r.arg,done:s.done}}"throw"===r.type&&(u="completed",s.method="throw",s.arg=r.arg)}})}),e}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=h;var l={};function f(){}function p(){}function d(){}var g,y,m=((y=(y=(u(g={},o,(function(){return this})),Object.getPrototypeOf))&&y(y(M([]))))&&y!==e&&r.call(y,o)&&(g=y),d.prototype=f.prototype=Object.create(g));function v(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){var o;i(this,"_invoke",{value:function(i,a){function s(){return new e((function(o,s){!function i(o,a,s,u){var h;if("throw"!==(o=c(t[o],t,a)).type)return(a=(h=o.arg).value)&&"object"==n()(a)&&r.call(a,"__await")?e.resolve(a.__await).then((function(t){i("next",t,s,u)}),(function(t){i("throw",t,s,u)})):e.resolve(a).then((function(t){h.value=t,s(h)}),(function(t){return i("throw",t,s,u)}));u(o.arg)}(i,a,o,s)}))}return o=o?o.then(s,s):s()}})}function b(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(b,this),this.reset(!0)}function M(t){if(t){var e,n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return e=-1,(n=function n(){for(;++e<t.length;)if(r.call(t,e))return n.value=t[e],n.done=!1,n;return n.value=void 0,n.done=!0,n}).next=n}return{next:S}}function S(){return{value:void 0,done:!0}}return i(m,"constructor",{value:p.prototype=d,configurable:!0}),i(d,"constructor",{value:p,configurable:!0}),p.displayName=u(d,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){return!!(t="function"==typeof t&&t.constructor)&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,s,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},v(w.prototype),u(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new w(h(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},v(m),u(m,s,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e,r=Object(t),n=[];for(e in r)n.push(e);return n.reverse(),function t(){for(;n.length;){var e=n.pop();if(e in r)return t.value=e,t.done=!1,t}return t.done=!0,t}},t.values=M,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;0<=i;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;0<=n;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}var a=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc?null:o)?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),_(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r,n,i=this.tryEntries[e];if(i.tryLoc===t)return"throw"===(r=i.completion).type&&(n=r.arg,_(i)),n}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:M(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}var Se=function(){return"ios"===I()?41:"android"===I()?141:R?241:341};function xe(){Te.apply(this,arguments)}function Te(){return(Te=i()(Me().mark((function t(){var e,r,n,i,a;return Me().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(R)return t.abrupt("return");t.next=2;break;case 2:if(n=function(){try{var t,e,r,n,i,a,s=W();return void 0===s?{timing:{},performanceEntries:[]}:(t=s.timing,e=s.getEntriesByType("paint"),r={fp:{},fcp:{}},Array.isArray(e)&&e.forEach((function(t){"first-paint"===t.name&&(r.fp={start:q(t.startTime),end:q(t.startTime)+t.duration,duration:t.duration}),"first-contentful-paint"===t.name&&(r.fcp={start:q(t.startTime),end:q(t.startTime)+t.duration,duration:t.duration})})),n={connect_start:t.connectStart,connect_end:t.connectEnd,dom_complete:t.domComplete,dom_content_loaded_event_start:t.domContentLoadedEventStart,dom_content_loaded_event_end:t.domContentLoadedEventEnd,dom_interactive:t.domInteractive,dom_loading:t.domLoading,domain_lookup_start:t.domainLookupStart,domain_lookup_end:t.domainLookupEnd,fetch_start:t.fetchStart,load_event_start:t.loadEventStart,load_event_end:t.loadEventEnd,navigation_start:t.navigationStart,redirect_start:t.redirectStart,redirect_end:t.redirectEnd,request_start:t.requestStart,response_start:t.responseStart,response_end:t.responseEnd,secure_connection_start:t.secureConnectionStart,unload_event_start:t.unloadEventStart,unload_event_end:t.unloadEventEnd},i=s.getEntries(),a=[],i.forEach((function(t){a.push({url:t.name,resource_type:t.initiatorType,next_hop_protocol:t.nextHopProtocol,host_ip:xt,domain_look_up_end:q(t.domainLookupEnd),domain_look_up_start:q(t.domainLookupEnd),connect_end:q(t.connectEnd),connect_start:q(t.connectStart),ssl_connection_end:q(t.secureConnectionStart),ssl_connection_start:q(t.secureConnectionStart),fetch_start:q(t.fetchStart),request_start:q(t.requestStart),request_end:q(t.responseStart),response_end:q(t.responseEnd),response_start:q(t.responseStart),duration:t.duration,encoded_body_size:t.encodedBodySize||0,transfer_size:t.transferSize||0,worker_start:q(t.workerStart),entry_type:t.entryType,resource_request_trigger_time:q(t.requestStart),resource_request_handle_time:q(t.domainLookupEnd),redirect_start:q(t.redirectStart),redirect_end:q(t.redirectEnd),is_first_screen_resource:1})})),{timing:n,performanceEntries:a,paint:r})}catch(t){return o.info(t),{timing:{},performanceEntries:[]}}}(),e=void 0===(e=n.timing)?{}:e,r=void 0===(r=n.performanceEntries)?[]:r,n=void 0===(n=n.paint)?{}:n,o.info("timing",e),e.load_event_end<=0||2147483647<e.load_event_end-e.fetch_start)return o.info("timing.load_event_end <= 0 || timing.load_event_end-timing.fetch_start > 2147483647"),t.abrupt("return");t.next=7;break;case 7:if(e.load_event_start<=0)return o.info("timing.load_event_start<=0"),t.abrupt("return");t.next=10;break;case 10:if(e.dom_complete<=0)return o.info("timing.dom_complete <=0"),t.abrupt("return");t.next=13;break;case 13:if(e.dom_loading<=0)return o.info("timing.dom_loading <=0"),t.abrupt("return");t.next=16;break;case 16:if(e.dom_content_loaded_event_end<=0)return o.info("timing.dom_content_loaded_event_end <=0"),t.abrupt("return");t.next=19;break;case 19:if(e.load_event_end-e.navigation_start<=0||1e6<e.load_event_end-e.navigation_start)return t.abrupt("return");t.next=21;break;case 21:return i=rt(),a=nt(),Ft({category:"PERF_WEB_PAGE_LOAD",tags:{d1:i,d2:a,d3:document.referrer,d4:"true",d10:Q(),d11:$()},values:{v1:e.connect_start,v2:e.connect_end,v3:e.dom_complete,v4:e.dom_content_loaded_event_start,v5:e.dom_content_loaded_event_end,v6:e.dom_interactive,v7:e.dom_loading,v8:e.domain_lookup_start,v9:e.domain_lookup_end,v10:e.fetch_start,v11:e.load_event_start,v12:e.load_event_end,v13:e.navigation_start,v14:e.redirect_start,v15:e.redirect_end,v16:e.request_start,v17:e.response_start,v18:e.response_end,v19:e.secure_connection_start,v20:e.unload_event_start,v21:e.unload_event_end,v22:n.fp.start||0,v23:n.fp.end||0,v24:n.fcp.start||0,v25:n.fcp.end||0}},!0),t.t0=At({category:"PERF_WEB_PAGE_LOAD",plugin:Se(),needTranslate:"false"}),t.t1=et(),t.t2=C(),t.t3=a,t.t4=-1,t.next=31,Z({});case 31:t.t5=t.sent,t.t6=X(),t.t7=JSON.stringify({referrer:document.referrer,url:rt(),browser:Q(),browser_ver:$(),ua:tt(),performance_timing:e,performance_entries:r,paint:n}),t.t8={id:t.t1,time:t.t2,page_id:t.t3,battery_level:t.t4,net_type:t.t5,net_op:t.t6,service_data:t.t7},t.t9=[t.t8],i={meta:t.t0,data:t.t9},a={config:{headers:{"Content-Type":"application/x-www-form-urlencoded"},isEncrypt:Et&&Et.LAUNCH&&"true"===Et.LAUNCH.is_encryption||!1,plugin:Se(),dataLength:1,method:"POST",isQAPM:!0},data:i},o.info("uploadWebLaunchData",a),R||S(a,{});case 40:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Ae(){"complete"===document.readyState?(o.info("document ready!!"),xe()):window.addEventListener("load",(function(){o.info("document load ready"),xe()}))}var ke=!R;function Le(){ke&&setInterval((function(){var t=document.body.querySelectorAll("*").length,e=_t.domLengthThreshold;t<e&&(o.info("!!!maybe white screen,domLength is ",t,",domLengthThreshold is ",e),Ct({category:"PERF_WHTIE_SCREEN",values:{v1:t,v2:e},tags:{d1:nt(),d4:H(),d10:Q(),d11:$()}}))}),1e4)}var Pe="QAPM_WEB_APPCONFIG_V7",Be={ALL:193273528320,UBS:137438953472,NETWORK:4294967296,LAUNCH:17179869184,JSERROR:34359738368},Oe={ALL:8594186240,UBS:32768,NETWORK:8192,LAUNCH:4194304,JSERROR:16384,PAGE:8589934592};function Ie(t){try{var e,r=!1,n=!1,i=!1,a=!1,s=0;return"android"===I()||"ios"===I()?s=Et.SWITCH:R?(s=t&&t.switch||0,Mt.SWITCH=s,Mt.UBS=t.data.ubs,Mt.USR=t.data.usr,Mt.JSERROR=t.data.p_243,Mt.NETWORK=t.data.p_242,Mt.PAGE=t.data.p_288,Mt.LAUNCH=t.data.p_266):(s=t&&t.switch||0,Et.SWITCH=s,Et.UBS=t.data.ubs,Et.USR=t.data.usr,Et.JSERROR=t.data.p_343,Et.NETWORK=t.data.p_342,Et.LAUNCH=t.data.p_341),e=R?(r=0!==D(s,Oe.UBS),n=0!==D(s,Oe.NETWORK),i=0!==D(s,Oe.JSERROR),a=0!==D(s,Oe.LAUNCH),0!==D(s,Oe.PAGE)):(r=0!==D(s,Be.UBS),n=0!==D(s,Be.NETWORK),i=0!==D(s,Be.JSERROR),a=0!==D(s,Be.LAUNCH),"false"!==(t.data&&t.data.ubs&&t.data.ubs.upload_pv)),{openUBS:r,openNetwork:n,openJsError:i,openLaunch:a,openPage:e}}catch(t){return o.error(t),{}}}function Re(t){return new Promise((function(e,r){try{var n,i=t.app_key.split("-")[1],a=t.version,s=_t.user_id,u=G(),c=z(),l=H(),f=h,p={data:{device:u,user_id:s,os_ver:c,device_id:y.readItem("QAPM_DEVICE_ID"),md5_code:"",user_switch:(R?Oe:Be).ALL,version:a,sdk_ver:f,last_switch:(R?Oe:Be).ALL,app_id:i,hit:0,is_vip:"true",model:G(),platform:l},config:{headers:{"Content-Type":"application/json"},method:"POST",isAppconfig:!0}},d=Ce();d?(p.data.md5_code=d.md5,2592e6<(n=(new Date).getTime()-new Date(d.hitTime).getTime())&&d.hitTime&&(delete d.hit,delete d.hitTime),p.data.hit=d.hit||0,p.data.last_switch=d.switch):(d={},o.info("appconfig is not in local stroage")),(R?M:S)(p,{onSuccess:function(t){var r=d;if(404===t.statusCode||404===t.data)o.info("get appconfig fail",t);else{if("string"==typeof t.data)try{t.data=JSON.parse(t.data)}catch(r){return void o.info("get appconfig fail",t)}0<t.data.switch&&!d.hitTime&&(t.data.hit=1,t.data.hitTime=new Date,r.hit=1,r.hitTime=new Date),d.hitTime&&(t.data.hit=1,t.data.hitTime=d.hitTime,r.hit=1,r.hitTime=d.hitTime),1e3===t.data.status&&(t.data.time=new Date,y.setItem(Pe,JSON.stringify(t.data)),e(t.data)),1200===t.data.status&&(r.switch=t.data.switch,r.time=new Date,y.setItem(Pe,JSON.stringify(r)),e(d))}}})}catch(n){o.info(n),r(n)}}))}function Ce(){try{var t=y.readItem(Pe);return t?"string"==typeof t?JSON.parse(t):t:{}}catch(t){return o.info(t),{}}}e=r(32);var Ne=r.n(e);function je(){"use strict";je=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},o=(g="function"==typeof Symbol?Symbol:{}).iterator||"@@iterator",a=g.asyncIterator||"@@asyncIterator",s=g.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(e){u=function(t,e,r){return t[e]=r}}function h(t,e,r,n){var o,a,s,u;e=e&&e.prototype instanceof f?e:f,e=Object.create(e.prototype),n=new E(n||[]);return i(e,"_invoke",{value:(o=t,a=r,s=n,u="suspendedStart",function(t,e){if("executing"===u)throw new Error("Generator is already running");if("completed"===u){if("throw"===t)throw e;return{value:void 0,done:!0}}for(s.method=t,s.arg=e;;){var r=s.delegate;if(r&&(r=function t(e,r){var n=r.method,i=e.iterator[n];return void 0===i?(r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=void 0,t(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),l):"throw"===(n=c(i,e.iterator,r.arg)).type?(r.method="throw",r.arg=n.arg,r.delegate=null,l):(i=n.arg)?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,l):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,l)}(r,s))){if(r===l)continue;return r}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if("suspendedStart"===u)throw u="completed",s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);if(u="executing","normal"===(r=c(o,a,s)).type){if(u=s.done?"completed":"suspendedYield",r.arg===l)continue;return{value:r.arg,done:s.done}}"throw"===r.type&&(u="completed",s.method="throw",s.arg=r.arg)}})}),e}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=h;var l={};function f(){}function p(){}function d(){}var g,y,m=((y=(y=(u(g={},o,(function(){return this})),Object.getPrototypeOf))&&y(y(M([]))))&&y!==e&&r.call(y,o)&&(g=y),d.prototype=f.prototype=Object.create(g));function v(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){var o;i(this,"_invoke",{value:function(i,a){function s(){return new e((function(o,s){!function i(o,a,s,u){var h;if("throw"!==(o=c(t[o],t,a)).type)return(a=(h=o.arg).value)&&"object"==n()(a)&&r.call(a,"__await")?e.resolve(a.__await).then((function(t){i("next",t,s,u)}),(function(t){i("throw",t,s,u)})):e.resolve(a).then((function(t){h.value=t,s(h)}),(function(t){return i("throw",t,s,u)}));u(o.arg)}(i,a,o,s)}))}return o=o?o.then(s,s):s()}})}function b(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(b,this),this.reset(!0)}function M(t){if(t){var e,n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return e=-1,(n=function n(){for(;++e<t.length;)if(r.call(t,e))return n.value=t[e],n.done=!1,n;return n.value=void 0,n.done=!0,n}).next=n}return{next:S}}function S(){return{value:void 0,done:!0}}return i(m,"constructor",{value:p.prototype=d,configurable:!0}),i(d,"constructor",{value:p,configurable:!0}),p.displayName=u(d,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){return!!(t="function"==typeof t&&t.constructor)&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,s,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},v(w.prototype),u(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new w(h(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},v(m),u(m,s,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e,r=Object(t),n=[];for(e in r)n.push(e);return n.reverse(),function t(){for(;n.length;){var e=n.pop();if(e in r)return t.value=e,t.done=!1,t}return t.done=!0,t}},t.values=M,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;0<=i;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;0<=n;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}var a=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc?null:o)?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),_(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r,n,i=this.tryEntries[e];if(i.tryLoc===t)return"throw"===(r=i.completion).type&&(n=r.arg,_(i)),n}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:M(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function Fe(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)),n}function qe(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Fe(Object(r),!0).forEach((function(e){Ne()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Fe(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function De(){if(R)return 288}r="_background_";var Ue={customState:"stop",prePageUrl:"",prePageId:"",prePageStart:N(),prePageEnd:N(),curPageUrl:r,curPageId:r,curPageStart:N()},Ge={isFirstPageInit:!1,isFirstPageReady:!1,firstInitTime:0,firstReadyTime:0,page:""},He={},Ke=[],ze={on_load:{start_time:0,end_time:0},on_ready:{start_time:0,end_time:0},on_show:{start_time:0,end_time:0},on_hide:{start_time:0,end_time:0},on_unload:{start_time:0,end_time:0}};function Ye(){var t,e;!function(){var t={onLoad:{before:function(t){var e=t;if(e&&e.setData){var r;t=e.setData;try{e.setUpdatePerformanceListener?e.setUpdatePerformanceListener({withDataPaths:!0},(function(t){We(t.dataPaths||{},t.pendingStartTimestamp,t.updateEndTimestamp)})):(r=e.setData,e.setData=function(){var t=arguments[1],n=C(),i=arguments[0];return r.call(e,i,(function(){var r=C();return We(i,n,r),t&&t.apply(e,arguments)}))})}catch(r){o.error("hook setdata error",r),e.setData=t}}else o.error("hook set data fail",e);Ge.isFirstPageInit?(ze.on_load.start_time=C(),t=Lt().__wxWebviewId__,He[t]={initTime:C()}):(Ge.isFirstPageInit=!0,Ge.firstInitTime=C())},after:function(){ze.on_load.end_time=C()}},onReady:{before:function(){Ge.isFirstPageReady||(Ge.isFirstPageReady=!0,Ge.firstReadyTime=C()),ze.on_ready.start_time=C()},after:function(){ze.on_ready.end_time=C(),Ge.page=Bt()}},onShow:{before:function(){ze.on_show.start_time=C()},after:function(){ze.on_show.end_time=C(),Ue.prePageUrl=Ue.curPageUrl,Ue.prePageId=Ue.curPageId,Ue.prePageStart=Ue.curPageStart,Ue.curPageId=Bt(),Ue.curPageUrl=Pt(),Ue.curPageStart=N(),R.getPerformance||Nt(qe({},Ue))}},onHide:{before:function(){ze.on_hide.start_time=C()},after:function(){ze.on_hide.end_time=C(),Ue.prePageEnd=N(),R.getPerformance||Ve()}},onUnload:{before:function(){ze.on_unload.start_time=C()},after:function(){ze.on_unload.end_time=C(),Ue.prePageEnd=N(),R.getPerformance||Ve()}}},e=this&&this.global&&this.global.Page||Page,r=Component;try{var n=this&&this.global&&this.global.Page||Page;Page=function(e){return g(e,t),pe("Page",e,t),n.apply(this,arguments)},Component=function(e){return g(e.methods,t),pe("Component",e.methods,t),r.apply(this,arguments)}}catch(t){this&&this.global&&this.global.Page?qapmGlobal.Page=e:Page=e,Component=r,o.info("hook page error",t)}}(),R.getPerformance&&(t=R.getPerformance().createObserver((function(t){var e,r=t.getEntries(),n="false",i=t.getEntriesByName("firstRender","render")||[],o=t.getEntriesByName("firstPaint","render")||[],a=t.getEntriesByName("firstContentfulPaint","render")||[],s=t.getEntriesByName("largestContentfulPaint","render")||[],u=t.getEntriesByName("evaluateScript","script")||[],h=t.getEntriesByName("route","navigation")||[],c=(t=t.getEntriesByName("appLaunch","navigation")||[],qe(qe({},Ue),{},{tags:{d7:"false",d8:"false"},values:{v4:0,v5:0,v6:0,v7:0,v8:0,v9:0,v10:0,v11:0,v12:0,v13:0,v14:0}}));0<i.length&&(e=(i=i[0]).startTime,i=i.duration,c.values.v4=e,c.values.v5=e+i),0<o.length&&(e=o[0].startTime,c.values.v6=e),0<a.length&&(i=a[0].startTime,c.values.v7=i),0<s.length&&(o=s[0].startTime,c.values.v8=o),0<u.length&&(a=(e=u[0]).startTime,i=e.duration,c.values.v9=a,c.values.v10=a+i),0<h.length&&(o=(s=h[0]).startTime,u=s.duration,n=c.tags.d8="true",c.values.v11=o,c.values.v12=o+u,Nt(c),Ve({perfInfo:JSON.stringify(r),isAppLaunch:"false",isRoute:n})),0<t.length&&(a=(e=t[0]).startTime,i=e.duration,c.tags.d7="true",c.values.v13=a||0,c.values.v14=a+i||0,Nt(c),Ve({perfInfo:JSON.stringify(r),isAppLaunch:"true",isRoute:n}))})),(e=["render","script","navigation"]).push("loadPackage"),e.push("resource"),t.observe({entryTypes:e}))}function We(t,e,r){var n=Object.assign({},{data:-1,size:-1,start_time:0,end_time:0});t=JSON.stringify(t||{});n.size=t&&2*t.length/1024,n.data={},n.start_time=e,n.end_time=r,Ke.push(n)}function Je(t,e,r){setTimeout((function(){var n;"start"!==Ue.customState&&(n="customPageChange"===t?r:location.href,Ue.curPageUrl===n?o.warn("page change event, url is same",Ue.curPageUrl,n):(Ue.prePageUrl=Ue.curPageUrl,Ue.prePageId=Ue.curPageId,Ue.prePageStart=Ue.curPageStart,Ue.prePageEnd=N(),"customPageChange"===t?(Ue.curPageId=e,Ue.curPageUrl=r):(Ue.curPageId=nt(),Ue.curPageUrl=rt()),Ue.curPageStart=N(),"ios"===(n=I())&&window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.QAPM&&window.webkit.messageHandlers.QAPM.postMessage?window.webkit.messageHandlers.QAPM.postMessage({functionName:"webviewPageChange",pageId:Ue.curPageId,page:Ue.curPageUrl,time:it()}):"android"===n&&window.QAPMAndroidJsBridge&&window.QAPMAndroidJsBridge.webviewPageChange?window.QAPMAndroidJsBridge.webviewPageChange(Ue.curPageId,Ue.curPageUrl,it()):Nt(qe({eventType:t},Ue))))}),0)}function Ve(t){Ze.apply(this,arguments)}function Ze(){return(Ze=i()(je().mark((function t(e){var r,n;return je().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;break;case 2:return r={referrer:ft(),page:Bt(),methods:ze,setdata_list:Ke,perfInfo:"{}",isAppLaunch:"false",isRoute:"false"},e&&(r.perfInfo=e.perfInfo||"",r.isAppLaunch=e.isAppLaunch,r.isRoute=e.isRoute),R&&(r=Object.assign({},r,{wx_version:ct()})),t.t0=At({plugin:De(),needTranslate:"false",category:"PERF_PAGE_LOAD"}),t.t1=et(),t.t2=C(),t.t3=Bt(),t.next=11,Z();case 11:t.t4=t.sent,t.t5=X(),t.t6=-1,t.t7=JSON.stringify(r),t.t8={id:t.t1,time:t.t2,page_id:t.t3,net_type:t.t4,net_op:t.t5,battery_level:t.t6,service_data:t.t7},t.t9=[t.t8],n={meta:t.t0,data:t.t9},M(n={config:{headers:{"Content-Type":"application/x-www-form-urlencoded"},isEncrypt:!1,dataLength:1,plugin:De(),method:"POST",isQAPM:!0},data:n}),ze={on_load:{start_time:0,end_time:0},on_ready:{start_time:0,end_time:0},on_show:{start_time:0,end_time:0},on_hide:{start_time:0,end_time:0},on_unload:{start_time:0,end_time:0}},Ke=[];case 22:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Xe(){R?Ye():(function(){function t(t,e){var r=t[e];return!("function"!=typeof r||!/native code/.test(r.toString()))&&function(){var t=r.apply(this,arguments),n=null;return"function"==typeof Event?n=new Event(e):(n=document.createEvent("HTMLEvents")).initEvent(e,!1,!0),window.dispatchEvent(n),t}}history.pushState=t(history,"pushState")||history.pushState,history.replaceState=t(history,"replaceState")||history.replaceState,["load","replaceState","pushState","popstate","pagehide"].forEach((function(t){window.addEventListener(t,(function(){return Je(t)}))}))}(),"complete"===document.readyState?Je("load"):window.addEventListener("load",(function(){Je("load")})))}function Qe(t){if(""!==t.id&&t.id)return'id("'.concat(t.id,'")');if(t===document.body)return t.tagName;if(t===document)return"document";var e=0;if(t.parentNode)for(var r=t.parentNode.childNodes,n=0;n<r.length;n++){var i=r[n];if(i===t)return"".concat(Qe(t.parentNode),"/").concat(t.tagName,"[").concat(e+1,"]");1===i.nodeType&&i.tagName===t.tagName&&e++}}var $e=function(t){var e="",r=t.nodeType;if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)e+=getText(t)}else if(3===r||4===r)return t.nodeValue;return e},tr={tap:1,longpress:2};function er(){var t=this&&this.global&&this.global.Page||Page;try{var e=this&&this.global&&this.global.Page||Page;Page=function(t){var r,i,a;return r="Page",a=function(t){var e,r;1!=(arguments.length<=1?0:arguments.length-1)?o.info("args.length!==1"):(r=arguments.length<=1?void 0:arguments[1],"object"===n()(r)&&null!==r&&r.type&&r.target&&r.timeStamp&&tr[r.type]&&(o.log("Page, ui action in,",t,r.type),e=r.touches[0],r={op:tr[r.type],view_pos:"",view_type:"",view_tag:t,view_text:"",view_desc:"",view_super:"",page:Bt(),page_id:Pt(),data:{p0:"".concat(parseInt(e.clientX)||-1,",").concat(parseInt(e.clientY)||-1),p1:"".concat(parseInt(e.pageX)||-1,",").concat(parseInt(e.pageY)||-1)}},o.info("click event",r),qt(r)))},(i=t)&&Object.keys(i).filter((function(t){return c(i[t])})).forEach((function(t){var e=i[t];i[t]=function(){try{a.apply(this,[t].concat(Array.prototype.slice.call(arguments)))}catch(e){fe.error("hookAllMethods, exec hook method ".concat(t," of obj ").concat(r," raise exception"),e)}if(e)return e.apply(this,arguments)}})),e.apply(this,arguments)}}catch(e){this&&this.global&&this.global.Page?qapmGlobal.Page=t:Page=t,o.info("hook page error",e)}}function rr(t,e,r){function n(t){var e=document.documentElement;e&&r.call(e,t,t.target)}var i=!(3<arguments.length&&void 0!==arguments[3])||arguments[3];t.addEventListener(e,n,i)}function nr(t){n=window.qapmIgnoreClasses?arrayToMap(window.qapmIgnoreClasses):_t.ignoreClasses;var e=(n={ignoreIds:window.qapmIgnoreIds?arrayToMap(window.qapmIgnoreIds):_t.ignoreIds,ignoreClasses:n,ignoreTag:"QAPM_IGNORE"}).ignoreClasses,r=n.ignoreIds,n=n.ignoreTag,i=!(0===r.size&&0===e.size),a=t,s=p(t.getAttribute("id")," "),u=p(t.getAttribute("class"," ")),h="";if(s.includes(n)||u.includes(n))return o.info(h,n,t),1;for(var c=0,l=!1;a&&i&&a.getAttribute;){if(l)return 1;if(10<=c)break;s=p(a.getAttribute("id")," "),u=p(a.getAttribute("class"," ")),s.map((function(e){r.includes(e)&&(o.info(h,r,t,a),l=!0)})),u.map((function(r){e.includes(r)&&(o.info(h,e,t,a),l=!0)})),c++,a=a.parentNode||a.parentElement}}function ir(){var t,e={click:1,longpress:2};for(t in e)rr(document,t,(function(t,r){var n,i;o.info("click or longpress event",t),r&&(t=e[t.type])&&!nr(r)&&(n=Qe(r),i=$e(r).replace(/^\s+|\s+$/g,""),r=r.getBoundingClientRect&&r.getBoundingClientRect()||{},qt({op:t,view_pos:"",view_type:"",view_tag:n,view_text:i.slice(0,127),view_desc:"",view_super:"",page:rt(),page_id:nt(),tags:{},data:{p0:"".concat(parseInt(r.left)||-1,",").concat(parseInt(r.top)||-1),p1:"".concat(parseInt(r.left+window.scrollX)||-1,",").concat(parseInt(r.top+window.scrollY)||-1)}}))}),!0)}function or(){(R?er:ir)()}function ar(){R?R.onMemoryWarning((function(t){Ft({category:"PERF_MEMORY_WARN",tags:{d1:Bt(),d2:t&&t.level&&t.level.toString()||""}})})):performance&&performance.memory&&setInterval((function(){Ft({category:"PERF_MEMORY_USED",tags:{d1:nt(),d2:Q(),d3:$(),d4:H()},values:{v1:performance.memory.jsHeapSizeLimit,v2:performance.memory.totalJSHeapSize,v3:performance.memory.usedJSHeapSize}})}),1e4)}function sr(){"use strict";sr=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},o=(g="function"==typeof Symbol?Symbol:{}).iterator||"@@iterator",a=g.asyncIterator||"@@asyncIterator",s=g.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(e){u=function(t,e,r){return t[e]=r}}function h(t,e,r,n){var o,a,s,u;e=e&&e.prototype instanceof f?e:f,e=Object.create(e.prototype),n=new E(n||[]);return i(e,"_invoke",{value:(o=t,a=r,s=n,u="suspendedStart",function(t,e){if("executing"===u)throw new Error("Generator is already running");if("completed"===u){if("throw"===t)throw e;return{value:void 0,done:!0}}for(s.method=t,s.arg=e;;){var r=s.delegate;if(r&&(r=function t(e,r){var n=r.method,i=e.iterator[n];return void 0===i?(r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=void 0,t(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),l):"throw"===(n=c(i,e.iterator,r.arg)).type?(r.method="throw",r.arg=n.arg,r.delegate=null,l):(i=n.arg)?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,l):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,l)}(r,s))){if(r===l)continue;return r}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if("suspendedStart"===u)throw u="completed",s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);if(u="executing","normal"===(r=c(o,a,s)).type){if(u=s.done?"completed":"suspendedYield",r.arg===l)continue;return{value:r.arg,done:s.done}}"throw"===r.type&&(u="completed",s.method="throw",s.arg=r.arg)}})}),e}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=h;var l={};function f(){}function p(){}function d(){}var g,y,m=((y=(y=(u(g={},o,(function(){return this})),Object.getPrototypeOf))&&y(y(M([]))))&&y!==e&&r.call(y,o)&&(g=y),d.prototype=f.prototype=Object.create(g));function v(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){var o;i(this,"_invoke",{value:function(i,a){function s(){return new e((function(o,s){!function i(o,a,s,u){var h;if("throw"!==(o=c(t[o],t,a)).type)return(a=(h=o.arg).value)&&"object"==n()(a)&&r.call(a,"__await")?e.resolve(a.__await).then((function(t){i("next",t,s,u)}),(function(t){i("throw",t,s,u)})):e.resolve(a).then((function(t){h.value=t,s(h)}),(function(t){return i("throw",t,s,u)}));u(o.arg)}(i,a,o,s)}))}return o=o?o.then(s,s):s()}})}function b(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(b,this),this.reset(!0)}function M(t){if(t){var e,n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return e=-1,(n=function n(){for(;++e<t.length;)if(r.call(t,e))return n.value=t[e],n.done=!1,n;return n.value=void 0,n.done=!0,n}).next=n}return{next:S}}function S(){return{value:void 0,done:!0}}return i(m,"constructor",{value:p.prototype=d,configurable:!0}),i(d,"constructor",{value:p,configurable:!0}),p.displayName=u(d,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){return!!(t="function"==typeof t&&t.constructor)&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,s,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},v(w.prototype),u(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new w(h(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},v(m),u(m,s,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e,r=Object(t),n=[];for(e in r)n.push(e);return n.reverse(),function t(){for(;n.length;){var e=n.pop();if(e in r)return t.value=e,t.done=!1,t}return t.done=!0,t}},t.values=M,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;0<=i;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;0<=n;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}var a=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc?null:o)?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),_(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r,n,i=this.tryEntries[e];if(i.tryLoc===t)return"throw"===(r=i.completion).type&&(n=r.arg,_(i)),n}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:M(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}var ur={},hr=function(){if(o.info("isWebview",I()),"ios"===I())try{window.qapmBaseInfo=window.qapmBaseInfo||{},ur.user_id=window.qapmBaseInfo.userId,ur.device_id=window.qapmBaseInfo.deviceId,ur.app_key=window.qapmBaseInfo.appKey,ur.version=window.qapmBaseInfo.version,ur.qapm_base_url=window.qapmBaseInfo.qapmUrl,ur.athena_base_url=window.qapmBaseInfo.athenaUrl,ur.bread_crumb_buckets=window.qapmBaseInfo.breadCrumbBuckets,ur.model=window.qapmBaseInfo.model||"",ur.os=window.qapmBaseInfo.os||"",ur.osVer=window.qapmBaseInfo.osVer||"",ur.isRoot=window.qapmBaseInfo.isRoot||"",ur.arch=window.qapmBaseInfo.arch||xt,ur.distribute_channel=window.qapmBaseInfo.channelInstall||xt,ur.logLevel=window.qapmBaseInfo.logLevel,ur.build_id=window.qapmBaseInfo.buildId||"",ur.switch=window.qapmBaseInfo.switch,ur.ubsConfig=window.qapmBaseInfo.ubsConfig,ur.usrConfig=window.qapmBaseInfo.usrConfig,ur.webLaunchConfig=window.qapmBaseInfo.webLaunchConfig,ur.jserrorConfig=window.qapmBaseInfo.jsErrorConfig,ur.networkConfig=window.qapmBaseInfo.networkConfig,ur.net_op=window.qapmBaseInfo.netOp||"",ur.net_type=window.qapmBaseInfo.netType||"",ur.brand=window.qapmBaseInfo.brand||"",ur.channel_install=window.qapmBaseInfo.channelInstall||"",ur.channel_open=window.qapmBaseInfo.channelOpen||"",ur.billingId=window.qapmBaseInfo.billingId||"",ur.isReleasePackage="true"===window.qapmBaseInfo.isReleasePackage}catch(t){o.error(t.toString())}if("android"===I())try{function t(t){try{var e=window.QAPMAndroidJsBridge;if(e[t])return e[t]()}catch(t){o.info(t)}}ur.user_id=t("getUin"),ur.device_id=t("getDeviceId"),ur.app_key=t("getAppkey"),ur.version=t("getVersion"),ur.qapm_base_url=t("getQAPMUrl"),ur.athena_base_url=t("getAthenaUrl"),ur.bread_crumb_buckets=t("getBreadCrumbBuckets"),ur.model=t("getModel")||"",ur.os=t("getOS")||"",ur.osVer=t("getOSVer")||"",ur.isRoot=t("isRoot")||"",ur.arch=t("getArch")||"",ur.distribute_channel=t("getDistributeChannel")||xt,ur.logLevel=t("getLogLevel"),ur.build_id=t("getBuildId")||"",ur.switch=t("getSwitch"),ur.ubsConfig=t("getUbsConfig"),ur.usrConfig=t("getUsrConfig"),ur.webLaunchConfig=t("getWebLaunchConfig"),ur.jserrorConfig=t("getJsErrorConfig"),ur.networkConfig=t("getNetworkConfig"),ur.net_op=t("getNetOp")||"",ur.brand=t("getBrand")||"",ur.channel_open=t("getOpenChannel")||"",ur.channel_install=t("getInstallChannel")||"",ur.net_type=t("getNetType")||"",ur.billingId=t("getBillingId")||"",ur.isReleasePackage=t("isReleasePackage")||!1}catch(t){o.error(t.toString())}return ur},cr=function(t){var e,r,n,i,a,s,u,h;if(t)return I()&&(t=Object.assign({},t,hr()),o.info(t)),e=t.app_key.split("-")[1],r=t.version,n=t.user_id,i=t.appconfig_base_url,a=t.athena_base_url,s=t.qapm_base_url,u=t.device_id||F(),h=t.build_id||ot(h=t.app_key+r,8)+"-"+ot(h,4)+"-4"+ot(h,3)+"-a"+ot(h,6).slice(0,3)+"-"+ot(h,12),mr("logLevel",t.logLevel),mr("app_key",t.app_key),mr("app_id",e),mr("version",r),mr("user_id",n),mr("device_id",u),mr("build_id",h),mr("appconfig_base_url",i),mr("athena_base_url",a),mr("qapm_base_url",s),mr("netType",t.net_type),mr("netOp",t.net_op),mr("model",t.model),mr("getPageId",t.getPageId),mr("allEventCallback",t.allEventCallback),mr("channelInstall",t.channel_install),mr("channelOpen",t.challel_open),mr("brand",t.brand),mr("os",t.os),mr("osVer",t.osVer),mr("isRoot",t.isRoot),mr("arch",t.arch),mr("distribute_channel",t.distribute_channel),mr("excludeUrlReg",t.excludeUrlReg||window&&window.qapmExcludeUrlReg),mr("excludeUrlRegList",t.excludeUrlRegList||window&&window.qapmExcludeUrlRegList),mr("domLengthThreshold",t.domLengthThreshold),mr("collectReqBody",t.collectReqBody||!1),mr("collectRespBody",t.collectRespBody||!1),mr("allowHeaders",t.allowHeaders||[]),mr("billingId",t.billingId||function(){try{var t=y.readItem("QAPM_BILLING_ID");return t||(t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})),y.setItem("QAPM_BILLING_ID",t)),t}catch(t){return o.info(t),""}}()),mr("isReleasePackage",t.isReleasePackage||!1),I()&&(mr("switch",t.switch),mr("ubsConfig",t.ubsConfig),mr("usrConfig",t.usrConfig),mr("webLaunchConfig",t.webLaunchConfig),mr("jserrorConfig",t.jserrorConfig),mr("networkConfig",t.networkConfig)),t};function lr(){return fr.apply(this,arguments)}function fr(){return(fr=i()(sr().mark((function t(){var e,r,n,i,a,s,u,h,c,l=arguments;return sr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=0<l.length&&void 0!==l[0]?l[0]:ur,t.prev=1,e=cr(e),r={},I()){t.next=21;break}return n=e.app_key.split("-")[1],t.next=8,k(n);case 8:return n=t.sent,_t.pubkey=n,o.info("pubkey is ",n),t.next=13,b();case 13:return a=t.sent,_t.TOKEN=a,t.next=17,Re(e);case 17:r=t.sent,o.info("appconfig is",r),t.next=22;break;case 21:r={data:{ubs:Et.UBS,usr:Et.USR}};case 22:if(!1===(i=Ie(r)))return t.abrupt("return");t.next=25;break;case 25:if(e.debug)return le(),Ee(),Ae(),zt(),Xe(),ar(),Le(),or(),gr(),o.info("[1.8]debug open, web sdk start successSDK_VER: v".concat("5.2.9",", app_key is ").concat(e.app_key)),t.abrupt("return");t.next=37;break;case 37:o.info("function switch is",i),a=i.openUBS,s=i.openNetwork,u=i.openJsError,h=i.openLaunch,c=i.openPage,zt(),s&&le(),u&&Ee(),h&&(Ae(),gr()),a&&or(),c&&Xe(),o.info("[1.8]web sdk start successSDK_VER: v".concat("5.2.9",", app_key is ").concat(e.app_key)),t.next=51;break;case 48:t.prev=48,t.t0=t.catch(1),o.error(t.t0);case 51:case"end":return t.stop()}}),t,null,[[1,48]])})))).apply(this,arguments)}function pr(t){return dr.apply(this,arguments)}function dr(){return(dr=i()(sr().mark((function t(e){var r,n,i,a;return sr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=cr(e),o.info("qapmMiniSdkStart",e),s=void 0,s=Ce(),"{}"!==JSON.stringify(s)&&0===D(s=s.switch||0,Oe.PAGE)&&!e.debug||(Xe(),gr()),s=void 0,s=Ce(),"{}"!==JSON.stringify(s)&&0===D(s=s.switch||0,Oe.JSERROR)&&!e.debug||Ee(),e.debug&&or(),t.next=7,b();case 7:if(r=t.sent,_t.TOKEN=r,e.debug)return le(),zt(),gr(),o.info("[1.8]debug open, mini sdk start successSDK_VER: v".concat("5.2.9",", app_key is ").concat(e.app_key)),t.abrupt("return");t.next=15;break;case 15:return t.next=17,Re(e);case 17:if(r=t.sent,!1===(n=Ie(r)))return t.abrupt("return");t.next=21;break;case 21:return o.info("function switch is",n),i=n.openUBS,a=n.openNetwork,zt(),i&&or(),a&&le(),i=e.app_key.split("-")[1],t.next=29,k(i);case 29:a=t.sent,_t.pubkey=a,o.info("pubkey is ",a),o.info("[1.8]mini sdk start successv".concat("5.2.9",", app_key is ").concat(e.app_key));case 33:case"end":return t.stop()}var s}),t)})))).apply(this,arguments)}function gr(){Ft({category:"APP_LAUNCH",tags:{d1:R?ft():"",d2:xt,d3:"true"}})}function yr(t,e,r,n,i,o){Ct({category:t,action:e,label:r,value:n,tags:i,values:o})}function mr(t,e){if(o.info("qapmSetField",t,e),e){var r;if("appconfig_base_url"===t&&(St.appconfig=e),"qapm_base_url"===t&&(St.qapm=e),"athena_base_url"===t&&(St.athena=e),"app_key"===t&&(_t.app_key=e),"app_id"===t&&(_t.app_id=e),"user_id"===t&&(_t.user_id=e),"version"===t&&(_t.version=e),"device_id"===t&&(_t.device_id=e),"build_id"===t&&(_t.build_id=e),"exposeThreshold"===t&&(r=parseFloat(e))&&0<=r&&(_t.expose_threshold=r),"excludeUrlReg"===t&&_t.excludeUrlReg.push(e),"excludeUrlRegList"===t&&Array.isArray(e)&&(_t.excludeUrlReg=_t.excludeUrlReg.concat(e)),"exposeAreaThreshold"===t&&(r=parseFloat(e))&&0<=r&&r<=1&&(_t.expose_area_threshold=r),"domLengthThreshold"===t&&(r=parseInt(e))&&0<=r&&(_t.domLengthThreshold=r),"distribute_channel"===t&&(_t.distribute_channel=e),"model"===t&&(_t.model=e),"arch"===t&&(_t.arch=e),"debug"===t&&(_t.debug=e),"buckets"===t&&(_t.buckets=e),"bucket"===t&&(_t.bucket=e),"netOp"===t&&(_t.netOp=e),"netType"===t&&(_t.netType=e),"brand"===t&&(_t.brand=e),"os"===t&&(_t.os=e),"osVer"===t&&(_t.osVer=e),"isRoot"===t&&(_t.isRoot=e),"logLevel"===t)for(var n in o.levelMap)if(o.levelMap[n]===e)return void(o.logLevel=n);"channelInstall"===t&&(_t.channel_install=e),"channelOpen"===t&&(_t.channel_open=e),"allEventCallback"===t&&("function"==typeof e?_t[t]=e:o.info("error ","".concat(e," is not a function"))),"ignoreIds"===t&&e instanceof Array&&(r=st(e),_t.ignoreIds=r),"ignoreClassess"===t&&e instanceof Array&&(r=st(e),_t.ignoreClasses=r),"getPageId"===t&&("function"==typeof e?_t.getPageId=e:o.info("getPageId ",e," is not function, please transfer a function")),"switch"===t&&(Et.SWITCH=e),"ubsConfig"===t&&(Et.UBS="string"==typeof e?JSON.parse(e):e),"usrConfig"===t&&(Et.USR="string"==typeof e?JSON.parse(e):e),"webLaunchConfig"===t&&(Et.LAUNCH="string"==typeof e?JSON.parse(e):e),"jserrorConfig"===t&&(Et.JSERROR="string"==typeof e?JSON.parse(e):e),"networkConfig"===t&&(Et.NETWORK="string"==typeof e?JSON.parse(e):e),"collectReqBody"===t&&(_t.collectReqBody=e),"collectRespBody"===t&&(_t.collectRespBody=e),"allowHeaders"===t&&Array.isArray(e)&&(e.forEach((function(t,r){e[r]=t.toLowerCase()})),_t.allowHeaders=e),"billingId"===t&&(_t.billingId=e),"isReleasePackage"===t&&(_t.isReleasePackage=e),"option"===t&&(_t.option=e||{})}else o.info("value is empty, sdk will not set value",t,e)}function vr(t,e){"MpError"!==t&&"WebError"!==t&&"PromiseError"!==t||ve(t,e)}function wr(t,e,r){"start"===t&&Je("customPageChange",e,r),Ue.customState=t,o.info("custom set page id",void 0,e,r)}R||(window.QAPM={},window.QAPM.qapmWebSdkStart=lr,window.QAPM.qapmCustomTrack=yr,window.QAPM.customEvent=Ct,window.QAPM.qapmSetField=mr,window.QAPM.qapmCaptureException=vr,window.QAPM.setFMPEnd=function(){},window.QAPM.setPageState=wr)}],r={},t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var i in e)t.d(n,i,function(t){return e[t]}.bind(null,i));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},t.p="",t(t.s=58);function t(n){var i;return(r[n]||(i=r[n]={i:n,l:!1,exports:{}},e[n].call(i.exports,i,i.exports,t),i.l=!0,i)).exports}var e,r}));
//# sourceMappingURL=new.qapm.js.map